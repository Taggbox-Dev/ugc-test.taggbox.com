"use strict";(self.webpackChunkugc_suite_build=self.webpackChunkugc_suite_build||[]).push([[8976],{68976:function(e,t,n){n.r(t);var a=n(15671),o=n(43144),l=n(97326),s=n(60136),i=n(29388),c=n(72791),r=n(78687),u=n(9085),d=n(95316),m=n(46305),C=n(80377),p=n(46900),h=n(80184),b=function(e){(0,s.Z)(n,e);var t=(0,i.Z)(n);function n(e){var o;return(0,a.Z)(this,n),(o=t.call(this,e)).state={collectioName:null,isRequesting:!1},o.onClickCreate=function(e){return o.onEventCreate()},o.onEnterCreate=function(e){"Enter"===e.key&&o.onEventCreate()},o.onEventCreate=function(){var e=(0,l.Z)(o),t=o.props.collectionData,n=o.state.collectioName;if(o.setState({isRequesting:!0}),n&&String(n).trim().length>0){var a=u.Am.loading("Loading...");if(t&&Object.keys(t).length>0&&t.collectionList&&t.collectionList.length>0){var s=t.collectionList.filter((function(e){return String(e.name).trim().toLowerCase()==String(n).trim().toLowerCase()}));s&&s.length>0?(u.Am.update(a,{render:"Collection already exists.",type:"error",isLoading:!1,autoClose:3e3}),e.setState({isRequesting:!1})):o.onCreateLoad(a)}else o.onCreateLoad(a)}else u.Am.error("Please enter valid collection name."),e.setState({isRequesting:!1})},o.onCreateLoad=function(e){var t=(0,l.Z)(o),n=o.state.collectioName,a=o.props,s=a.updateUserData,i=a.updateCollectionList,c=a.userData;(0,m.BL)({name:n}).then((function(n){t.setState({isRequesting:!1}),u.Am.update(e,{render:"Collection has been successfully created.",type:"success",isLoading:!1,autoClose:3e3}),""!=c.collaborator&&""!=c.collaborator.permissions&&0!=c.collaborator.activeAccount&&s(),t.props.addCollectionCallbackWithAPI(!1),(0,m.M1)().then((function(e){var t=e.data.responseData;t&&Object.keys(t).length>0&&i({type:"COLLECTIONS",payload:{collection:t.collection,assetsCount:t.assets}})}))})).catch((function(n){var a=n.response.data;u.Am.update(e,{render:a.message,type:"error",isLoading:!1,autoClose:3e3}),t.setState({isRequesting:!1})}))},o.onChangeCollectionName=function(e){o.setState({collectioName:e.target.value})},o.handleClose=function(e){return o.setState({collectioName:""},(function(){return o.props.addCollectionCallback(!1)}))},o}return(0,o.Z)(n,[{key:"render",value:function(){var e=this.props.addCollectionModal,t=this.state,n=t.collectioName,a=t.isRequesting;return(0,h.jsxs)(d.Z,{show:e,onHide:this.handleClose,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,h.jsx)(d.Z.Header,{closeButton:!0,children:(0,h.jsx)(d.Z.Title,{children:"Create New Collection"})}),(0,h.jsx)(d.Z.Body,{children:(0,h.jsx)("div",{className:"mx-xl-4 px-2 px-lg-4 mx-0 pt-4",children:(0,h.jsxs)("div",{className:"row mb-4 mb-xl-5",children:[(0,h.jsx)("label",{className:"col-sm-3 text-muted mb-2",children:"Collection Name"}),(0,h.jsx)("div",{className:"col-sm-9",children:(0,h.jsx)("input",{type:"text",name:"company",className:"form-control",placeholder:"Enter collection name...",onChange:this.onChangeCollectionName,value:n,onKeyUp:this.onEnterCreate})})]})})}),(0,h.jsx)(d.Z.Footer,{className:"p-3",children:(0,h.jsxs)("div",{className:"mx-xl-4 px-2 px-lg-4 mx-0",children:[(0,h.jsx)("button",{type:"button",className:"btn btn-secondary btn-sm btn-min-w me-3",onClick:this.handleClose,children:"Cancel"}),(0,h.jsx)("button",{type:"button",className:"btn btn-primary btn-sm btn-min-w".concat(a?" spinner disabled":""),onClick:this.onClickCreate,children:"Create"})]})})]})}}]),n}(c.Component);t.default=(0,r.$j)((function(e){return{collectionData:e.collection,userData:e.authenticated.userData}}),(function(e){return{updateUserData:function(){return(0,p.gS)(e)},updateCollectionList:function(t){return e((0,C.p)(t))}}}))(b)}}]);
//# sourceMappingURL=8976.9e2468a6.chunk.js.map