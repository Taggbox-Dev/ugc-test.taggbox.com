"use strict";(self.webpackChunkugc_suite_build=self.webpackChunkugc_suite_build||[]).push([[4462],{24462:function(e,t,s){s.r(t);var a=s(1413),i=s(15671),l=s(43144),n=s(60136),o=s(29388),r=s(72791),c=s(78687),d=s(55353),m=s(71035),u=s(11087),h=s(56600),p=s(23794),x=s(32174),b=s(46900),g=s(46305),f=s(12756),y=s(88890),j=s.n(y),k=s(21830),v=s.n(k),N=s(94039),w=s(9085),S=s(35296),M=s(8663),C=s(80184),Z=r.lazy((function(){return s.e(9977).then(s.bind(s,89977))})),_=r.lazy((function(){return s.e(982).then(s.bind(s,20982))})),A=function(e){(0,n.Z)(s,e);var t=(0,o.Z)(s);function s(e){var a;((0,i.Z)(this,s),(a=t.call(this,e)).setMode=function(e){document.getElementsByTagName("html")[0].setAttribute("data-theme",e),a.props.uploadModalClick(a.state.editMediaShowModal),a.setState({appThemeSkin:e},(function(){return a.props.setAppThemeSkin(e)}))},a.setActiveWorkspace=function(e){var t=e&&e.hasOwnProperty("collaborator")&&""!=e.collaborator?e.collaborator.workplaces.filter((function(t){return t.id==e.collaborator.workspacesId})):null;a.setState({activeWorkspace:t})},a.editMediaHandleModalShow=function(){var e=a.props.userData;""!=e.collaborator&&""!=e.collaborator.permissions?e.collaborator.permissions.networkManager.manageConnection?a.setState({editMediaShowModal:!0}):v().fire({title:"Oops!",text:"It seems you're not currently authorized to use this module. Please reach out to your Administrator to request access.",icon:"error"}):a.setState({editMediaShowModal:!0})},a.editMediaHandleCallback=function(e){a.setState({editMediaShowModal:e}),a.props.uploadModalClick(!1)},a.onClickSignOut=function(e){a.setState({logOutSpinner:!0}),a.props.logOutUser()},a.collaboratorSwitcher=function(e){var t=w.Am.loading("Loading..."),s=a.props,i=s.setUserToken,l=s.setAuthentication;(0,N.gP)(e).then((function(e){var s=e.data.responseData;i(s.token),l(s),localStorage.setItem("access_token",s.token),1!=s.user.access&&localStorage.setItem("verify_email",!0),localStorage.setItem("user_data",JSON.stringify(s)),w.Am.update(t,{render:"Account switched successfully",type:"success",isLoading:!1,autoClose:3e3}),window.location.href="".concat(M.XP,"/home")})).catch((function(e){w.Am.update(t,{render:"Some error occured, please try again later.",type:"error",isLoading:!1,autoClose:3e3})}))},a.onEmailCopy=function(e){return function(t){return(0,x.U5)(e)}},a.state={isActiveAside:!1,appThemeSkin:e.cookies?e.cookies:"light",editMediaShowModal:!1,logOutSpinner:!1,activeWorkspace:null,userDetails:null},e.cookies)&&document.getElementsByTagName("html")[0].setAttribute("data-theme",e.cookies);return a}return(0,l.Z)(s,[{key:"componentDidMount",value:function(){this.setActiveWorkspace(this.props.userData)}},{key:"componentWillReceiveProps",value:function(e){e.uploadStatus!=this.state.editMediaShowModal&&(e.uploadStatus?this.setState({editMediaShowModal:!0}):(this.setState({editMediaShowModal:!1}),j()("#resetUppyUpload")&&j()(".uppy-Container").length>0&&j()("#resetUppyUpload").click()));JSON.stringify(e.userData)!=JSON.stringify(this.props.userData)&&this.setActiveWorkspace(e.userData)}},{key:"render",value:function(){var e=this,t=this.state,s=t.appThemeSkin,i=t.editMediaShowModal,l=t.logOutSpinner,n=t.activeWorkspace,o=this.props,c=o.userData,g=o.notificationList,y=o.history;return(0,C.jsxs)("div",{className:"header-menu d-flex align-items-center justify-content-end w-xs-100 h-100",children:[(0,C.jsxs)("div",{className:"d-flex align-items-center h-100 flex-shrink-0",children:[(0,C.jsxs)(d.Z,{id:"head_skin_",align:"end",className:"block-center position-relative head_skin_",children:[(0,C.jsxs)(d.Z.Toggle,{variant:"link",className:"btn btn-icon btn-active-light btn-active-color-primary p-0 text-decoration-none transition-none arrow_disabled",children:["light"===s?(0,C.jsx)("i",{className:"ri-sun-fill icon-6"}):null,"dark"===s?(0,C.jsx)("i",{className:"ri-moon-clear-fill icon-6"}):null,"system"===s?(0,C.jsx)("span",{className:"svg-icon me-0 text-dark",children:(0,C.jsx)(p.Z,{src:(0,h.F)("media/icons/svg-icons/computer-setting.svg"),height:16,width:16})}):null]}),(0,C.jsxs)(d.Z.Menu,{children:[(0,C.jsx)("div",{className:"menu-item",children:(0,C.jsxs)(d.Z.Item,{className:"".concat("light"===s?"active ":"","px-3 py-2"),onClick:function(){return e.setMode("light")},children:[(0,C.jsx)("i",{className:"ri-sun-fill icon-6 me-2 text-dark"}),(0,C.jsx)("span",{className:"menu-title",children:"Light"})]})}),(0,C.jsx)("div",{className:"menu-item",children:(0,C.jsxs)(d.Z.Item,{className:"".concat("dark"===s?"active ":"","px-3 py-2"),onClick:function(){return e.setMode("dark")},children:[(0,C.jsx)("i",{className:"ri-moon-clear-fill icon-6 me-2 text-dark"}),(0,C.jsx)("span",{className:"menu-title",children:"Dark"})]})}),(0,C.jsx)("div",{className:"menu-item",children:(0,C.jsxs)(d.Z.Item,{className:"".concat("system"===s?"active ":"","px-3 py-2"),onClick:function(){return e.setMode("system")},children:[(0,C.jsx)("span",{className:"svg-icon svg-icon-5",children:(0,C.jsx)(p.Z,{src:(0,h.F)("media/icons/svg-icons/computer-setting.svg"),height:16,width:16})}),(0,C.jsx)("span",{className:"menu-title",children:"System"})]})})]})]}),(0,C.jsx)("div",{className:"head_upload_ block-center border-end",children:(0,C.jsxs)("button",{type:"button",className:"btn btn-primary d-flex align-items-center ".concat(localStorage.getItem("expired")?"disabled":""),onClick:this.editMediaHandleModalShow,children:[(0,C.jsx)("span",{className:"svg-icon svg-icon-5 me-lg-2 me-0",children:(0,C.jsx)(p.Z,{src:(0,h.F)("media/icons/svg-icons/cloud-upload.svg")})}),(0,C.jsx)("span",{className:"d-lg-flex d-none fw-medium fs-8",children:"Upload"})]})}),(0,C.jsxs)(d.Z,{className:"block-center head_notifications_",align:"end",children:[(0,C.jsx)(d.Z.Toggle,{variant:"link",id:"head_notifications_",className:"btn btn-icon btn-active-light btn-active-color-primary text-decoration-none p-0 position-relative arrow_disabled",children:(0,C.jsxs)("span",{className:"d-flex align-items-center justify-content-center",children:[(0,C.jsx)("span",{className:"notifications_count bg-primary text-light-alt position-absolute rounded-circle",id:"notificationCount",style:{display:"none"},children:" 0"}),(0,C.jsx)("i",{className:"ri-notification-4-line icon-4"})]})}),(0,C.jsx)(d.Z.Menu,{className:"p-0",children:(0,C.jsx)(r.Suspense,{fallback:(0,C.jsx)(C.Fragment,{}),children:(0,C.jsx)(_,{notificationList:g})})})]}),(0,C.jsxs)(d.Z,{className:"block-center user_profile_",align:"end",autoClose:!0,children:[(0,C.jsx)(d.Z.Toggle,{variant:"link",id:"user_profile_",className:"btn author_profile p-0 border-0 text-decoration-none d-block rounded-circle overflow-hidden arrow_disabled",children:c&&Object.keys(c).length>0?(0,C.jsx)(f.default,{className:"symbol symbol-38 rounded-circle bg-light",imageSize:38,symbolClass:"symbol-label text-light-alt fw-bolder text-uppercase fs-5",name:c.user.name,profileUrl:(0,x.iW)(c.user.picture),networkId:0}):null}),c&&Object.keys(c).length>0?(0,C.jsxs)(d.Z.Menu,{className:"p-0",children:[(0,C.jsx)("div",{className:"d-flex align-items-start flex-column justify-content-between w-100 p-3 border-bottom",children:(0,C.jsxs)("div",{className:"d-flex align-items-start me-2",children:[(0,C.jsx)(u.rU,{to:"/profile",className:"text-decoration-none",children:(0,C.jsx)(f.default,{className:"symbol symbol-40 rounded-circle flex-shrink-0 me-2 overflow-hidden bg-light",imageSize:40,symbolClass:"symbol-label text-light-alt fw-bolder text-uppercase fs-5",name:c.user.name,profileUrl:(0,x.iW)(c.user.picture),networkId:0})}),(0,C.jsxs)("div",{className:"w-100",children:[(0,C.jsx)("p",{className:"text-dark mb-0",children:(0,C.jsx)(u.rU,{to:"/profile",className:"text-decoration-none",children:(0,C.jsx)("strong",{className:"fs-6 fw-bold text-break text-gray-800",children:c.user.name})})}),(0,C.jsx)("span",{className:"mb-0 text-gray-600 text-break fs-8 cursor-pointer",id:"headerProfileEmail",onClick:this.onEmailCopy("headerProfileEmail"),children:c.user.emailId}),c&&c.hasOwnProperty("collaborator")&&""!=c.collaborator&&c.collaborator.workplaces.length>0?(0,C.jsx)("div",{className:"w-100 mt-4",children:1==c.collaborator.workplaces.length&&null==c.UserPlan.createdAt?(0,C.jsx)(m.Z,{className:"py-2 px-3",bg:"light-primary",children:n&&n.length>0?n[0].Workspace.name:""}):(0,C.jsxs)(d.Z,{children:[(0,C.jsx)(d.Z.Toggle,{variant:"secondary",className:"d-flex align-items-center border-0 w-100 justify-content-between fs-9 bg-light-primary",children:c&&c.hasOwnProperty("collaborator")&&0==c.collaborator.activeAccount?"My WorkSpace":n&&n.length>0?n[0].Workspace.name:""}),(0,C.jsxs)(d.Z.Menu,{className:"w-100",style:{minWidth:"auto",minHeight:"auto"},children:[c&&c.hasOwnProperty("collaborator")&&c.collaborator.workplaces.map((function(t,s){return(0,C.jsx)(d.Z.Item,{className:"workspace_item",onClick:function(){return e.collaboratorSwitcher(t.id)},children:t.Workspace.name},s)})),c&&null!=c.UserPlan.createdAt?(0,C.jsx)(d.Z.Item,{className:"workspace_item",onClick:function(){return e.collaboratorSwitcher(0)},children:"My Workspace"},c.collaborator.workplaces.length+1):null]})]})}):null]})]})}),(0,C.jsxs)("div",{className:"px-5 mb-3",children:[localStorage.getItem("isAdmin")?(0,C.jsxs)(d.Z.Item,{className:"navi-item px-0 py-2 py-xxl-3 border-bottom dropdown-item rounded-0",onClick:function(e){return(0,b.Qr)()},children:[(0,C.jsx)("div",{className:"symbol symbol-40 bg-light me-3",children:(0,C.jsx)("div",{className:"symbol-label",children:(0,C.jsx)("i",{className:"ri-logout-circle-r-line icon-6 me-0 text-warning"})})}),(0,C.jsx)("div",{className:"navi-text",children:(0,C.jsx)("div",{className:"fs-7 fw-semibold mb-0 text-warning",children:"Back To Admin"})})]}):null,c&&c.hasOwnProperty("collaborator")&&(""==c.collaborator||""==c.collaborator.permissions)?(0,C.jsxs)(d.Z.Item,{className:"navi-item px-0 py-2 py-xxl-3 border-bottom dropdown-item rounded-0",onClick:function(e){return y("/collaborator")},children:[(0,C.jsx)("div",{className:"symbol symbol-40 bg-light me-3",children:(0,C.jsx)("div",{className:"symbol-label text-dark",children:(0,C.jsx)("i",{className:"ri-shake-hands-line icon-6 me-0"})})}),(0,C.jsxs)("div",{className:"navi-text",children:[(0,C.jsx)("div",{className:"fs-7 fw-semibold mb-1",children:"Collaborator"}),(0,C.jsx)("div",{className:"text-gray-600 fs-8",children:"Collaborate with your team."})]})]}):null,(0,C.jsxs)(d.Z.Item,{className:"navi-item px-0 py-2 py-xxl-3 border-bottom dropdown-item rounded-0",onClick:function(e){return y("/profile")},children:[(0,C.jsx)("div",{className:"symbol symbol-40 bg-light me-3",children:(0,C.jsx)("div",{className:"symbol-label text-dark",children:(0,C.jsx)("i",{className:"ri-user-3-line icon-6 me-0"})})}),(0,C.jsxs)("div",{className:"navi-text",children:[(0,C.jsx)("div",{className:"fs-7 fw-semibold mb-1",children:"My Profile"}),(0,C.jsx)("div",{className:"text-gray-600 fs-8",children:"View/Edit your personal information."})]})]}),null!=c.UserPlan.createdAt?(0,C.jsxs)(d.Z.Item,{className:"navi-item px-0 py-2 py-xxl-3 border-bottom dropdown-item rounded-0",onClick:function(e){return y("/billing")},children:[(0,C.jsx)("div",{className:"symbol symbol-40 bg-light me-3",children:(0,C.jsx)("div",{className:"symbol-label text-dark",children:(0,C.jsx)("i",{className:"ri-contacts-line icon-6 me-0"})})}),(0,C.jsxs)("div",{className:"navi-text",children:[(0,C.jsx)("div",{className:"fs-7 fw-semibold mb-1",children:"My Account"}),(0,C.jsx)("div",{className:"text-gray-600 fs-8",children:"Account information and plan details"})]})]}):null,(0,C.jsxs)("button",{type:"button",onClick:this.onClickSignOut,className:"navi-item px-0 py-2 py-xxl-3 dropdown-item rounded-0 ".concat(l?"disabled":""),children:[(0,C.jsx)("div",{className:"symbol symbol-40 bg-light me-3",children:(0,C.jsx)("div",{className:"symbol-label ".concat(l?"text-gray-500":"text-dark"),children:(0,C.jsx)("i",{className:"ri-logout-circle-r-line icon-6 me-0"})})}),(0,C.jsx)("div",{className:"navi-text",children:(0,C.jsx)("div",{className:"fs-7 fw-semibold mb-1 ".concat(l?"spinner spinner-gray text-gray-500":""),children:"Sign Out"})})]})]})]}):null]})]}),(0,C.jsx)(r.Suspense,{fallback:(0,C.jsx)(C.Fragment,{}),children:i?(0,C.jsx)(Z,(0,a.Z)({editMediaHandleCallback:this.editMediaHandleCallback,editMediaToggle:i},this.props)):null})]})}}]),s}(r.Component);t.default=(0,c.$j)((function(e){return{userData:e.authenticated.userData,uploadStatus:e.modalstatus.uploadStatus,notificationList:e.notifications.notificationList}}),(function(e){return{logOutUser:function(){return e((0,b.ne)())},uploadModalClick:function(t){return e((0,g.lN)(t))},setUserToken:function(t){return e({type:S.G$,payload:t})},setAuthentication:function(t){return e({type:S.mJ,payload:t})}}}))(A)}}]);
//# sourceMappingURL=4462.7f2a74b0.chunk.js.map