"use strict";(self.webpackChunkugc_suite_build=self.webpackChunkugc_suite_build||[]).push([[383],{50383:function(t,e,n){n.r(e),n.d(e,{default:function(){return X}});var i=n(72791),r=n(32480),s=n(15671),o=n(43144),a=n(60136),c=n(29388);var h=n(37762),l=n(29439),u=function(t){return self.PointerEvent&&t instanceof PointerEvent},d=function(){},v=function(t,e){return e?Math.sqrt(Math.pow(e.clientX-t.clientX,2)+Math.pow(e.clientY-t.clientY,2)):0},f=function(t,e){return e?{clientX:(t.clientX+e.clientX)/2,clientY:(t.clientY+e.clientY)/2}:t},m=function(t,e){return"number"===typeof t?t:t.trimRight().endsWith("%")?e*parseFloat(t)/100:parseFloat(t)},p=function(t,e){return e?"".concat(t," ").concat(e):t},_=(0,o.Z)((function t(e){(0,s.Z)(this,t),this.id=-1,this.pageX=e.pageX,this.pageY=e.pageY,this.clientX=e.clientX,this.clientY=e.clientY,self.Touch&&e instanceof Touch?this.id=e.identifier:u(e)&&(this.id=e.pointerId)})),g=function(){function t(e,n){(0,s.Z)(this,t);var i=n.start,r=void 0===i?function(){return!0}:i,o=n.move,a=void 0===o?d:o,c=n.end,h=void 0===c?d:c;this.e=e,this.startPointers=[],this.currentPointers=[],this._startCallback=r,this._moveCallback=a,this._endCallback=h,this._pointerStart=this._pointerStart.bind(this),this._touchStart=this._touchStart.bind(this),this._move=this._move.bind(this),this._triggerPointerEnd=this._triggerPointerEnd.bind(this),this._pointerEnd=this._pointerEnd.bind(this),this._touchEnd=this._touchEnd.bind(this),self.PointerEvent?this.e.addEventListener("pointerdown",this._pointerStart):(this.e.addEventListener("mousedown",this._pointerStart),this.e.addEventListener("touchstart",this._touchStart),this.e.addEventListener("touchmove",this._move),this.e.addEventListener("touchend",this._touchEnd))}return(0,o.Z)(t,[{key:"unsubscribe",value:function(){var t=this;[["mousedown",this._pointerStart],["pointerdown",this._pointerStart],["pointermove",this._move],["pointerup",this._pointerEnd],["touchend",this._touchEnd],["touchmove",this._move],["touchstart",this._touchStart],["mousemove",this._move],["mouseup",this._pointerEnd]].forEach((function(e){var n=(0,l.Z)(e,2),i=n[0],r=n[1];t.e.removeEventListener(i,r)}))}},{key:"_triggerPointerStart",value:function(t,e){return!!this._startCallback(t,e)&&(this.currentPointers.push(t),this.startPointers.push(t),!0)}},{key:"_pointerStart",value:function(t){0===t.button&&this._triggerPointerStart(new _(t),t)&&(u(t)?(this.e.setPointerCapture(t.pointerId),this.e.addEventListener("pointermove",this._move),this.e.addEventListener("pointerup",this._pointerEnd)):(this.e.addEventListener("mousemove",this._move),this.e.addEventListener("mouseup",this._pointerEnd)))}},{key:"_touchStart",value:function(t){for(var e=0,n=Array.from(t.changedTouches);e<n.length;e++){var i=n[e];this._triggerPointerStart(new _(i),t)}}},{key:"_move",value:function(t){var e,n=this,i=this.currentPointers.slice(),r="changedTouches"in t?Array.from(t.changedTouches).map((function(t){return new _(t)})):[new _(t)],s=[],o=(0,h.Z)(r);try{var a=function(){var t=e.value,i=n.currentPointers.findIndex((function(e){return e.id===t.id}));if(-1===i)return"continue";s.push(t),n.currentPointers[i]=t};for(o.s();!(e=o.n()).done;)a()}catch(c){o.e(c)}finally{o.f()}0!==s.length&&this._moveCallback(i,s,t)}},{key:"_triggerPointerEnd",value:function(t,e){var n=this.currentPointers.findIndex((function(e){return e.id===t.id}));return-1!==n&&(this.currentPointers.splice(n,1),this.startPointers.splice(n,1),this._endCallback(t,e),!0)}},{key:"_pointerEnd",value:function(t){if(this._triggerPointerEnd(new _(t),t))if(u(t)){if(this.currentPointers.length>0)return;this.e.removeEventListener("pointermove",this._move),this.e.removeEventListener("pointerup",this._pointerEnd)}else this.e.removeEventListener("mousemove",this._move),this.e.removeEventListener("mouseup",this._pointerEnd)}},{key:"_touchEnd",value:function(t){for(var e=0,n=Array.from(t.changedTouches);e<n.length;e++){var i=n[e];this._triggerPointerEnd(new _(i),t)}}}]),t}(),y=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.createElementNS("http://www.w3.org/2000/svg","svg");return{createMatrix:function(){return t.createSVGMatrix()},createPoint:function(){return t.createSVGPoint()}}},E="mur_skdsdfnm",x="amur_klndasd",b=".".concat(E,"{display:block;overflow:hidden;touch-action:none}.").concat(x,"{transform:translate(var(--x,0),var(--y,0)) scale3d(var(--scale,1));transform:translate3d(var(--x,0),var(--y,0),0) scale3d(var(--scale,1),var(--scale,1),1);transform-origin:0 0;will-change:transform}\n"),P=document.createElement("style");P.appendChild(document.createTextNode(b)),document.getElementsByTagName("head")[0].appendChild(P);var k=function(t){(0,a.Z)(n,t);var e=(0,c.Z)(n);function n(){var t;return(0,s.Z)(this,n),(t=e.apply(this,arguments))._root=(0,i.createRef)(),t._svg=y(),t._transform=t._svg.createMatrix(),t._unsubscribe=function(){},t._onWheel=function(e){e.preventDefault();var n=t.childBoundingClientRect,i=e.ctrlKey,r=e.deltaMode,s=e.deltaY;1===r&&(s*=15);var o=1-s/(i?100:300);t._applyChange({scaleDiff:o,originX:e.clientX-n.left,originY:e.clientY-n.top})},t}return(0,o.Z)(n,[{key:"x",get:function(){return this._transform.e}},{key:"y",get:function(){return this._transform.f}},{key:"scale",get:function(){return this._transform.a}},{key:"rootBoundingClientRect",get:function(){return this._root.current.getBoundingClientRect()}},{key:"childBoundingClientRect",get:function(){return this._root.current.children[0].getBoundingClientRect()}},{key:"componentDidMount",value:function(){var t=this,e=this._root.current,n=new g(e,{start:function(t,e){return 2!==n.currentPointers.length&&(e.preventDefault(),!0)},move:function(e){t._onPointerMove(e,n.currentPointers)}});e.addEventListener("wheel",this._onWheel),this._unsubscribe=function(){e.removeEventListener("wheel",t._onWheel),n.unsubscribe()}}},{key:"componentWillUnmount",value:function(){this._unsubscribe()}},{key:"render",value:function(){var t=this.props,e=t.children,n=t.Container,r=void 0===n?"div":n,s=(t.onTransform,function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n}(t,["children","Container","onTransform"])),o=i.Children.only(e);return i.createElement(r,Object.assign({},s,{ref:this._root,className:p(E,s.className)}),(0,i.cloneElement)(o,{className:p(x,o.props.className)}))}},{key:"setTransform",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.scale,n=void 0===e?this.scale:e,i=t.x,r=void 0===i?this.x:i,s=t.y,o=void 0===s?this.y:s,a=this.rootBoundingClientRect,c=this.childBoundingClientRect;if(!a.width||!a.height)return this._updateTransform(n,r,o);var h=this._svg.createPoint();h.x=c.left-a.left,h.y=c.top-a.top;var l=this._svg.createPoint();l.x=c.width+h.x,l.y=c.height+h.y;var u=this._svg.createMatrix().translate(r,o).scale(n).multiply(this._transform.inverse());return h=h.matrixTransform(u),l=l.matrixTransform(u),h.x>a.width?r+=a.width-h.x:l.x<0&&(r+=-l.x),h.y>a.height?o+=a.height-h.y:l.y<0&&(o+=-l.y),this._updateTransform(n,r,o)}},{key:"_updateTransform",value:function(t,e,n){var i=this.props,r=i.minScale,s=void 0===r?.1:r,o=i.onTransform;t<s||t===this.scale&&e===this.x&&n===this.y||(this._transform.e=e,this._transform.f=n,this._transform.d=this._transform.a=t,o({x:this.x,y:this.y,scale:this.scale}))}},{key:"_onPointerMove",value:function(t,e){var n=this.childBoundingClientRect,i=f(t[0],t[1]),r=f(e[0],e[1]),s=i.clientX-n.left,o=i.clientY-n.top,a=v(t[0],t[1]),c=v(e[0],e[1]),h=a?c/a:1;this._applyChange({originX:s,originY:o,scaleDiff:h,panX:r.clientX-i.clientX,panY:r.clientY-i.clientY})}},{key:"_applyChange",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.panX,n=void 0===e?0:e,i=t.panY,r=void 0===i?0:i,s=t.originX,o=void 0===s?0:s,a=t.originY,c=void 0===a?0:a,h=t.scaleDiff,l=void 0===h?1:h,u=this._svg.createMatrix().translate(n,r).translate(o,c).translate(this.x,this.y).scale(l).translate(-o,-c).scale(this.scale);this.setTransform({x:u.e,y:u.f,scale:u.a})}},{key:"scaleTo",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.originX,i=void 0===n?0:n,r=e.originY,s=void 0===r?0:r,o=e.relativeTo,a=void 0===o?"content":o,c="content"===a,h=c?this.childBoundingClientRect:this.rootBoundingClientRect;if(i=m(i,h.width),s=m(s,h.height),c)i+=this.x,s+=this.y;else{var l=this.childBoundingClientRect;i-=l.left,s-=l.top}this._applyChange({originX:i,originY:s,scaleDiff:t/this.scale})}}]),n}(i.Component),w=k,C=n(56600),S=n(80184),T=i.lazy((function(){return Promise.resolve().then(n.bind(n,94194))})),Y=i.lazy((function(){return n.e(4911).then(n.bind(n,34911))})),X=function(t){var e=(0,i.useRef)(null),n=(0,i.useCallback)((function(t){var n=t.x,i=t.y,r=t.scale;!function(t,e){var n=e.x,i=e.y,r=e.scale;t&&(t.style.setProperty("--x",n+"px"),t.style.setProperty("--y",i+"px"),t.style.setProperty("--scale",r+""))}(e.current,{x:n,y:i,scale:r})}),[]),s=t.networkData.filter((function(e){return e.id==t.modalAssetData.networkId}));return(0,S.jsx)("div",{className:"assets_modal_img_outer",children:(0,S.jsx)("div",{className:"assets_modal_img_wrapper",children:2==t.modalAssetData.type||4==t.modalAssetData.type?(0,S.jsx)(w,{onTransform:n,children:(0,S.jsx)("img",{ref:e,className:"assets_modal_media__",src:t.modalAssetData.postFile,height:200,width:1200,alt:(0,r.P)(t.modalAssetData.postFile),onError:function(t){t.target.src=(0,C.F)("media/images/error/image.svg")}})}):1==t.modalAssetData.type?(0,S.jsx)(T,{asset:t.modalAssetData,animation:"fade",socialNetwork:s},"post_image".concat(t.modalAssetData.id)):3==t.modalAssetData.type||5==t.modalAssetData.type?(0,S.jsx)(Y,{data:t.modalAssetData}):null})})}}}]);
//# sourceMappingURL=383.26392fe2.chunk.js.map