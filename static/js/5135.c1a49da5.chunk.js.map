{"version":3,"file":"static/js/5135.c1a49da5.chunk.js","mappings":"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","sources":["Layouts/Main/Templates/TemplateAside/Components/Elements/Background.js"],"sourcesContent":["import React, { Component, Suspense } from 'react';\nimport { Accordion, OverlayTrigger, Tooltip } from 'react-bootstrap';\nimport $ from 'jquery';\nimport { Uppy } from \"@uppy/core\";\nimport Transloadit from \"@uppy/transloadit\";\nimport GoogleDrive from '@uppy/google-drive';\nimport Url from '@uppy/url';\nimport { DashboardModal } from '@uppy/react';\nconst ColorPicker = React.lazy(() => import('../../../../CommonComponents/ColorPicker'));\n\nconst uppyConfig = {\n    uppyKey: '0701d3d7f8d94e92a65a9cba388b1d96',\n    uppyBucket: 'cloud.taggbox.com',\n    uppyAwsKey: '47ABVORKG52UYE1KB28S',\n    uppyAwsSecret: 'pcaTfeokaz28geAAns08H3yaGbOVz6ILgTptu19v',\n    companionUrl: 'https://test.taggbox.com'\n}\nclass Background extends Component {\n    constructor(props) {\n        super(props)\n        this.uppy = new Uppy({ debug: true, autoProceed: false, restrictions: { maxFileSize: 5000000, maxNumberOfFiles: 1, minNumberOfFiles: 1, allowedFileTypes: ['image/*'] } })\n            .use(Transloadit, {\n                target: '#a',\n                params: {\n                    auth: {\n                        key: uppyConfig.uppyKey\n                    },\n                    steps: {\n                        store: {\n                            robot: \"/wasabi/store\",\n                            bucket_region: \"us-west-1\",\n                            bucket: uppyConfig.uppyBucket,\n                            key: uppyConfig.uppyAwsKey,\n                            secret: uppyConfig.uppyAwsSecret,\n                            path: 'postimage/${file.id}'\n                        }\n                    }\n                },\n                waitForEncoding: true\n            })\n            .use(GoogleDrive, { target: Uppy.Dashboard, companionUrl: uppyConfig.companionUrl })\n            .use(Url, { target: Uppy.Dashboard, companionUrl: uppyConfig.companionUrl })\n    }\n    state = {\n        backgroundModal: false\n    }\n    componentDidMount() {\n        var self = this;\n        this.uppy.on('transloadit:result', (stepName, result) => {\n            self.props.onClickTouploadImage(`https://cloud.taggbox.com/postimage/${result.id}`, result.id, () => {\n                setTimeout(() => {\n                    this.uppy.cancelAll()\n                    this.uppy.removeFile()\n                    this.setState({ backgroundModal: false })\n                }, 300)\n            })\n        })\n    }\n    onBackgroundClose = event => {\n        this.uppy.cancelAll()\n        this.uppy.removeFile()\n        this.setState({ backgroundModal: false })\n    }\n    onBackgroundOpen = event => {\n        this.setState({ backgroundModal: true }, () => {\n            $(\".uppy-Dashboard-close\").click(() => {\n                this.uppy.cancelAll()\n                this.uppy.removeFile()\n                this.setState({ backgroundModal: false })\n            })\n        })\n    }\n    render() {\n        const { onClickEnableBackground, onClickBackgroundColor, background, backgroundImageRemove } = this.props\n        const { backgroundModal } = this.state\n        return <>\n\n            <Accordion.Item eventKey=\"2\" className=\"pb-3\">\n                <Accordion.Header className=\"w-100\">\n                    <span className=\"fs-9 fw-medium\">Background</span>\n                </Accordion.Header>\n                <Accordion.Body className=\"border rounded-1 mt-1 p-2\">\n                    <label className={`form-check form-switch py-2 align-items-center justify-content-between ${background.status ? `border-bottom` : ``} h-40px py-1`}>\n                        <span className=\"form-check-label ps-0 fs-9 fw-medium text-gray-800\">Enable Background</span>\n                        <input className=\"form-check-input\" type=\"checkbox\" name=\"autoplayVideos\" checked={background.status} onChange={onClickEnableBackground} />\n                    </label>\n                    {\n                        background.status ? <><label className=\"d-flex align-items-center justify-content-between border-bottom h-40px py-1 position-relative\">\n                            <span className=\"ms-0 fs-9 fw-medium\">Background Color</span>\n                            <Suspense fallback={<></>}>\n                                <ColorPicker color={background.color} onChangeColor={onClickBackgroundColor} />\n                            </Suspense>\n                        </label>\n                            <div className=\"d-flex align-items-start justify-content-between flex-column py-1\">\n                                <p className=\"fs-9 fw-medium text-start mt-2\">Upload Background Image</p>\n                                <button type=\"button\" className=\"btn btn-secondary btn-sm w-100 mb-2\" onClick={this.onBackgroundOpen}>Attach Image</button>\n                                {background.image ? <div className=\"card card-custom w-100 rounded-1\">\n                                    <div className=\"card-body d-flex flex-column p-1\">\n                                        <div className=\"position-relative d-flex align-items-center cursor-pointer\">\n                                            <div className=\"position-relative rounded-1 bg-light overflow-hidden w-100\" style={{ paddingBottom: '66%' }}>\n                                                <img className=\"object-center-contain position-absolute\" loading=\"lazy\" src={background.image} height={500} width={300} alt={'suit'} />\n                                            </div>\n                                            <div className=\"removeBanner position-absolute end-0 top-0 pt-2 pe-2\">\n                                                <div className=\"d-flex align-items-center justify-content-end\">\n                                                    <OverlayTrigger placement=\"top\" overlay={<Tooltip id=\"button-tooltip-2\">Edit</Tooltip>}>\n                                                        <button type=\"button\" className=\"btn btn-icon btn-secondary h-26px w-26px me-2\" onClick={this.onBackgroundOpen}>\n                                                            <span className=\"svg-icon svg-icon-6 me-0\">\n                                                                <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" width=\"24\" height=\"24\">\n                                                                    <path fill=\"none\" d=\"M0 0h24v24H0z\" />\n                                                                    <path d=\"M16.757 3l-2 2H5v14h14V9.243l2-2V20a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h12.757zm3.728-.9L21.9 3.516l-9.192 9.192-1.412.003-.002-1.417L20.485 2.1z\" fill=\"currentColor\" />\n                                                                </svg>\n                                                            </span>\n                                                        </button>\n                                                    </OverlayTrigger>\n                                                    <OverlayTrigger placement=\"top\" overlay={<Tooltip id=\"button-tooltip-2\">Remove</Tooltip>}>\n                                                        <button type=\"button\" className=\"btn btn-icon btn-secondary h-26px w-26px\" onClick={backgroundImageRemove}>\n                                                            <span className=\"svg-icon svg-icon-6 me-0\">\n                                                                <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" width=\"24\" height=\"24\">\n                                                                    <path fill=\"none\" d=\"M0 0h24v24H0z\" />\n                                                                    <path d=\"M7 4V2h10v2h5v2h-2v15a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V6H2V4h5zM6 6v14h12V6H6zm3 3h2v8H9V9zm4 0h2v8h-2V9z\" fill=\"currentColor\" />\n                                                                </svg>\n                                                            </span>\n                                                        </button>\n                                                    </OverlayTrigger>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div> : null}\n                            </div></> : null\n                    }\n\n                </Accordion.Body>\n            </Accordion.Item>\n            {\n                backgroundModal ? <DashboardModal\n                    animateOpenClose={true}\n                    proudlyDisplayPoweredByUppy={false}\n                    inline={false}\n                    showProgressDetails={true}\n                    height={750}\n                    browserBackButtonClose={true}\n                    showRemoveButtonAfterComplete={false}\n                    uppy={this.uppy}\n                    open={true}\n                    onRequestCloseModal={this.onBackgroundClose}\n                    closeAfterFinish={true}\n                    plugins={[]}\n                /> : null\n            }\n        </>\n    }\n\n}\nexport default Background"],"names":["ColorPicker","React","uppyConfig","Background","props","state","backgroundModal","onBackgroundClose","event","uppy","cancelAll","removeFile","setState","onBackgroundOpen","$","click","Uppy","debug","autoProceed","restrictions","maxFileSize","maxNumberOfFiles","minNumberOfFiles","allowedFileTypes","use","Transloadit","target","params","auth","key","steps","store","robot","bucket_region","bucket","secret","path","waitForEncoding","GoogleDrive","companionUrl","Url","self","this","on","stepName","result","onClickTouploadImage","id","setTimeout","onClickEnableBackground","onClickBackgroundColor","background","backgroundImageRemove","eventKey","className","status","type","name","checked","onChange","Suspense","fallback","color","onChangeColor","onClick","image","style","paddingBottom","loading","src","height","width","alt","placement","overlay","xmlns","viewBox","fill","d","animateOpenClose","proudlyDisplayPoweredByUppy","inline","showProgressDetails","browserBackButtonClose","showRemoveButtonAfterComplete","open","onRequestCloseModal","closeAfterFinish","plugins","Component"],"sourceRoot":""}