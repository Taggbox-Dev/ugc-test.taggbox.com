"use strict";(self.webpackChunkugc_suite_build=self.webpackChunkugc_suite_build||[]).push([[6490],{76490:function(e,t,n){n.r(t);var a=n(15671),s=n(43144),o=n(97326),i=n(60136),l=n(29388),r=n(1413),m=n(72791),c=n(9085),d=n(28949),p=n(92719),h=n(67839),u=n(57420),g=n(77616),_=n(44478),S=n(56600),f=n(22460),x=n(80426),b=n(41342),j=n(49339),y=n(13062),k=n(27064),v=n(8903),T=n(79098),U=n(9299),C=n(22141),F=n(53446),D=n(71801),N=n(80184),I=m.lazy((function(){return n.e(8059).then(n.bind(n,18059))})),Z=m.lazy((function(){return n.e(6459).then(n.bind(n,96459))})),w=m.lazy((function(){return n.e(7685).then(n.bind(n,87685))})),P=m.lazy((function(){return n.e(4559).then(n.bind(n,84559))})),O=function(e){var t=e.themeName,n=e.templateFormData,a=e.onClickToPopUp;switch(t){case 20:default:return(0,N.jsx)(y.Z,(0,r.Z)((0,r.Z)({themeId:t},n),{},{onClickToPopUp:a}));case 4:return(0,N.jsx)(j.Z,(0,r.Z)((0,r.Z)({themeId:t},n),{},{onClickToPopUp:a}));case 47:return(0,N.jsx)(k.Z,(0,r.Z)((0,r.Z)({themeId:t},n),{},{onClickToPopUp:a}));case 21:return(0,N.jsx)(v.Z,(0,r.Z)((0,r.Z)({themeId:t},n),{},{onClickToPopUp:a}));case 44:return(0,N.jsx)(T.Z,(0,r.Z)((0,r.Z)({themeId:t},n),{},{onClickToPopUp:a}));case 50:return(0,N.jsx)(U.Z,(0,r.Z)((0,r.Z)({themeId:t},n),{},{onClickToPopUp:a}));case 58:return(0,N.jsx)(C.Z,(0,r.Z)((0,r.Z)({themeId:t},n),{},{onClickToPopUp:a}))}},A=function(e){(0,i.Z)(n,e);var t=(0,l.Z)(n);function n(e){var s;return(0,a.Z)(this,n),(s=t.call(this,e)).onChooseTheme=function(e,t){return function(n){s.setState({selectedTheme:e,selectedThemeData:t,popupData:null})}},s.onTextTemplateName=function(e){s.setState({templateName:e.target.value,tempError:!1})},s.tempFormData=function(e){s.setState({templateFormData:e})},s.onClickSaveChanges=function(e){var t=s.state,n=t.templateFormData,a=t.templateName,i=t.selectedThemeData,l=s.props.onSiteSetting;if(n&&Object.keys(n).length>0&&String(a).length>0){var r=(0,o.Z)(s),m={network:l.network,filter:l.filter,moderation:l.moderation,onsite_qr_code_btn_text:n.onSiteUpload.buttonText,onsite_btn_color:n.onSiteUpload.bgColor,onsite_btn_txt_color:n.onSiteUpload.textColor,onsite_link_font_btn:n.onSiteUpload.fontFamily?n.onSiteUpload.fontFamily.family:l.onsite_link_font_btn,onsite_txt_font:n.onSiteUpload.fontFamily?n.onSiteUpload.fontFamily.family:"",onsite_txt_font_variation:n.onSiteUpload.fontVarient?n.onSiteUpload.fontVarient.value:"",onsite_txt_font_size:n.onSiteUpload.fontSize,onsite_txt_color:n.onSiteUpload.textColor,onsite_css_font_btn:n.onSiteUpload.fontFamily?n.onSiteUpload.fontFamily.family:l.onsite_css_font_btn,onsite_font_varient_btn:n.onSiteUpload.fontVarient?n.onSiteUpload.fontVarient.value:l.onsite_font_varient_btn,btn_fontSize:n.onSiteUpload.fontSize,onsite_qr_code_status:n.onSiteUpload.qrCodeStatus,onsite_button_status:n.onSiteUpload.buttonStatus,onsite_popup_title:l.onsite_popup_title,onsite_popup_sub_heading:l.onsite_popup_sub_heading,onsite_term_url:l.onsite_term_url,onsiteImgBack:l.onsiteImgBack,onsite_logo:l.onsite_logo,Onsite_logoImageValue:l.Onsite_logoImageValue,onsite_bg_color_wg:l.onsite_bg_color_wg,onsiteBackImage:l.onsiteBackImage,onsite_bg_image_wg:l.onsite_bg_image_wg,Onsite_backImageValue:l.Onsite_backImageValue,onsite_succ_msg:l.onsite_succ_msg,onsite_thank_txt_color:l.onsite_thank_txt_color,onsite_link_font_msg:l.onsite_link_font_msg,onsite_css_font_msg:l.onsite_css_font_msg,onsite_font_varient_msg:l.onsite_font_varient_msg,onsite_thank_fontSize:l.onsite_thank_fontSize,onsite_status:l.onsite_status,btn_radius:n.onSiteUpload.borderRadius,onsite_overlay_poisition:n.onSiteUpload.onsite_overlay_poisition?n.onSiteUpload.onsite_overlay_poisition:1},d={ctaStatus:n.cta&&n.cta.ctaStatus?1:0,ctaTextColor:n.cta?n.cta.ctaTextColor:"",ctaButtonColor:n.cta?n.cta.ctaButtonColor:"",buttonText:n.cta?n.cta.buttonText:"",buttonUrl:n.cta?n.cta.buttonUrl:""},p={action:1,name:a,theme:i.themeId,cssStatus:n.customCss.cssStatus?1:0,css:n.customCss.css,backgroundColor:n.background.status?n.background.color:"",transparent:n.background.transparent?1:0,backgroundImage:n.background.image?n.background.image:"",backgroundImageId:0,link_font:n.cardStyle.fontFamily?n.cardStyle.fontFamily.family:"",css_font:n.cardStyle.fontFamily?n.cardStyle.fontFamily.family:"",font_varient:n.cardStyle.fontVarient&&Object.keys(n.cardStyle.fontVarient).length>0?n.cardStyle.fontVarient.value:"",fontColor:n.cardStyle.textColor,cardColor:n.cardStyle.cardColor,postText:0,postAuthor:n.advanced.author?1:0,postTime:n.advanced.time?1:0,postFeatured:n.themeSettings.postPopUp?n.themeSettings.postPopUp.value:0,minimumPostWidth:n.themeSettings.minPostWitdh,padding:n.themeSettings.postPadding,scrollDelay:n.themeSettings.scrollSpeed,slideDelay:n.themeSettings.timePerSlide,numberOfPosts:n.themeSettings.numberOfPosts,trimcontent:n.themeSettings.trimContent?1:0,playFullVideo:1,randomizePost:n.themeSettings.suffleAssets?1:0,hideUrls:n.themeSettings.hideUrls?1:0,fitRow:n.themeSettings.bestFit?1:0,roundEdge:5,cardType:1,socialAction:n.advanced.socialActions?1:0,timeForPopup:n.themeSettings.popUpduration,authorColor:n.cardStyle.authorColor,iconType:n.cardStyle.iconType?1:505,iconColor:n.cardStyle.socialIconColor,fontSize:parseInt(n.cardStyle.fontSize),shareOption:n.advanced.shareOptions?1:0,hideContent:n.advanced.hideContent?1:0,numberOfCoumn:n.themeSettings.columns&&Object.keys(n.themeSettings.columns).length>0?n.themeSettings.columns.value:0,slideDuration:0,slidePost:0,autoPlay:0,popupSlideShow:n.themeSettings.popupSlideShow?1:0,customUrl:n.themeSettings.popUpUrl&&String(n.themeSettings.popUpUrl).length>0?n.themeSettings.popUpUrl:"",showHideOldPost:n.themeSettings.hideOldAssets.range&&8==n.themeSettings.hideOldAssets.range.value?new Date(n.themeSettings.hideOldAssets.showHideOldPost).getTime():0,showHideOlderPost:n.themeSettings.hideOldAssets.range?n.themeSettings.hideOldAssets.range.value:0,loadMoreStatus:n.themeSettings.showmore?1:0,autoScrollStatus:n.themeSettings.autoLoad?1:0,hidePosts:n.themeSettings.hideOldAssets.status?1:0,onsite_settings:JSON.stringify(m),ctaData:JSON.stringify(d)};s.setState({isRequesting:!0,tempError:!1}),(0,D.Mn)(p).then((function(e){r.setState({isRequesting:!1,tempError:!1}),c.Am.success("New template has been successfully created."),r.props.history("/template")})).catch((function(e){if(e.response){r.setState({isRequesting:!1,tempError:!1});var t=e.response.data;c.Am.error(t.message,{autoClose:2e3})}}))}else 0==String(a).length&&s.setState({tempError:!0}),c.Am.error("Please check all required fields.")},s.onClickToPopUp=function(e,t){t?s.setState({popupData:e},(function(){return t()})):s.setState({popupData:e})},s.onClosePopUp=function(e){return s.setState({popupData:null})},s.state={templateName:"",selectedTheme:e.defaultTheme?{name:e.defaultTheme.name,themeId:e.defaultTheme.themeId}:{},selectedThemeData:e.defaultTheme?e.defaultTheme:null,templateFormData:null,isRequesting:!1,tempError:!1,popupData:null},s}return(0,s.Z)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.themeList,a=t.fonts,s=t.onSiteSetting,o=this.state,i=o.selectedTheme,l=o.selectedThemeData,r=o.templateName,c=o.templateFormData,j=o.isRequesting,y=o.tempError,k=o.popupData,v=[4,20,47,50];return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(F.Z,{fonts:a}),(0,N.jsx)("div",{className:"innerAside flex-shrink-0 mb-3 mb-lg-0",children:(0,N.jsx)("div",{className:"card mb-4",children:(0,N.jsxs)("div",{className:"card-body p-0",children:[(0,N.jsxs)("div",{className:"p-3",children:[(0,N.jsxs)("div",{className:"pb-3",children:[(0,N.jsxs)("label",{className:"text-gray-800 mb-2",children:["Template Name ",(0,N.jsx)("strong",{className:"text-danger",children:"*"})]}),(0,N.jsxs)("div",{className:"",children:[(0,N.jsx)("input",{type:"text",name:"templateName",className:"form-control form-control-sm ".concat(y?"is-invalid":""),placeholder:"Enter Template name...",onChange:this.onTextTemplateName,value:r}),y?(0,N.jsx)("div",{className:"invalid-feedback",children:"Please provide template name"}):null]})]}),(0,N.jsxs)("div",{className:"template_aside_inner",children:[(0,N.jsx)(d.Z,{defaultActiveKey:"1",children:(0,N.jsxs)(d.Z.Item,{eventKey:"1",className:"pb-3",children:[(0,N.jsx)(d.Z.Header,{className:"w-100",children:(0,N.jsx)("span",{className:"fs-9 fw-medium",children:i&&i.name?i.name:"Choose Theme"})}),(0,N.jsx)(d.Z.Body,{className:"border rounded-1 mt-1",children:(0,N.jsx)(p.Z,{type:"radio",className:"flex-column w-100",name:"themeName",defaultValue:4,children:n.map((function(t,n){return(0,N.jsx)(h.Z,{variant:"outline-secondary",id:"theme-".concat(t.themeId),className:"bg-white mb-2 ".concat((t.themeId,i.themeId,"")),onClick:e.onChooseTheme({name:t.name,themeId:t.themeId},t),value:t.themeId,children:(0,N.jsxs)("div",{className:"d-flex align-items-center",children:[(0,N.jsx)("div",{className:"symbol symbol-40 flex-shrink-0 me-2 text-gray-400",children:(0,N.jsx)("img",{className:"img-fluid",src:(0,S.F)("media/images/themes/".concat(t.themeId,".png")),height:"40",width:"40",alt:t.name})}),(0,N.jsxs)("div",{className:"overflow-hidden",children:[(0,N.jsx)("p",{className:"fs-8 fw-semibold mb-1 text-gray-dark text-ellipsis text-start",children:t.name}),(0,N.jsx)("p",{className:"fs-9 fw-medium mb-0 text-gray-600 text-ellipsis text-start",children:1==t.product_type?"Widget":2==t.product_type?"Display":""})]})]})},"theme_".concat(n))}))})})]})}),i&&Object.keys(i).length>0?(0,N.jsx)(N.Fragment,{children:4==i.themeId?(0,N.jsx)(m.Suspense,{fallback:(0,N.jsx)(N.Fragment,{}),children:(0,N.jsx)(Z,{selectedThemeData:l,tempFormData:this.tempFormData,fonts:a,selectedTheme:i,onSiteSetting:s})}):21==i.themeId?(0,N.jsx)(m.Suspense,{fallback:(0,N.jsx)(N.Fragment,{}),children:(0,N.jsx)(x.Z,{selectedThemeData:l,tempFormData:this.tempFormData,fonts:a,selectedTheme:i,onSiteSetting:s})}):20==i.themeId?(0,N.jsx)(m.Suspense,{fallback:(0,N.jsx)(N.Fragment,{}),children:(0,N.jsx)(I,{selectedThemeData:l,tempFormData:this.tempFormData,fonts:a,selectedTheme:i,onSiteSetting:s})}):44==i.themeId?(0,N.jsx)(m.Suspense,{fallback:(0,N.jsx)(N.Fragment,{}),children:(0,N.jsx)(b.Z,{selectedThemeData:l,tempFormData:this.tempFormData,fonts:a,selectedTheme:i,onSiteSetting:s})}):50==i.themeId?(0,N.jsx)(m.Suspense,{fallback:(0,N.jsx)(N.Fragment,{}),children:(0,N.jsx)(P,{selectedThemeData:l,tempFormData:this.tempFormData,fonts:a,selectedTheme:i,onSiteSetting:s})}):47==i.themeId?(0,N.jsx)(m.Suspense,{fallback:(0,N.jsx)(N.Fragment,{}),children:(0,N.jsx)(w,{selectedThemeData:l,tempFormData:this.tempFormData,fonts:a,selectedTheme:i,onSiteSetting:s})}):58==i.themeId?(0,N.jsx)(m.Suspense,{fallback:(0,N.jsx)(N.Fragment,{}),children:(0,N.jsx)(f.Z,{selectedThemeData:l,tempFormData:this.tempFormData,fonts:a,selectedTheme:i,onSiteSetting:s})}):null}):null]})]}),(0,N.jsx)("div",{className:"bg-white pt-2 w-100 p-3 rounded-2",children:(0,N.jsx)("button",{type:"button",className:"btn btn-primary w-100 ".concat(j?"spinner":""),onClick:i?this.onClickSaveChanges:null,children:"Save Changes"})})]})})}),(0,N.jsx)("div",{className:"d-flex flex-column overflow-hidden w-100",children:(0,N.jsx)("div",{className:"card",children:(0,N.jsx)("div",{className:"card-body content_wrapper",id:"themePreview",children:(0,N.jsxs)("div",{className:"tb_app_container",children:[c&&Object.keys(c).length>0?(0,N.jsxs)("div",{className:"tb_app_wrapper",children:[v.includes(i.themeId)?(0,N.jsx)(u.Z,{onSiteUpload:this.state.templateFormData.onSiteUpload}):null,(0,N.jsx)(O,{themeName:i.themeId,templateFormData:this.state.templateFormData,onClickToPopUp:this.onClickToPopUp}),[21,44,58].includes(i.themeId)?(0,N.jsx)(g.Z,{onSiteUpload:this.state.templateFormData.onSiteUpload}):null]},i.themeId):null,k?(0,N.jsx)(_.Z,{data:k,onClosePopUp:this.onClosePopUp,templateFormData:this.state.templateFormData,isWidget:v.includes(i.themeId)}):null]})})})})]})}}]),n}(m.Component);t.default=A}}]);
//# sourceMappingURL=6490.bfc05cec.chunk.js.map