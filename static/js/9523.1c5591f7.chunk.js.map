{"version":3,"file":"static/js/9523.1c5591f7.chunk.js","mappings":"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","sources":["Services/Actions/invoiceActions.js","Layouts/Main/Billing/Components/Invoice.js"],"sourcesContent":["import HttpClient from \"../http-client\";\nimport { INVOICE_LIST, INVOICE_DONWLOAD } from '../Api'\nimport axios from \"axios\";\n\n\nexport const getInvoiceList = () => {\n    return new HttpClient().get(INVOICE_LIST)\n}\n\nexport const invoiceDownload = (invoiceId) => {\n    return axios.get(`${INVOICE_DONWLOAD}/${invoiceId}`, { responseType: 'arraybuffer', headers: { 'Accept': 'application/pdf' } })\n}\n\n\n\n","import React, { Component, Suspense } from 'react';\nimport { OverlayTrigger, Tooltip, Table } from 'react-bootstrap';\nimport moment from 'moment';\nimport SVG from 'react-inlinesvg';\nimport { baseUrl } from '../../../../Assets/AssetsHelper';\nimport { saveAs } from 'file-saver';\nimport { getInvoiceList, invoiceDownload } from '../../../../Services/Actions/invoiceActions'\nimport { InnerLoader } from '../../CommonComponents/InnerLoader';\nconst ViewInvoice = React.lazy(() => import('./Elements/ViewInvoice'));\nconst NoInvoiceFound = React.lazy(() => import('./Elements/NoInvoiceFound'));\n\nclass Invoice extends Component {\n    constructor(props) {\n        super(props);\n    }\n    state = {\n        viewInvoice: false,\n        viewInvoiceData: null,\n        invoiceDownload: 0,\n        invoiceList: [],\n        invoiceRequest: true,\n        invoiceDownloadRequest: false,\n        invoicePrintRequest: false\n    };\n    componentDidMount() {\n        this.onLoadInvoice()\n    }\n\n    viewInvoice = (data) => event => {\n        this.setState({\n            viewInvoice: true,\n            viewInvoiceData: data\n        })\n    }\n    viewInvoiceCallback = (dataEvent) => {\n        this.setState({\n            viewInvoice: dataEvent,\n            viewInvoiceData: null\n        })\n    }\n\n    clickToInvoiceDownload = (id) => event => {\n        this.setState({\n            invoiceDownload: 1\n        })\n        var self = this;\n        invoiceDownload(id).then((response) => {\n            self.setState({\n                invoiceDownload: 2\n            })\n            const file = new Blob([response.data], { type: 'application/pdf' });\n            saveAs(file, `${id}.pdf`);\n            setTimeout(() => {\n                self.setState({\n                    invoiceDownload: 0\n                })\n            }, 3000);\n        })\n\n\n    }\n\n    downloadInvoice = (id) => event => {\n        this.setState({\n            invoiceDownloadRequest: true\n        })\n        var self = this;\n        invoiceDownload(id).then((response) => {\n            const file = new Blob([response.data], { type: 'application/pdf' });\n            saveAs(file, `${id}.pdf`);\n            setTimeout(() => {\n                self.setState({\n                    invoiceDownloadRequest: false\n                })\n            }, 3000);\n        })\n\n\n    }\n    printInvoice = (id) => event => {\n        this.setState({\n            invoicePrintRequest: true\n        })\n        var self = this;\n        invoiceDownload(id).then((response) => {\n            const file = new Blob([response.data], { type: 'application/pdf' });\n            const fileURL = URL.createObjectURL(file);\n            window.open(fileURL, '_blank');\n            setTimeout(() => {\n                self.setState({\n                    invoicePrintRequest: false\n                })\n            }, 3000);\n\n        })\n\n\n    }\n    onLoadInvoice = () => {\n        var self = this;\n        getInvoiceList().then((responseData) => {\n            const { response } = responseData.data\n            self.setState({ invoiceList: response, invoiceRequest: false })\n        })\n    }\n\n\n    render() {\n        const { viewInvoice, invoiceDownload, invoiceList, invoiceRequest, viewInvoiceData, invoiceDownloadRequest, invoicePrintRequest } = this.state;\n        return <div className=\"\">\n            <div className=\"mt-xxl-3 mt-2\">\n                <h3 className=\"fs-6 text-gray-800\">Invoice</h3>\n            </div>\n            <div className=\"card mb-5\">\n                <div className=\"card-body p-lg-4 p-3\" style={{ minHeight: 'calc(100vh - 400px)' }}>\n                    {\n                        invoiceRequest ? <InnerLoader /> : invoiceList && invoiceList.length > 0 ? <Table responsive className=\"mb-0\">\n                            <thead>\n                                <tr>\n                                    <th className=\"p-lg-4 p-sm-3 p-2\">Date</th>\n                                    <th className=\"p-lg-4 p-sm-3 p-2\">Invoice Id</th>\n                                    <th className=\"p-lg-4 p-sm-3 p-2\">Plan</th>\n                                    <th className=\"p-lg-4 p-sm-3 p-2\">Amount</th>\n                                    <th className=\"p-lg-4 p-sm-3 p-2\">Status</th>\n                                    <th className=\"text-end p-lg-4 p-sm-3 p-2\" align=\"right\">Action</th>\n                                </tr>\n                            </thead>\n                            <tbody>\n                                {\n                                    invoiceList.map((invoiceItem, invoiceIndex) => {\n                                        return <tr className=\"align-middle\" key={invoiceIndex}>\n                                            <td className=\"p-lg-4 p-sm-3 p-2 text-nowrap\">{moment(invoiceItem.invoiceDate).format(\"DD MMM YYYY\")}</td>\n                                            <td className=\"p-lg-4 p-sm-3 p-2 text-nowrap\">{invoiceItem.invoiceId}</td>\n                                            <td className=\"p-lg-4 p-sm-3 p-2 text-nowrap\">{invoiceItem.plan}</td>\n                                            <td className=\"p-lg-4 p-sm-3 p-2 text-nowrap\">{invoiceItem.invoiceView.currencyValue}{invoiceItem.invoiceView.amountValue}</td>\n                                            <td className=\"p-lg-4 p-sm-3 p-2 text-nowrap\">\n                                                <span className=\"badge badge-light-success\">Paid</span>\n                                            </td>\n                                            <td className=\"p-lg-4 p-sm-3 p-2 text-nowrap text-end\">\n                                                <OverlayTrigger placement=\"top\" overlay={<Tooltip>View</Tooltip>}>\n                                                    <button type=\"button\" className=\"btn btn-icon btn-active-light p-0 w-34px h-34px border-0 me-2\" onClick={this.viewInvoice(invoiceItem)}>\n                                                        <i className=\"ri-eye-line icon-5\"></i>\n                                                    </button>\n                                                </OverlayTrigger>\n                                                {invoiceDownload === 0 ?\n                                                    <OverlayTrigger placement=\"top\" overlay={<Tooltip>Download</Tooltip>}>\n                                                        <button type=\"button\" className=\"btn btn-icon btn-active-light p-0 w-34px h-34px border-0\" onClick={this.clickToInvoiceDownload(invoiceItem.invoiceId)}>\n                                                            <i className=\"ri-download-2-line icon-5\"></i>\n                                                        </button>\n                                                    </OverlayTrigger>\n                                                    : invoiceDownload === 1 ?\n                                                        <OverlayTrigger placement=\"top\" overlay={<Tooltip>Downloading</Tooltip>}>\n                                                            <button type=\"button\" className=\"btn btn-icon btn-active-light p-0 w-34px h-34px border-0\">\n                                                                <div className=\"spinner spinner-dark spinner-sm position-relative me-2\"></div>\n                                                            </button>\n                                                        </OverlayTrigger>\n                                                        : invoiceDownload === 2 ?\n                                                            <OverlayTrigger placement=\"top\" overlay={<Tooltip>Success</Tooltip>}>\n                                                                <button type=\"button\" className=\"btn btn-icon btn-active-light p-0 w-34px h-34px border-0\">\n                                                                    <i className=\"ri-check-fill icon-5 text-success\"></i>\n                                                                </button>\n                                                            </OverlayTrigger>\n                                                            : null}\n                                            </td>\n                                        </tr>\n                                    })\n                                }\n                            </tbody>\n                        </Table> : <Suspense fallback={<></>}>\n                            <NoInvoiceFound />\n                        </Suspense>\n                    }\n\n\n                </div>\n            </div>\n            {viewInvoiceData ? <Suspense fallback={<></>}>\n                <ViewInvoice viewInvoiceCallback={this.viewInvoiceCallback} modalToggle={viewInvoice} viewInvoiceData={viewInvoiceData} clickToInvoiceDownload={this.downloadInvoice} printInvoice={this.printInvoice} invoiceDownloadRequest={invoiceDownloadRequest} invoicePrintRequest={invoicePrintRequest} />\n            </Suspense> : null}\n        </div>\n    }\n}\n\nexport default Invoice;"],"names":["invoiceDownload","invoiceId","axios","INVOICE_DONWLOAD","responseType","headers","ViewInvoice","React","NoInvoiceFound","Invoice","props","state","viewInvoice","viewInvoiceData","invoiceList","invoiceRequest","invoiceDownloadRequest","invoicePrintRequest","data","event","setState","viewInvoiceCallback","dataEvent","clickToInvoiceDownload","id","self","then","response","file","Blob","type","saveAs","setTimeout","downloadInvoice","printInvoice","fileURL","URL","createObjectURL","window","open","onLoadInvoice","HttpClient","get","INVOICE_LIST","responseData","this","className","style","minHeight","InnerLoader","length","Table","responsive","align","map","invoiceItem","invoiceIndex","moment","invoiceDate","format","plan","invoiceView","currencyValue","amountValue","OverlayTrigger","placement","overlay","Tooltip","onClick","Suspense","fallback","modalToggle","Component"],"sourceRoot":""}