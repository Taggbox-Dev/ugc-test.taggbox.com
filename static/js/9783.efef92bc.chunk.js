"use strict";(self.webpackChunkugc_suite_build=self.webpackChunkugc_suite_build||[]).push([[9783],{19783:function(e,n,i){i.r(n);var t=i(15671),c=i(43144),o=i(97326),s=i(60136),a=i(29388),l=i(72791),r=i(62591),d=i(47798),p=i(12576),v=i(72426),u=i.n(v),h=i(64802),m=i(45593),x=i(27487),w=i(80184),f=l.lazy((function(){return Promise.resolve().then(i.bind(i,61732))})),b=l.lazy((function(){return Promise.resolve().then(i.bind(i,66515))})),j=function(e){(0,s.Z)(i,e);var n=(0,a.Z)(i);function i(e){var c;return(0,t.Z)(this,i),(c=n.call(this,e)).state={viewInvoice:!1,viewInvoiceData:null,invoiceDownload:0,invoiceList:[],invoiceRequest:!0,invoiceDownloadRequest:!1,invoicePrintRequest:!1},c.viewInvoice=function(e){return function(n){c.setState({viewInvoice:!0,viewInvoiceData:e})}},c.viewInvoiceCallback=function(e){c.setState({viewInvoice:e,viewInvoiceData:null})},c.clickToInvoiceDownload=function(e){return function(n){c.setState({invoiceDownload:1});var i=(0,o.Z)(c);(0,m.fs)(e).then((function(n){i.setState({invoiceDownload:2});var t=new Blob([n.data],{type:"application/pdf"});(0,h.saveAs)(t,"".concat(e,".pdf")),setTimeout((function(){i.setState({invoiceDownload:0})}),3e3)})).catch((function(e){}))}},c.downloadInvoice=function(e){return function(n){c.setState({invoiceDownloadRequest:!0});var i=(0,o.Z)(c);(0,m.fs)(e).then((function(n){var t=new Blob([n.data],{type:"application/pdf"});(0,h.saveAs)(t,"".concat(e,".pdf")),setTimeout((function(){i.setState({invoiceDownloadRequest:!1})}),3e3)})).catch((function(e){}))}},c.printInvoice=function(e){return function(n){c.setState({invoicePrintRequest:!0});var i=(0,o.Z)(c);(0,m.fs)(e).then((function(e){var n=new Blob([e.data],{type:"application/pdf"}),t=URL.createObjectURL(n);window.open(t,"_blank"),setTimeout((function(){i.setState({invoicePrintRequest:!1})}),3e3)})).catch((function(e){}))}},c.onLoadInvoice=function(){var e=(0,o.Z)(c);(0,m.wc)().then((function(n){var i=n.data.response;e.setState({invoiceList:i,invoiceRequest:!1})})).catch((function(e){return c.setState({invoiceRequest:!1},(function(){}))}))},c}return(0,c.Z)(i,[{key:"componentDidMount",value:function(){var e=this.props.invoiceData;this.setState({invoiceList:e,invoiceRequest:!1})}},{key:"render",value:function(){var e=this,n=this.state,i=n.viewInvoice,t=n.invoiceDownload,c=n.invoiceList,o=n.invoiceRequest,s=n.viewInvoiceData,a=n.invoiceDownloadRequest,v=n.invoicePrintRequest;return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("div",{style:{minHeight:300},children:o?(0,w.jsx)(x.O,{}):c&&c.length>0?(0,w.jsxs)(r.Z,{responsive:!0,className:"mb-0",children:[(0,w.jsx)("thead",{children:(0,w.jsxs)("tr",{children:[(0,w.jsx)("th",{className:"p-lg-4 p-sm-3 p-2",children:"Date"}),(0,w.jsx)("th",{className:"p-lg-4 p-sm-3 p-2",children:"Invoice Id"}),(0,w.jsx)("th",{className:"p-lg-4 p-sm-3 p-2",children:"Plan"}),(0,w.jsx)("th",{className:"p-lg-4 p-sm-3 p-2",children:"Amount"}),(0,w.jsx)("th",{className:"p-lg-4 p-sm-3 p-2",children:"Status"}),(0,w.jsx)("th",{className:"text-end p-lg-4 p-sm-3 p-2",align:"right",children:"Action"})]})}),(0,w.jsx)("tbody",{children:c.map((function(n,i){return(0,w.jsxs)("tr",{className:"align-middle",children:[(0,w.jsx)("td",{className:"p-lg-4 p-sm-3 p-2 text-nowrap",children:u()(n.invoiceDate).format("DD MMM YYYY")}),(0,w.jsx)("td",{className:"p-lg-4 p-sm-3 p-2 text-nowrap",children:n.invoiceId}),(0,w.jsx)("td",{className:"p-lg-4 p-sm-3 p-2 text-nowrap",children:n.invoiceView.item}),(0,w.jsxs)("td",{className:"p-lg-4 p-sm-3 p-2 text-nowrap",children:[n.invoiceView.currencyValue,n.invoiceView.amount]}),(0,w.jsx)("td",{className:"p-lg-4 p-sm-3 p-2 text-nowrap",children:(0,w.jsx)("span",{className:"badge badge-light-success",children:"Paid"})}),(0,w.jsxs)("td",{className:"p-lg-4 p-sm-3 p-2 text-nowrap text-end",children:[(0,w.jsx)(d.Z,{placement:"top",overlay:(0,w.jsx)(p.Z,{children:"View"}),children:(0,w.jsx)("button",{type:"button",className:"btn btn-icon btn-active-light p-0 w-34px h-34px border-0 me-2",onClick:e.viewInvoice(n),children:(0,w.jsx)("i",{className:"ri-eye-line icon-5"})})}),0===t?(0,w.jsx)(d.Z,{placement:"top",overlay:(0,w.jsx)(p.Z,{children:"Download"}),children:(0,w.jsx)("button",{type:"button",className:"btn btn-icon btn-active-light p-0 w-34px h-34px border-0",onClick:e.clickToInvoiceDownload(n.invoiceId),children:(0,w.jsx)("i",{className:"ri-download-2-line icon-5"})})}):1===t?(0,w.jsx)(d.Z,{placement:"top",overlay:(0,w.jsx)(p.Z,{children:"Downloading"}),children:(0,w.jsx)("button",{type:"button",className:"btn btn-icon btn-active-light p-0 w-34px h-34px border-0",children:(0,w.jsx)("div",{className:"spinner spinner-dark spinner-sm position-relative me-2"})})}):2===t?(0,w.jsx)(d.Z,{placement:"top",overlay:(0,w.jsx)(p.Z,{children:"Success"}),children:(0,w.jsx)("button",{type:"button",className:"btn btn-icon btn-active-light p-0 w-34px h-34px border-0",children:(0,w.jsx)("i",{className:"ri-check-fill icon-5 text-success"})})}):null]})]},i)}))})]}):(0,w.jsx)(l.Suspense,{fallback:(0,w.jsx)(w.Fragment,{}),children:(0,w.jsx)(b,{title:"No invoice was found",desc:"Explore premium content! Purchase a plan and begin your journey today.",icon:"invoice-placeholder",headSize:"calc(100vh - 410px)",containerSize:450,iconHeight:32,iconWidth:32})})}),s?(0,w.jsx)(l.Suspense,{fallback:(0,w.jsx)(w.Fragment,{}),children:(0,w.jsx)(f,{viewInvoiceCallback:this.viewInvoiceCallback,modalToggle:i,viewInvoiceData:s,clickToInvoiceDownload:this.downloadInvoice,printInvoice:this.printInvoice,invoiceDownloadRequest:a,invoicePrintRequest:v})}):null]})}}]),i}(l.Component);n.default=j}}]);
//# sourceMappingURL=9783.efef92bc.chunk.js.map