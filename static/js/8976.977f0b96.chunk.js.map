{"version":3,"file":"static/js/8976.977f0b96.chunk.js","mappings":"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","sources":["Layouts/Main/MyAssets/CreateCollectionModal/CreateCollectionModal.js"],"sourcesContent":["import React, { Component } from 'react';\nimport { connect } from \"react-redux\";\nimport { toast } from \"react-toastify\";\nimport { Modal } from 'react-bootstrap';\nimport { createCollection } from '../../../../Services/Actions/homeActions'\nimport { getCollectionList } from '../../../../Services/Actions/homeActions';\nimport { commonDispatch } from '../../../../Services/Actions/commonAction';\nimport { updateUserInfo } from '../../../../Services/Actions/loginActions';\nclass CreateCollectionModal extends Component {\n    constructor(props) {\n        super(props);\n\n    }\n    state = {\n        collectioName: null,\n        isRequesting: false\n    };\n\n    onClickCreate = event => this.onEventCreate()\n\n\n    onEnterCreate = event => {\n        if (event.key === \"Enter\") this.onEventCreate()\n    }\n    onEventCreate = () => {\n        var self = this\n        const { collectionData } = this.props\n        const { collectioName } = this.state;\n        this.setState({ isRequesting: true })\n        if (collectioName && String(collectioName).trim().length > 0) {\n            var toastID = toast.loading(\"Loading...\")\n            if (collectionData && Object.keys(collectionData).length > 0 && collectionData.collectionList && collectionData.collectionList.length > 0) {\n                const existsCollection = collectionData.collectionList.filter(collection => String(collection.name).toLowerCase() == String(collectioName).trim().toLowerCase());\n                if (existsCollection && existsCollection.length > 0) {\n                    toast.update(toastID, { render: \"Collection already exists.\", type: \"error\", isLoading: false, autoClose: 3000 })\n                    self.setState({ isRequesting: false });\n                }\n                else {\n                    this.onCreateLoad(toastID)\n                }\n            }\n            else this.onCreateLoad(toastID)\n        }\n        else{\n            toast.error(\"Please enter valid collection name.\")\n            self.setState({ isRequesting: false });\n        }\n    }\n    onCreateLoad = (toastID) => {\n        var self = this\n        const { collectioName } = this.state;\n        const { updateUserData, updateCollectionList, userData } = this.props\n        createCollection({ name: collectioName }).then((response) => {\n            self.setState({ isRequesting: false })\n            toast.update(toastID, { render: \"Collection has been successfully created.\", type: \"success\", isLoading: false, autoClose: 3000 });\n            if(userData.collaborator!='' && userData.collaborator.permissions!= \"\" && userData.collaborator.activeAccount!=0) updateUserData()\n            self.props.addCollectionCallbackWithAPI(false)\n            getCollectionList().then((response) => {\n                const { responseData } = response.data;\n                if (responseData && Object.keys(responseData).length > 0) {\n                    updateCollectionList({ type: \"COLLECTIONS\", payload: { collection: responseData.collection, assetsCount: responseData.assets } })\n                }\n            })\n\n        }).catch((ex) => {\n            const responseData = ex.response.data\n            toast.update(toastID, { render: responseData.message, type: \"error\", isLoading: false, autoClose: 3000 });\n            self.setState({ isRequesting: false })\n        })\n    }\n    onChangeCollectionName = event => {\n        this.setState({ collectioName: event.target.value })\n    }\n\n    handleClose = event => this.setState({ collectioName: \"\" }, () => this.props.addCollectionCallback(false))\n\n\n    render() {\n        const { addCollectionModal } = this.props\n        const { collectioName, isRequesting } = this.state\n        return <Modal show={addCollectionModal} onHide={this.handleClose}\n            aria-labelledby=\"contained-modal-title-vcenter\"\n            centered\n        >\n            <Modal.Header closeButton>\n                <Modal.Title>Create New Collection</Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n                <div className=\"mx-xl-4 px-2 px-lg-4 mx-0 pt-4\">\n                    <div className=\"row mb-4 mb-xl-5\">\n                        <label className=\"col-sm-3 text-muted mb-2\">Collection Name</label>\n                        <div className=\"col-sm-9\">\n                            <input type=\"text\" name=\"company\" className=\"form-control\" placeholder=\"Enter collection name...\" onChange={this.onChangeCollectionName} value={collectioName} onKeyUp={this.onEnterCreate} />\n                        </div>\n                    </div>\n                </div>\n            </Modal.Body>\n            <Modal.Footer className=\"p-3\">\n                <div className=\"mx-xl-4 px-2 px-lg-4 mx-0\">\n                    <button type=\"button\" className=\"btn btn-secondary btn-sm btn-min-w me-3\" onClick={this.handleClose}>Cancel</button>\n                    <button type=\"button\" className={`btn btn-primary btn-sm btn-min-w${isRequesting ? ` spinner disabled` : ``}`} onClick={this.onClickCreate}>Create</button>\n                </div>\n            </Modal.Footer>\n        </Modal>\n    }\n}\nconst mapStateToProps = (state) => {\n    return {\n        collectionData: state.collection,\n        userData: state.authenticated.userData\n    }\n}\n\nconst mapDispatchToProps = dispatch =>({\n    updateUserData : () => updateUserInfo(dispatch),\n    updateCollectionList: (data) => dispatch(commonDispatch(data))\n})\n\nexport default connect(mapStateToProps,mapDispatchToProps)(CreateCollectionModal);\n"],"names":["CreateCollectionModal","_Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","state","collectioName","isRequesting","onClickCreate","event","onEventCreate","onEnterCreate","key","self","_assertThisInitialized","collectionData","setState","String","trim","length","toastID","toast","Object","keys","collectionList","existsCollection","filter","collection","name","toLowerCase","render","type","isLoading","autoClose","onCreateLoad","_this$props","updateUserData","updateCollectionList","userData","createCollection","then","response","collaborator","permissions","activeAccount","addCollectionCallbackWithAPI","getCollectionList","responseData","data","payload","assetsCount","assets","catch","ex","message","onChangeCollectionName","target","value","handleClose","addCollectionCallback","_createClass","addCollectionModal","this","_this$state","_jsxs","Modal","show","onHide","centered","children","_jsx","closeButton","className","placeholder","onChange","onKeyUp","onClick","concat","Component","connect","authenticated","dispatch","updateUserInfo","commonDispatch"],"sourceRoot":""}