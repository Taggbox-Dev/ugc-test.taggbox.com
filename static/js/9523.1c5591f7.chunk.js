"use strict";(self.webpackChunkugc_suite_build=self.webpackChunkugc_suite_build||[]).push([[9523],{49523:function(e,n,t){t.r(n),t.d(n,{default:function(){return N}});var i=t(15671),c=t(43144),a=t(97326),s=t(60136),o=t(29388),l=t(72791),r=t(62591),d=t(3826),p=t(12576),v=t(72426),u=t.n(v),h=t(64802),x=t(18439),m=t(8663),w=t(63263),b=function(e){return w.Z.get("".concat(m.hI,"/").concat(e),{responseType:"arraybuffer",headers:{Accept:"application/pdf"}})},j=t(27487),f=t(80184),g=l.lazy((function(){return t.e(1732).then(t.bind(t,61732))})),I=l.lazy((function(){return t.e(4773).then(t.bind(t,54773))})),N=function(e){(0,s.Z)(t,e);var n=(0,o.Z)(t);function t(e){var c;return(0,i.Z)(this,t),(c=n.call(this,e)).state={viewInvoice:!1,viewInvoiceData:null,invoiceDownload:0,invoiceList:[],invoiceRequest:!0,invoiceDownloadRequest:!1,invoicePrintRequest:!1},c.viewInvoice=function(e){return function(n){c.setState({viewInvoice:!0,viewInvoiceData:e})}},c.viewInvoiceCallback=function(e){c.setState({viewInvoice:e,viewInvoiceData:null})},c.clickToInvoiceDownload=function(e){return function(n){c.setState({invoiceDownload:1});var t=(0,a.Z)(c);b(e).then((function(n){t.setState({invoiceDownload:2});var i=new Blob([n.data],{type:"application/pdf"});(0,h.saveAs)(i,"".concat(e,".pdf")),setTimeout((function(){t.setState({invoiceDownload:0})}),3e3)}))}},c.downloadInvoice=function(e){return function(n){c.setState({invoiceDownloadRequest:!0});var t=(0,a.Z)(c);b(e).then((function(n){var i=new Blob([n.data],{type:"application/pdf"});(0,h.saveAs)(i,"".concat(e,".pdf")),setTimeout((function(){t.setState({invoiceDownloadRequest:!1})}),3e3)}))}},c.printInvoice=function(e){return function(n){c.setState({invoicePrintRequest:!0});var t=(0,a.Z)(c);b(e).then((function(e){var n=new Blob([e.data],{type:"application/pdf"}),i=URL.createObjectURL(n);window.open(i,"_blank"),setTimeout((function(){t.setState({invoicePrintRequest:!1})}),3e3)}))}},c.onLoadInvoice=function(){var e=(0,a.Z)(c);(new x.Z).get(m.oS).then((function(n){var t=n.data.response;e.setState({invoiceList:t,invoiceRequest:!1})}))},c}return(0,c.Z)(t,[{key:"componentDidMount",value:function(){this.onLoadInvoice()}},{key:"render",value:function(){var e=this,n=this.state,t=n.viewInvoice,i=n.invoiceDownload,c=n.invoiceList,a=n.invoiceRequest,s=n.viewInvoiceData,o=n.invoiceDownloadRequest,v=n.invoicePrintRequest;return(0,f.jsxs)("div",{className:"",children:[(0,f.jsx)("div",{className:"mt-xxl-3 mt-2",children:(0,f.jsx)("h3",{className:"fs-6 text-gray-800",children:"Invoice"})}),(0,f.jsx)("div",{className:"card mb-5",children:(0,f.jsx)("div",{className:"card-body p-lg-4 p-3",style:{minHeight:"calc(100vh - 400px)"},children:a?(0,f.jsx)(j.O,{}):c&&c.length>0?(0,f.jsxs)(r.Z,{responsive:!0,className:"mb-0",children:[(0,f.jsx)("thead",{children:(0,f.jsxs)("tr",{children:[(0,f.jsx)("th",{className:"p-lg-4 p-sm-3 p-2",children:"Date"}),(0,f.jsx)("th",{className:"p-lg-4 p-sm-3 p-2",children:"Invoice Id"}),(0,f.jsx)("th",{className:"p-lg-4 p-sm-3 p-2",children:"Plan"}),(0,f.jsx)("th",{className:"p-lg-4 p-sm-3 p-2",children:"Amount"}),(0,f.jsx)("th",{className:"p-lg-4 p-sm-3 p-2",children:"Status"}),(0,f.jsx)("th",{className:"text-end p-lg-4 p-sm-3 p-2",align:"right",children:"Action"})]})}),(0,f.jsx)("tbody",{children:c.map((function(n,t){return(0,f.jsxs)("tr",{className:"align-middle",children:[(0,f.jsx)("td",{className:"p-lg-4 p-sm-3 p-2 text-nowrap",children:u()(n.invoiceDate).format("DD MMM YYYY")}),(0,f.jsx)("td",{className:"p-lg-4 p-sm-3 p-2 text-nowrap",children:n.invoiceId}),(0,f.jsx)("td",{className:"p-lg-4 p-sm-3 p-2 text-nowrap",children:n.plan}),(0,f.jsxs)("td",{className:"p-lg-4 p-sm-3 p-2 text-nowrap",children:[n.invoiceView.currencyValue,n.invoiceView.amountValue]}),(0,f.jsx)("td",{className:"p-lg-4 p-sm-3 p-2 text-nowrap",children:(0,f.jsx)("span",{className:"badge badge-light-success",children:"Paid"})}),(0,f.jsxs)("td",{className:"p-lg-4 p-sm-3 p-2 text-nowrap text-end",children:[(0,f.jsx)(d.Z,{placement:"top",overlay:(0,f.jsx)(p.Z,{children:"View"}),children:(0,f.jsx)("button",{type:"button",className:"btn btn-icon btn-active-light p-0 w-34px h-34px border-0 me-2",onClick:e.viewInvoice(n),children:(0,f.jsx)("i",{className:"ri-eye-line icon-5"})})}),0===i?(0,f.jsx)(d.Z,{placement:"top",overlay:(0,f.jsx)(p.Z,{children:"Download"}),children:(0,f.jsx)("button",{type:"button",className:"btn btn-icon btn-active-light p-0 w-34px h-34px border-0",onClick:e.clickToInvoiceDownload(n.invoiceId),children:(0,f.jsx)("i",{className:"ri-download-2-line icon-5"})})}):1===i?(0,f.jsx)(d.Z,{placement:"top",overlay:(0,f.jsx)(p.Z,{children:"Downloading"}),children:(0,f.jsx)("button",{type:"button",className:"btn btn-icon btn-active-light p-0 w-34px h-34px border-0",children:(0,f.jsx)("div",{className:"spinner spinner-dark spinner-sm position-relative me-2"})})}):2===i?(0,f.jsx)(d.Z,{placement:"top",overlay:(0,f.jsx)(p.Z,{children:"Success"}),children:(0,f.jsx)("button",{type:"button",className:"btn btn-icon btn-active-light p-0 w-34px h-34px border-0",children:(0,f.jsx)("i",{className:"ri-check-fill icon-5 text-success"})})}):null]})]},t)}))})]}):(0,f.jsx)(l.Suspense,{fallback:(0,f.jsx)(f.Fragment,{}),children:(0,f.jsx)(I,{})})})}),s?(0,f.jsx)(l.Suspense,{fallback:(0,f.jsx)(f.Fragment,{}),children:(0,f.jsx)(g,{viewInvoiceCallback:this.viewInvoiceCallback,modalToggle:t,viewInvoiceData:s,clickToInvoiceDownload:this.downloadInvoice,printInvoice:this.printInvoice,invoiceDownloadRequest:o,invoicePrintRequest:v})}):null]})}}]),t}(l.Component)}}]);
//# sourceMappingURL=9523.1c5591f7.chunk.js.map