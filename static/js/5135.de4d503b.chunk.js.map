{"version":3,"file":"static/js/5135.de4d503b.chunk.js","mappings":"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","sources":["Layouts/Main/Templates/TemplateAside/Components/Elements/Background.js"],"sourcesContent":["import React, { Component, Suspense } from 'react';\r\nimport { Accordion, OverlayTrigger, Tooltip } from 'react-bootstrap';\r\nimport $ from 'jquery';\r\nimport { Uppy } from \"@uppy/core\";\r\nimport Transloadit from \"@uppy/transloadit\";\r\nimport GoogleDrive from '@uppy/google-drive';\r\nimport Url from '@uppy/url';\r\nimport { DashboardModal } from '@uppy/react';\r\nimport { IS_LIVE } from '../../../../../../Services/Api'\r\nconst ColorPicker = React.lazy(() => import('../../../../CommonComponents/ColorPicker'));\r\n\r\nconst uppyConfig = {\r\n    uppyKey: '0701d3d7f8d94e92a65a9cba388b1d96',\r\n    uppyBucket: 'cloud.taggbox.com',\r\n    uppyAwsKey: '47ABVORKG52UYE1KB28S',\r\n    uppyAwsSecret: 'pcaTfeokaz28geAAns08H3yaGbOVz6ILgTptu19v',\r\n    companionUrl: IS_LIVE ? 'https://app.taggbox.com' : 'https://test.taggbox.com'\r\n}\r\nclass Background extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.uppy = new Uppy({ debug: true, autoProceed: false, restrictions: { maxFileSize: 5000000, maxNumberOfFiles: 1, minNumberOfFiles: 1, allowedFileTypes: ['image/*'] } })\r\n            .use(Transloadit, {\r\n                target: '#a',\r\n                params: {\r\n                    auth: {\r\n                        key: uppyConfig.uppyKey\r\n                    },\r\n                    steps: {\r\n                        store: {\r\n                            robot: \"/wasabi/store\",\r\n                            bucket_region: \"us-west-1\",\r\n                            bucket: uppyConfig.uppyBucket,\r\n                            key: uppyConfig.uppyAwsKey,\r\n                            secret: uppyConfig.uppyAwsSecret,\r\n                            path: 'postimage/${file.id}'\r\n                        }\r\n                    }\r\n                },\r\n                waitForEncoding: true\r\n            })\r\n            .use(GoogleDrive, { target: Uppy.Dashboard, companionUrl: uppyConfig.companionUrl })\r\n            .use(Url, { target: Uppy.Dashboard, companionUrl: uppyConfig.companionUrl })\r\n    }\r\n    state = {\r\n        backgroundModal: false\r\n    }\r\n    componentDidMount() {\r\n        var self = this;\r\n        this.uppy.on('transloadit:result', (stepName, result) => {\r\n            self.props.onClickTouploadImage(`https://cloud.taggbox.com/postimage/${result.id}`, result.id, () => {\r\n                setTimeout(() => {\r\n                    this.uppy.cancelAll()\r\n                    this.uppy.removeFile()\r\n                    this.setState({ backgroundModal: false })\r\n                }, 300)\r\n            })\r\n        })\r\n    }\r\n    onBackgroundClose = event => {\r\n        this.uppy.cancelAll()\r\n        this.uppy.removeFile()\r\n        this.setState({ backgroundModal: false })\r\n    }\r\n    onBackgroundOpen = event => {\r\n        this.setState({ backgroundModal: true }, () => {\r\n            $(\".uppy-Dashboard-close\").click(() => {\r\n                this.uppy.cancelAll()\r\n                this.uppy.removeFile()\r\n                this.setState({ backgroundModal: false })\r\n            })\r\n        })\r\n    }\r\n    render() {\r\n        const { onClickEnableBackground, onClickBackgroundColor, background, backgroundImageRemove } = this.props\r\n        const { backgroundModal } = this.state\r\n        return <>\r\n\r\n            <Accordion.Item eventKey=\"2\" className=\"pb-3\">\r\n                <Accordion.Header className=\"w-100\">\r\n                    <span className=\"fs-9 fw-medium\">Background</span>\r\n                </Accordion.Header>\r\n                <Accordion.Body className=\"border rounded-1 mt-1 p-2\">\r\n                    <label className={`form-check form-switch py-2 align-items-center justify-content-between ${background.status ? `border-bottom` : ``} h-40px py-1`}>\r\n                        <span className=\"form-check-label ps-0 fs-9 fw-medium text-gray-800\">Enable Background</span>\r\n                        <input className=\"form-check-input\" type=\"checkbox\" name=\"autoplayVideos\" checked={background.status} onChange={onClickEnableBackground} />\r\n                    </label>\r\n                    {\r\n                        background.status ? <><label className=\"d-flex align-items-center justify-content-between border-bottom h-40px py-1 position-relative\">\r\n                            <span className=\"ms-0 fs-9 fw-medium\">Background Color</span>\r\n                            <Suspense fallback={<></>}>\r\n                                <ColorPicker color={background.color} onChangeColor={onClickBackgroundColor} />\r\n                            </Suspense>\r\n                        </label>\r\n                            <div className=\"d-flex align-items-start justify-content-between flex-column py-1\">\r\n                                <p className=\"fs-9 fw-medium text-start mt-2\">Upload Background Image</p>\r\n                                <button type=\"button\" className=\"btn btn-secondary btn-sm w-100 mb-2\" onClick={this.onBackgroundOpen}>Attach Image</button>\r\n                                {background.image ? <div className=\"card card-custom w-100 rounded-1\">\r\n                                    <div className=\"card-body d-flex flex-column p-1\">\r\n                                        <div className=\"position-relative d-flex align-items-center cursor-pointer\">\r\n                                            <div className=\"position-relative rounded-1 bg-light overflow-hidden w-100\" style={{ paddingBottom: '66%' }}>\r\n                                                <img className=\"object-center-contain position-absolute\" loading=\"lazy\" src={background.image} height={500} width={300} alt={'suit'} />\r\n                                            </div>\r\n                                            <div className=\"removeBanner position-absolute end-0 top-0 pt-2 pe-2\">\r\n                                                <div className=\"d-flex align-items-center justify-content-end\">\r\n                                                    <OverlayTrigger placement=\"top\" overlay={<Tooltip>Edit</Tooltip>}>\r\n                                                        <button type=\"button\" className=\"btn btn-icon btn-secondary h-26px w-26px me-2\" onClick={this.onBackgroundOpen}>\r\n                                                            <i className=\"ri-edit-box-line text-gray-700 me-0\"></i>\r\n                                                        </button>\r\n                                                    </OverlayTrigger>\r\n                                                    <OverlayTrigger placement=\"top\" overlay={<Tooltip>Remove</Tooltip>}>\r\n                                                        <button type=\"button\" className=\"btn btn-icon btn-secondary h-26px w-26px\" onClick={backgroundImageRemove}>\r\n                                                            <i className=\"ri-delete-bin-6-line text-gray-700 me-0\"></i>\r\n                                                        </button>\r\n                                                    </OverlayTrigger>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div> : null}\r\n                            </div></> : null\r\n                    }\r\n\r\n                </Accordion.Body>\r\n            </Accordion.Item>\r\n            {\r\n                backgroundModal ? <DashboardModal\r\n                    animateOpenClose={true}\r\n                    proudlyDisplayPoweredByUppy={false}\r\n                    inline={false}\r\n                    showProgressDetails={true}\r\n                    height={750}\r\n                    browserBackButtonClose={true}\r\n                    showRemoveButtonAfterComplete={false}\r\n                    uppy={this.uppy}\r\n                    open={true}\r\n                    onRequestCloseModal={this.onBackgroundClose}\r\n                    closeAfterFinish={true}\r\n                    plugins={[]}\r\n                /> : null\r\n            }\r\n        </>\r\n    }\r\n\r\n}\r\nexport default Background"],"names":["ColorPicker","React","uppyConfig","uppyKey","uppyBucket","uppyAwsKey","uppyAwsSecret","companionUrl","IS_LIVE","Background","_Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","state","backgroundModal","onBackgroundClose","event","uppy","cancelAll","removeFile","setState","onBackgroundOpen","$","click","Uppy","debug","autoProceed","restrictions","maxFileSize","maxNumberOfFiles","minNumberOfFiles","allowedFileTypes","use","Transloadit","target","params","auth","key","steps","store","robot","bucket_region","bucket","secret","path","waitForEncoding","GoogleDrive","Url","_createClass","value","_this2","self","this","on","stepName","result","onClickTouploadImage","concat","id","setTimeout","_this$props","onClickEnableBackground","onClickBackgroundColor","background","backgroundImageRemove","_jsxs","_Fragment","children","Accordion","eventKey","className","_jsx","status","type","name","checked","onChange","Suspense","fallback","color","onChangeColor","onClick","image","style","paddingBottom","loading","src","height","width","alt","OverlayTrigger","placement","overlay","Tooltip","DashboardModal","animateOpenClose","proudlyDisplayPoweredByUppy","inline","showProgressDetails","browserBackButtonClose","showRemoveButtonAfterComplete","open","onRequestCloseModal","closeAfterFinish","plugins","Component"],"sourceRoot":""}