"use strict";(self.webpackChunkugc_suite_build=self.webpackChunkugc_suite_build||[]).push([[1410],{91410:function(e,a,t){t.r(a),t.d(a,{default:function(){return b}});var s=t(15671),n=t(43144),c=t(60136),o=t(29388),i=t(72791),r=t(21830),l=t.n(r),d=t(8663),u=t(56600),m=t(80238),h=t(29439),p=t(84866),f=(t(84682),t(32480)),g=t(80184),w=function(e){var a=(0,i.useState)(""),t=(0,h.Z)(a,2),s=t[0],n=t[1],c=(0,i.useState)(),o=(0,h.Z)(c,2),r=o[0],l=o[1],d=(0,i.useCallback)((function(){alert("login start")}),[]);(0,i.useCallback)((function(){l(null),n(""),alert("logout success")}),[]),(0,i.useCallback)((function(){}),[]);return console.log("provider",s,r),(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(p.LO,{client_id:"95564504779-0hejo69vc4apo6p0avpafasvbcfhlvom.apps.googleusercontent.com",onLoginStart:d,redirect_uri:"https://ugc.taggbox.com/login",scope:"openid profile email",discoveryDocs:"claims_supported",access_type:"offline",onResolve:function(a){var t=a.provider,s=a.data;return e.onUpdateData(t,s)},onReject:function(e){console.log(e)},children:(0,g.jsxs)("div",{className:"d-flex align-items-center rounded-1 mb-2 p-3 btn btn-outline-secondary w-100",children:[(0,g.jsxs)("div",{className:"d-flex align-items-center flex-grow-1 w-75",children:[(0,g.jsx)("div",{className:"symbol symbol-40 bg-light rounded-circle flex-shrink-0 me-2 overflow-hidden"}),(0,g.jsx)("div",{className:"w-75 overflow-hidden",children:(0,g.jsx)("span",{className:"text-start fs-7 d-block fw-bolder text-ellipsis",children:"Add Account"})})]}),(0,g.jsx)("div",{className:"d-flex",children:(0,g.jsx)("span",{className:"h-20px w-20px",children:(0,g.jsx)("img",{className:"object-center-cover",src:(0,u.F)("media/icons/social-icons/".concat((0,f.O5)(7),".svg")),alt:"network",style:{filter:"grayscale(1)",opacity:".5"}})})})]})})})},x=t(7566),k=t(32002),v=function(e){(0,c.Z)(t,e);var a=(0,o.Z)(t);function t(){var e;(0,s.Z)(this,t);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(e=a.call.apply(a,[this].concat(c))).state={connected:null,showConfirm:!1},e.handleYes=function(a){e.setState({showConfirm:!0})},e.handleNo=function(a){e.setState({showConfirm:!0})},e.onClickSocialConnect=function(e){return function(a){e&&Object.keys(e).length>0&&l().fire({imageUrl:(0,u.F)("media/icons/social-icons-square/".concat((0,f.O5)(e.networkId),".svg")),title:"<strong>".concat((0,f.O5)(e.networkId),"</strong>"),html:"Connect to ".concat((0,f.O5)(e.networkId)," and start collecting assets."),showCloseButton:!0,showCancelButton:!1,focusConfirm:!0,confirmButtonText:"Continue with ".concat((0,f.O5)(e.networkId)),confirmButtonAriaLabel:"Continue with ".concat((0,f.O5)(e.networkId)),cancelButtonText:'<i className="fa fa-thumbs-down"></i>',cancelButtonAriaLabel:"Thumbs down"}).then((function(a){switch(localStorage.setItem("socialConnect",!0),localStorage.setItem("socialNetworkId",e.networkId),e.networkId){case 1:(0,x.ho)(!0);break;case 6:(0,x.nY)(6);break;case 21:(0,x.pz)("yammer",null,!0);break;case 11:(0,x.GC)(11);break;case 8:(0,x.UB)(!0);break;case 3:(0,x.W8)(3,!0);break;case 2:var t="https://api.instagram.com/oauth/authorize?client_id=".concat("480810795949098","&redirect_uri=",d.XP,"/instagram/feeds/authCallback&scope=user_profile,user_media&response_type=code");window.open(t,"_blank","width=786,height=786");break;case 18:(0,x.W8)(18,!0)}}))}},e}return(0,n.Z)(t,[{key:"componentDidMount",value:function(){var e=this,a=this.props.modalAssetData,t=new BroadcastChannel("connect"),s=this;t.addEventListener("message",(function(t){var n=JSON.parse(t.data);console.log("responseToken GetRightsSocialAccount GetRightsSocialAccount",n),2==a.networkId||18==a.networkId?(0,k.gd)({access_token:n.data.access_token}).then((function(t){var c=t.data.accounts;console.log("response.data",t.data,c);var o=[];c&&c.length>0&&c.map((function(e){o.push({id:e.id,name:e.username,picture:(0,u.F)("media/icons/social-icons/".concat((0,f.O5)(a.networkId),".svg"))})})),s.setState({access_token:n.data.access_token,socialData:t.data,accountsData:o},(function(){return e.props.onUpdateData("instagram",o)}))})):3==a.networkId?(0,k.pV)({access_token:n.data.access_token}).then((function(t){var c=t.data.pages;console.log("response.data",t.data,c);var o=[];c&&c.length>0&&c.map((function(e){o.push({id:e.id,name:e.name,access_token:e.access_token,picture:(0,u.F)("media/icons/social-icons/".concat((0,f.O5)(a.networkId),".svg"))})})),s.setState({access_token:n.data.access_token,socialData:t.data,accountsData:o},(function(){return e.props.onUpdateData("facebook",o)}))})):1==a.networkId&&(0,k.gd)({access_token:n.data.access_token}).then((function(t){var c=t.data.accounts;console.log("response.data",t.data,c[0].id);var o=[];c&&c.length>0&&c.map((function(e){o.push({id:e.id,name:e.username,picture:(0,u.F)("media/icons/social-icons/".concat((0,f.O5)(a.networkId),".svg"))})})),s.setState({access_token:n.data.access_token,socialData:t.data,accountsData:o},(function(){return e.props.onUpdateData("twitter",o)}))}))}))}},{key:"render",value:function(){this.state.showConfirm;var e=this.props,a=e.modalAssetData,t=e.connectedAccount;return console.log("modalAssetData social account",this.props),(0,g.jsx)(g.Fragment,{children:(0,g.jsx)("div",{className:"p-lg-6 p-3",children:(0,g.jsx)("div",{className:"m-auto",children:t&&t.data.length>0?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("h3",{className:"mb-2 pb-2 fs-7 pt-1",children:(0,g.jsx)("span",{className:"fw-medium",children:"Connect Account"})}),(0,g.jsxs)("div",{className:"mb-8",children:[(0,g.jsxs)("button",{type:"button",className:"d-flex align-items-center rounded-1 mb-2 p-3 border border-dark bg-white w-100",children:[(0,g.jsxs)("div",{className:"d-flex align-items-center flex-grow-1 w-75",children:[(0,g.jsx)("div",{className:"symbol symbol-40 rounded-circle flex-shrink-0 me-2 overflow-hidden",children:(0,g.jsx)("img",{className:"object-center-cover",src:t.data[0].picture,height:40,width:40,alt:"instagram"})}),(0,g.jsx)("div",{className:"w-75 overflow-hidden",children:(0,g.jsxs)("span",{className:"text-start fs-7 d-block fw-bolder text-dark text-ellipsis",children:["@",t.data[0].name]})})]}),(0,g.jsx)("div",{className:"d-flex",children:(0,g.jsx)("span",{className:"h-20px w-20px",children:(0,g.jsx)("img",{className:"object-center-cover",src:(0,u.F)("media/icons/social-icons/".concat(t.provider,".svg")),alt:""})})})]}),(0,g.jsx)("span",{className:"fw-medium",children:"You are logged in with this account"})]})]}):(0,g.jsx)(g.Fragment,{children:3==a.networkId?(0,g.jsx)(m.Z,{onUpdateData:this.props.onUpdateData}):7==a.networkId?(0,g.jsx)(w,{onUpdateData:this.props.onUpdateData}):(0,g.jsxs)("button",{type:"button",className:"d-flex align-items-center rounded-1 mb-2 p-3 btn btn-outline-secondary w-100",onClick:this.onClickSocialConnect(a),children:[(0,g.jsxs)("div",{className:"d-flex align-items-center flex-grow-1 w-75",children:[(0,g.jsx)("div",{className:"symbol symbol-40 bg-light rounded-circle flex-shrink-0 me-2 overflow-hidden"}),(0,g.jsx)("div",{className:"w-75 overflow-hidden",children:(0,g.jsx)("span",{className:"text-start fs-7 d-block fw-bolder text-ellipsis",children:"Add Account"})})]}),a.networkId?(0,g.jsx)("div",{className:"d-flex",children:(0,g.jsx)("span",{className:"h-20px w-20px",children:(0,g.jsx)("img",{className:"object-center-cover",src:(0,u.F)("media/icons/social-icons/".concat((0,f.O5)(a.networkId),".svg")),alt:"network",style:{filter:"grayscale(1)",opacity:".5"}})})}):null]})})})})})}}]),t}(i.Component),b=v}}]);
//# sourceMappingURL=1410.3c3741ac.chunk.js.map