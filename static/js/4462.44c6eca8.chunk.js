"use strict";(self.webpackChunkugc_suite_build=self.webpackChunkugc_suite_build||[]).push([[4462],{24462:function(e,t,a){a.r(t);var i=a(1413),s=a(15671),n=a(43144),o=a(60136),l=a(29388),r=a(72791),c=a(78687),d=a(55353),u=a(71035),m=a(11087),p=a(56600),h=a(23794),x=a(62243),g=a(46900),f=a(46305),b=a(12756),y=a(88890),k=a.n(y),j=a(21830),v=a.n(j),N=a(94039),w=a(9085),S=a(35296),M=a(8663),C=a(94085),_=a(63402),Z=a(80184),O=r.lazy((function(){return a.e(9977).then(a.bind(a,89977))})),A=r.lazy((function(){return a.e(982).then(a.bind(a,20982))})),T=(0,_.Lt)(),U=function(e){(0,o.Z)(a,e);var t=(0,l.Z)(a);function a(e){var i;((0,s.Z)(this,a),(i=t.call(this,e)).setMode=function(e){return function(t){document.getElementsByTagName("html")[0].setAttribute("data-theme",e),i.props.uploadModalClick(i.state.editMediaShowModal),i.setState({appThemeSkin:e},(function(){return i.props.setAppThemeSkin(e)}))}},i.onNotificationToggle=function(){return i.setState({isNotification:!i.state.isNotification})},i.setActiveWorkspace=function(e){var t=e&&e.hasOwnProperty("collaborator")&&""!=e.collaborator?e.collaborator.workplaces.filter((function(t){return t.id==e.collaborator.workspacesId})):null;i.setState({activeWorkspace:t})},i.editMediaHandleModalShow=function(){var e=i.props.userData;""!=e.collaborator&&""!=e.collaborator.permissions?e.collaborator.permissions.networkManager.manageConnection?i.setState({editMediaShowModal:!0}):v().fire({title:"Oops!",text:"It seems you're not currently authorized to use this module. Please reach out to your Administrator to request access.",icon:"error"}):i.setState({editMediaShowModal:!0})},i.editMediaHandleCallback=function(e){i.setState({editMediaShowModal:e}),i.props.uploadModalClick(!1)},i.onClickSignOut=function(e){i.setState({logOutSpinner:!0}),i.props.logOutUser()},i.collaboratorSwitcher=function(e){var t=w.Am.loading("Loading..."),a=i.props,s=a.setUserToken,n=a.setAuthentication;(0,N.gP)(e).then((function(e){var a=e.data.responseData;s(a.token),n(a),(0,C.qQ)("access_token",a.token),1!=a.user.access&&(0,C.qQ)("verify_email",!0),(0,C.qQ)("user_data",JSON.stringify(a)),w.Am.update(t,{render:"Account switched successfully",type:"success",isLoading:!1,autoClose:3e3}),window.location.href="".concat(M.XPy,"/home")})).catch((function(e){w.Am.update(t,{render:"Some error occured, please try again later.",type:"error",isLoading:!1,autoClose:3e3})}))},i.onEmailCopy=function(e){return function(t){return(0,x.U5)(e)}},i.state={isActiveAside:!1,appThemeSkin:e.cookies?e.cookies:"light",editMediaShowModal:!1,logOutSpinner:!1,activeWorkspace:null,userDetails:null,isNotification:!1,headOptions:[]},e.cookies)&&document.getElementsByTagName("html")[0].setAttribute("data-theme",e.cookies);return i}return(0,n.Z)(a,[{key:"componentDidMount",value:function(){this.setActiveWorkspace(this.props.userData);var e=(0,_.Bn)(g.Qr,this.props.history,this.props.userData);this.setState({headOptions:e})}},{key:"componentWillReceiveProps",value:function(e){e.uploadStatus!=this.state.editMediaShowModal&&(e.uploadStatus?this.setState({editMediaShowModal:!0}):(this.setState({editMediaShowModal:!1}),k()("#resetUppyUpload")&&k()(".uppy-Container").length>0&&k()("#resetUppyUpload").click()));if(JSON.stringify(e.userData)!=JSON.stringify(this.props.userData)){this.setActiveWorkspace(e.userData);var t=(0,_.Bn)(g.Qr,this.props.history,e.userData);this.setState({headOptions:t})}}},{key:"render",value:function(){var e=this,t=this.state,a=t.appThemeSkin,s=t.editMediaShowModal,n=t.logOutSpinner,o=t.activeWorkspace,l=t.isNotification,c=t.headOptions,g=this.props,f=g.userData,y=g.notificationList;return(0,Z.jsxs)("div",{className:"header-menu d-flex align-items-center justify-content-end w-xs-100 h-100",children:[(0,Z.jsxs)("div",{className:"d-flex align-items-center h-100 flex-shrink-0",children:[(0,Z.jsxs)(d.Z,{id:"head_skin_",align:"end",className:"block-center position-relative head_skin_",children:[(0,Z.jsx)(d.Z.Toggle,{variant:"link",className:"btn btn-icon btn-active-light btn-active-color-primary p-0 text-decoration-none transition-none arrow_disabled",children:"system"===a?(0,Z.jsx)("span",{className:"svg-icon me-0 text-dark",children:(0,Z.jsx)(h.Z,{src:(0,p.F)("media/icons/svg-icons/computer-setting.svg"),height:16,width:16})}):(0,Z.jsx)("i",{className:"ri-".concat("light"===a?"sun-fill":"moon-clear-fill"," icon-6")})}),(0,Z.jsx)(d.Z.Menu,{children:T.map((function(t,i){return(0,Z.jsx)("div",{className:"menu-item",children:(0,Z.jsxs)(d.Z.Item,{className:"".concat(a===t.type?"active ":"","px-3 py-2"),onClick:e.setMode(t.type),children:["system"==t.type?(0,Z.jsx)("span",{className:"svg-icon svg-icon-5 h-16px w-16px",children:(0,Z.jsx)(h.Z,{src:(0,p.F)("media/icons/svg-icons/".concat(t.icon,".svg")),height:16,width:16})}):(0,Z.jsx)("i",{className:"ri-".concat(t.icon," icon-6 me-2 text-dark")}),(0,Z.jsx)("span",{className:"menu-title",children:t.name})]})})}))})]}),(0,Z.jsx)("div",{className:"head_upload_ block-center border-end",children:(0,Z.jsxs)("button",{type:"button",className:"btn btn-primary d-flex align-items-center ".concat((0,C.$o)("expired")?"disabled":""),onClick:this.editMediaHandleModalShow,children:[(0,Z.jsx)("span",{className:"svg-icon svg-icon-5 me-lg-2 me-0",children:(0,Z.jsx)(h.Z,{src:(0,p.F)("media/icons/svg-icons/cloud-upload.svg")})}),(0,Z.jsx)("span",{className:"d-lg-flex d-none fw-medium fs-8",children:"Upload"})]})}),(0,Z.jsxs)(d.Z,{className:"block-center head_notifications_",align:"end",show:l,onToggle:function(){return e.onNotificationToggle()},children:[(0,Z.jsx)(d.Z.Toggle,{variant:"link",id:"head_notifications_",className:"btn btn-icon btn-active-light btn-active-color-primary text-decoration-none p-0 position-relative arrow_disabled",children:(0,Z.jsxs)("span",{className:"d-flex align-items-center justify-content-center",children:[(0,Z.jsx)("span",{className:"notifications_count bg-primary text-light-alt position-absolute rounded-circle",id:"notificationCount",style:{display:"none"}}),(0,Z.jsx)("i",{className:"ri-notification-4-line icon-4"})]})}),(0,Z.jsx)(d.Z.Menu,{className:"p-0",children:(0,Z.jsx)(r.Suspense,{fallback:(0,Z.jsx)(Z.Fragment,{}),children:(0,Z.jsx)(A,{notificationList:y,onNotificationToggle:this.onNotificationToggle})})})]}),(0,Z.jsxs)(d.Z,{className:"block-center user_profile_",align:"end",autoClose:!0,children:[(0,Z.jsx)(d.Z.Toggle,{variant:"link",id:"user_profile_",className:"btn author_profile p-0 border-0 text-decoration-none d-block rounded-circle overflow-hidden arrow_disabled",children:f&&Object.keys(f).length>0?(0,Z.jsx)(b.default,{className:"symbol symbol-38 rounded-circle bg-light",imageSize:38,symbolClass:"symbol-label text-light-alt fw-bolder text-uppercase fs-5",name:f.user.name,profileUrl:(0,x.iW)(f.user.picture),networkId:0}):null}),f&&Object.keys(f).length>0?(0,Z.jsxs)(d.Z.Menu,{className:"p-0",children:[(0,Z.jsx)("div",{className:"d-flex align-items-start flex-column justify-content-between w-100 p-3 border-bottom",children:(0,Z.jsxs)("div",{className:"d-flex align-items-start me-2",children:[(0,Z.jsx)(m.rU,{to:"/profile",className:"text-decoration-none",children:(0,Z.jsx)(b.default,{className:"symbol symbol-40 rounded-circle flex-shrink-0 me-2 overflow-hidden bg-light",imageSize:40,symbolClass:"symbol-label text-light-alt fw-bolder text-uppercase fs-5",name:f.user.name,profileUrl:(0,x.iW)(f.user.picture),networkId:0})}),(0,Z.jsxs)("div",{className:"w-100",children:[(0,Z.jsx)("p",{className:"text-dark mb-0",children:(0,Z.jsx)(m.rU,{to:"/profile",className:"text-decoration-none",children:(0,Z.jsx)("strong",{className:"fs-6 fw-bold text-break text-gray-800",children:f.user.name})})}),(0,Z.jsx)("span",{className:"mb-0 text-gray-600 text-break fs-8 cursor-pointer",id:"headerProfileEmail",onClick:this.onEmailCopy("headerProfileEmail"),children:f.user.emailId}),f&&f.hasOwnProperty("collaborator")&&""!=f.collaborator&&f.collaborator.workplaces.length>0?(0,Z.jsx)("div",{className:"w-100 mt-4",children:1==f.collaborator.workplaces.length&&null==f.UserPlan.activatedAt?(0,Z.jsx)(u.Z,{className:"py-2 px-3",bg:"light-primary",children:o&&o.length>0?o[0].Workspace.name:""}):(0,Z.jsxs)(d.Z,{children:[(0,Z.jsx)(d.Z.Toggle,{variant:"secondary",className:"d-flex align-items-center border-0 w-100 justify-content-between fs-9 bg-light-primary",children:f&&f.hasOwnProperty("collaborator")&&0==f.collaborator.activeAccount?"My WorkSpace":o&&o.length>0?o[0].Workspace.name:""}),(0,Z.jsxs)(d.Z.Menu,{className:"w-100",style:{minWidth:"auto",minHeight:"auto"},children:[f&&f.hasOwnProperty("collaborator")&&f.collaborator.workplaces.map((function(t,a){return(0,Z.jsx)(d.Z.Item,{className:"workspace_item text-ellipsis d-block",onClick:function(){return e.collaboratorSwitcher(t.id)},children:t.Workspace.name},a)})),f&&null!=f.UserPlan.activatedAt?(0,Z.jsx)(d.Z.Item,{className:"workspace_item",onClick:function(){return e.collaboratorSwitcher(0)},children:"My Workspace"},f.collaborator.workplaces.length+1):null]})]})}):null]})]})}),(0,Z.jsxs)("div",{className:"px-5 mb-3",children:[c.map((function(e){return e.condition?(0,Z.jsxs)(d.Z.Item,{className:"navi-item px-0 py-2 py-xxl-3 border-bottom dropdown-item rounded-0",onClick:e.fnc,children:[(0,Z.jsx)("div",{className:"symbol symbol-40 bg-light me-3",children:(0,Z.jsx)("div",{className:"symbol-label text-dark",children:(0,Z.jsx)("i",{className:"".concat(e.icon," icon-6 me-0 ").concat(e.name.includes("Admin")?"text-warning":"")})})}),(0,Z.jsxs)("div",{className:"navi-text",children:[(0,Z.jsx)("div",{className:"fs-7 fw-semibold mb-1 ".concat(e.name.includes("Admin")?"text-warning":""),children:e.name}),e.desc?(0,Z.jsx)("div",{className:"text-gray-600 fs-8",children:e.desc}):null]})]}):null})),(0,Z.jsxs)("button",{type:"button",onClick:this.onClickSignOut,className:"navi-item px-0 py-2 py-xxl-3 dropdown-item rounded-0 ".concat(n?"disabled":""),children:[(0,Z.jsx)("div",{className:"symbol symbol-40 bg-light me-3",children:(0,Z.jsx)("div",{className:"symbol-label ".concat(n?"text-gray-500":"text-dark"),children:(0,Z.jsx)("i",{className:"ri-logout-circle-r-line icon-6 me-0"})})}),(0,Z.jsx)("div",{className:"navi-text",children:(0,Z.jsx)("div",{className:"fs-7 fw-semibold mb-1 ".concat(n?"spinner spinner-gray text-gray-500":""),children:"Sign Out"})})]})]})]}):null]})]}),(0,Z.jsx)(r.Suspense,{fallback:(0,Z.jsx)(Z.Fragment,{}),children:s?(0,Z.jsx)(O,(0,i.Z)({editMediaHandleCallback:this.editMediaHandleCallback,editMediaToggle:s},this.props)):null})]})}}]),a}(r.Component);t.default=(0,c.$j)((function(e){return{userData:e.authenticated.userData,uploadStatus:e.modalstatus.uploadStatus,notificationList:e.notifications.notificationList}}),(function(e){return{logOutUser:function(){return e((0,g.ne)())},uploadModalClick:function(t){return e((0,f.lN)(t))},setUserToken:function(t){return e({type:S.G$,payload:t})},setAuthentication:function(t){return e({type:S.mJ,payload:t})}}}))(U)}}]);
//# sourceMappingURL=4462.44c6eca8.chunk.js.map