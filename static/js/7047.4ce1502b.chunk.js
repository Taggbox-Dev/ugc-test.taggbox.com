"use strict";(self.webpackChunkugc_suite_build=self.webpackChunkugc_suite_build||[]).push([[7047],{77047:function(e,t,n){n.r(t);var a=n(29439),i=n(15671),s=n(43144),r=n(97326),l=n(60136),c=n(29388),o=n(47313),u=n(66135),d=n(45733),f=n(8984),m=n(67894),v=n(70816),h=n.n(v),x=n(34229),g=n.n(x),y=n(2135),b=n(85520),p=n(95437),j=n(24897),N=n(32320),w=n(46417),Z=function(e){(0,l.Z)(n,e);var t=(0,c.Z)(n);function n(e){var s;return(0,i.Z)(this,n),(s=t.call(this,e)).updateStatus=function(e){var t=(0,r.Z)(s);e.status||(0,p.N8)(e.id,1).then((function(e){t.props.getLoadNotify()})).catch((function(e){})),s.props.onNotificationToggle(),s.onRequest()},s.updateAllStatus=function(){(0,p.qw)().then((function(e){s.props.getLoadNotify()}))},s.getUnreadNotifications=function(e){if(e&&Object.keys(e).length>0){var t=Object.entries(e).reduce((function(e,t){var n=(0,a.Z)(t,2),i=n[0],s=n[1].filter((function(e){return 0==e.status}));return s.length>0&&e.push([i,s]),e}),[]);return Object.fromEntries(t)}return{}},s.onRequest=function(){var e=d.Z.parse(window.location.search);if(e&&Object.keys(e).length>0||String(window.location.href).includes("assets")){var t=N.oc?window:new BroadcastChannel("connect");N.oc?window.opener.postMessage(JSON.stringify({type:"assets-redirect"})):t.postMessage(JSON.stringify({type:"assets-redirect"}))}},s.state={notifications:e.notificationList},s}return(0,s.Z)(n,[{key:"componentWillReceiveProps",value:function(e){var t=e.notificationList;JSON.stringify(t)!=JSON.stringify(this.state.notifications)&&this.setState({notifications:t})}},{key:"render",value:function(){var e=this,t=this.state.notifications,n=this.getUnreadNotifications(t);return(0,w.jsx)("div",{className:"w-100",children:(0,w.jsxs)(f.Z.Container,{id:"notifications_tab_panel",defaultActiveKey:"all-notifications",children:[(0,w.jsxs)("div",{className:"d-flex align-items-center justify-content-between px-3 pt-2 border-bottom",children:[(0,w.jsxs)(m.Z,{variant:"underline",className:"nav",children:[(0,w.jsx)(m.Z.Item,{className:"",children:(0,w.jsx)(m.Z.Link,{className:"me-3 px-0 fw-medium",eventKey:"all-notifications",children:"All"})}),(0,w.jsx)(m.Z.Item,{className:"",children:(0,w.jsx)(m.Z.Link,{className:"px-0 fw-medium",eventKey:"unread-notifications",children:"Unread"})})]}),(0,w.jsx)("div",{children:(0,w.jsx)("button",{type:"button",className:"btn btn-link btn-sm px-0 h-auto fw-bold text-decoration-none btn-active-color-primary",onClick:function(){return Object.keys(n).length>0?e.updateAllStatus():{}},children:"Mark all as read"})})]}),(0,w.jsx)(g(),{options:{wheelPropagation:!1},children:t&&Object.keys(t).length>0?(0,w.jsxs)(f.Z.Content,{children:[(0,w.jsx)(f.Z.Pane,{eventKey:"all-notifications",className:"pb-3 min-h-100",children:t&&Object.keys(t).map((function(n,a){return(0,w.jsxs)(o.Fragment,{children:[(0,w.jsxs)("div",{className:"d-flex align-items-center justify-content-between px-3 py-1",children:[(0,w.jsx)("span",{className:"text-gray-800 fw-bold",children:n}),(0,w.jsx)("span",{className:"bg-primary badge rounded-5 min-w-30 text-light-alt d-none",children:t[n]&&t[n].length>0?t[n].length:0})]}),t[n]&&t[n].length>0?(0,w.jsx)("div",{className:"",children:t[n].map((function(t){return(0,w.jsxs)(y.rU,{to:t.url?t.url:"#",className:"px-3 d-flex align-items-start border-bottom notification-item text-decoration-none ".concat(0==t.status?"bg-light":""),onClick:function(){return e.updateStatus(t)},children:[(0,w.jsx)("div",{className:"symbol symbol-38 rounded-1 overflow-hidden me-2 bg-light p-2",children:(0,w.jsx)("img",{alt:"Pic",src:(0,b.F)("media/notification-icons/".concat(t.message.photo)),height:"40",width:"40",onError:function(e){return e.target.src=(0,b.F)("media/notification-icons/suite-icon.svg")}})}),(0,w.jsxs)("div",{className:"d-flex align-items-start flex-column flex-grow-1",children:[(0,w.jsxs)("div",{className:"d-flex algin-items-center justify-content-between w-100",children:[(0,w.jsx)("span",{className:"text-hover-primary text-gray-800 fw-bold text-decoration-none me-2",children:t.message.subject}),(0,w.jsx)("span",{className:"text-gray-500 fs-9",children:h()(new Date(1e3*t.message.time)).format("hh:mma")})]}),(0,w.jsx)("div",{className:"d-flex algin-items-start",children:(0,w.jsx)("span",{className:"text-gray-600 fs-9",children:t.message.text})})]})]},t.id)}))}):0==a?(0,w.jsx)("div",{className:"block-center",style:{height:350},children:(0,w.jsx)("p",{className:"mb-0 text-muted",children:"No Notifications"})}):null]},a)}))}),(0,w.jsx)(f.Z.Pane,{eventKey:"unread-notifications",className:"pb-3 min-h-100",children:n&&Object.keys(n).length>0?Object.keys(n).map((function(t,a){return(0,w.jsxs)(o.Fragment,{children:[(0,w.jsxs)("div",{className:"d-flex align-items-center justify-content-between px-3 py-1",children:[(0,w.jsx)("span",{className:"text-gray-800 fw-bold",children:t}),(0,w.jsx)("span",{className:"bg-primary badge rounded-5 min-w-30 text-light-alt d-none",children:n[t]&&n[t].length>0&&n[t].filter((function(e){return 0==e.status})).length>0?n[t].filter((function(e){return 0==e.status})).length:0})]}),n[t]&&n[t].length>0?(0,w.jsx)("div",{className:"",children:n[t].map((function(t){return 0==t.status?(0,w.jsxs)(y.rU,{to:t.url?t.url:"#",className:"px-3 d-flex align-items-start border-bottom notification-item bg-light text-decoration-none",onClick:function(){return e.updateStatus(t)},children:[(0,w.jsx)("div",{className:"symbol symbol-38 rounded-1 overflow-hidden me-2 bg-light p-2",children:(0,w.jsx)("img",{alt:"Pic",src:(0,b.F)("media/notification-icons/".concat(t.message.photo)),height:"40",width:"40"})}),(0,w.jsxs)("div",{className:"d-flex align-items-start flex-column flex-grow-1",children:[(0,w.jsxs)("div",{className:"d-flex algin-items-center justify-content-between w-100",children:[(0,w.jsx)("span",{className:"text-hover-primary text-gray-800 fw-bold text-decoration-none me-2",children:t.message.subject}),(0,w.jsx)("span",{className:"text-gray-500 fs-9",children:h()(new Date(1e3*t.message.time)).format("hh:mma")})]}),(0,w.jsx)("div",{className:"d-flex algin-items-start",children:(0,w.jsx)("span",{className:"text-gray-600 fs-9",children:t.message.text})})]})]},t.id):null}))}):null]},a)})):(0,w.jsx)("div",{className:"block-center",style:{height:350},children:(0,w.jsx)("p",{className:"mb-0 text-muted",children:"No Unread Notifications"})})})]}):(0,w.jsx)("div",{className:"block-center",style:{height:150},children:(0,w.jsx)("p",{className:"mb-0 text-muted",children:"No Notifications"})})})]})})}}]),n}(o.Component);t.default=(0,u.$j)((function(e){return{notificationList:e.notifications.notificationList}}),(function(e){return{getLoadNotify:function(){return e((0,j.Au)())}}}))(Z)},60576:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];function a(){for(var e=arguments.length,n=Array(e),a=0;a<e;a++)n[a]=arguments[a];var i=null;return t.forEach((function(e){if(null==i){var t=e.apply(void 0,n);null!=t&&(i=t)}})),i}return(0,s.default)(a)};var a,i=n(62865),s=(a=i)&&a.__esModule?a:{default:a};e.exports=t.default},62865:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(t,n,a,i,s,r){var l=i||"<<anonymous>>",c=r||a;if(null==n[a])return t?new Error("Required "+s+" `"+c+"` was not specified in `"+l+"`."):null;for(var o=arguments.length,u=Array(o>6?o-6:0),d=6;d<o;d++)u[d-6]=arguments[d];return e.apply(void 0,[n,a,l,s,c].concat(u))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n},e.exports=t.default},67894:function(e,t,n){n.d(t,{Z:function(){return F}});var a=n(4942),i=n(1413),s=n(45987),r=n(46123),l=n.n(r),c=(n(60576),n(47313)),o=n(66227),u=n(15028),d=n(76620),f=n(21369),m=n(65784),v=n(9982),h=n(25891),x=n(25197),g=n(29439),y=n(29650),b=n(16184),p=n(46417),j=["as","active","eventKey"];function N(e){var t=e.key,n=e.onClick,a=e.active,i=e.id,s=e.role,r=e.disabled,l=(0,c.useContext)(v.Z),o=(0,c.useContext)(m.Z),u=(0,c.useContext)(h.Z),d=a,f={role:s};if(o){s||"tablist"!==o.role||(f.role="tab");var g=o.getControllerId(null!=t?t:null),b=o.getControlledId(null!=t?t:null);f[(0,x.PB)("event-key")]=t,f.id=g||i,!(d=null==a&&null!=t?o.activeKey===t:a)&&(null!=u&&u.unmountOnExit||null!=u&&u.mountOnEnter)||(f["aria-controls"]=b)}return"tab"===f.role&&(f["aria-selected"]=d,d||(f.tabIndex=-1),r&&(f.tabIndex=-1,f["aria-disabled"]=!0)),f.onClick=(0,y.Z)((function(e){r||(null==n||n(e),null!=t&&l&&!e.isPropagationStopped()&&l(t,e))})),[f,{isActive:d}]}var w=c.forwardRef((function(e,t){var n=e.as,a=void 0===n?b.ZP:n,i=e.active,s=e.eventKey,r=function(e,t){if(null==e)return{};var n,a,i={},s=Object.keys(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,j),l=N(Object.assign({key:(0,v.h)(s,r.href),active:i},r)),c=(0,g.Z)(l,2),o=c[0],u=c[1];return o[(0,x.PB)("active")]=u.isActive,(0,p.jsx)(a,Object.assign({},r,o,{ref:t}))}));w.displayName="NavItem";var Z=w,k=["as","onSelect","activeKey","role","onKeyDown"];var O=function(){},C=(0,x.PB)("event-key"),P=c.forwardRef((function(e,t){var n,a,i=e.as,s=void 0===i?"div":i,r=e.onSelect,l=e.activeKey,o=e.role,g=e.onKeyDown,y=function(e,t){if(null==e)return{};var n,a,i={},s=Object.keys(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,k),b=(0,d.Z)(),j=(0,c.useRef)(!1),N=(0,c.useContext)(v.Z),w=(0,c.useContext)(h.Z);w&&(o=o||"tablist",l=w.activeKey,n=w.getControlledId,a=w.getControllerId);var Z=(0,c.useRef)(null),P=function(e){var t=Z.current;if(!t)return null;var n=(0,u.Z)(t,"[".concat(C,"]:not([aria-disabled=true])")),a=t.querySelector("[aria-selected=true]");if(!a||a!==document.activeElement)return null;var i=n.indexOf(a);if(-1===i)return null;var s=i+e;return s>=n.length&&(s=0),s<0&&(s=n.length-1),n[s]},K=function(e,t){null!=e&&(null==r||r(e,t),null==N||N(e,t))};(0,c.useEffect)((function(){if(Z.current&&j.current){var e=Z.current.querySelector("[".concat(C,"][aria-selected=true]"));null==e||e.focus()}j.current=!1}));var S=(0,f.Z)(t,Z);return(0,p.jsx)(v.Z.Provider,{value:K,children:(0,p.jsx)(m.Z.Provider,{value:{role:o,activeKey:(0,v.h)(l),getControlledId:n||O,getControllerId:a||O},children:(0,p.jsx)(s,Object.assign({},y,{onKeyDown:function(e){if(null==g||g(e),w){var t;switch(e.key){case"ArrowLeft":case"ArrowUp":t=P(-1);break;case"ArrowRight":case"ArrowDown":t=P(1);break;default:return}t&&(e.preventDefault(),K(t.dataset[(0,x.$F)("EventKey")]||null,e),j.current=!0,b())}},ref:S,role:o}))})})}));P.displayName="Nav";var K=Object.assign(P,{Item:Z}),S=n(68524),A=n(9971),I=n(15614),L=(0,n(28864).Z)("nav-item"),R=n(48091),_=["bsPrefix","className","as","active","eventKey"],E=c.forwardRef((function(e,t){var n=e.bsPrefix,a=e.className,r=e.as,c=void 0===r?R.Z:r,o=e.active,u=e.eventKey,d=(0,s.Z)(e,_);n=(0,S.vE)(n,"nav-link");var f=N((0,i.Z)({key:(0,v.h)(u,d.href),active:o},d)),m=(0,g.Z)(f,2),h=m[0],x=m[1];return(0,p.jsx)(c,(0,i.Z)((0,i.Z)((0,i.Z)({},d),h),{},{ref:t,className:l()(a,n,d.disabled&&"disabled",x.isActive&&"active")}))}));E.displayName="NavLink",E.defaultProps={disabled:!1};var q=E,D=["as","bsPrefix","variant","fill","justify","navbar","navbarScroll","className","activeKey"],U=c.forwardRef((function(e,t){var n,r,u,d=(0,o.Ch)(e,{activeKey:"onSelect"}),f=d.as,m=void 0===f?"div":f,v=d.bsPrefix,h=d.variant,x=d.fill,g=d.justify,y=d.navbar,b=d.navbarScroll,j=d.className,N=d.activeKey,w=(0,s.Z)(d,D),Z=(0,S.vE)(v,"nav"),k=!1,O=(0,c.useContext)(A.Z),C=(0,c.useContext)(I.Z);return O?(r=O.bsPrefix,k=null==y||y):C&&(u=C.cardHeaderBsPrefix),(0,p.jsx)(K,(0,i.Z)({as:m,ref:t,activeKey:N,className:l()(j,(n={},(0,a.Z)(n,Z,!k),(0,a.Z)(n,"".concat(r,"-nav"),k),(0,a.Z)(n,"".concat(r,"-nav-scroll"),k&&b),(0,a.Z)(n,"".concat(u,"-").concat(h),!!u),(0,a.Z)(n,"".concat(Z,"-").concat(h),!!h),(0,a.Z)(n,"".concat(Z,"-fill"),x),(0,a.Z)(n,"".concat(Z,"-justified"),g),n))},w))}));U.displayName="Nav",U.defaultProps={justify:!1,fill:!1};var F=Object.assign(U,{Item:L,Link:q})}}]);