"use strict";(self.webpackChunkugc_suite_build=self.webpackChunkugc_suite_build||[]).push([[8976],{68976:function(e,t,n){n.r(t);var o=n(15671),a=n(43144),l=n(97326),s=n(60136),i=n(29388),c=n(72791),r=n(78687),d=n(9085),u=n(95316),m=n(46305),C=n(80184),h=function(e){(0,s.Z)(n,e);var t=(0,i.Z)(n);function n(e){var a;return(0,o.Z)(this,n),(a=t.call(this,e)).state={collectioName:null,isRequesting:!1},a.onClickCreate=function(e){return a.onEventCreate()},a.onEnterCreate=function(e){"Enter"===e.key&&a.onEventCreate()},a.onEventCreate=function(){var e=(0,l.Z)(a),t=a.props.collectionData,n=a.state.collectioName;if(a.setState({isRequesting:!0}),n&&String(n).trim().length>0){var o=d.Am.loading("Loading...");if(t&&Object.keys(t).length>0&&t.collectionList&&t.collectionList.length>0){var s=t.collectionList.filter((function(e){return String(e.name).toLowerCase()==String(n).toLowerCase()}));s&&s.length>0?(d.Am.update(o,{render:"Collection already exists.",type:"error",isLoading:!1,autoClose:3e3}),e.setState({isRequesting:!1})):a.onCreateLoad(o)}else a.onCreateLoad(o)}else d.Am.error("Please enter valid collection name."),e.setState({isRequesting:!1})},a.onCreateLoad=function(e){var t=(0,l.Z)(a),n=a.state.collectioName;(0,m.BL)({name:n}).then((function(n){t.setState({isRequesting:!1}),d.Am.update(e,{render:"Collection has been successfully created.",type:"success",isLoading:!1,autoClose:3e3}),t.props.addCollectionCallbackWithAPI(!1),(0,m.M1)().then((function(e){var n=e.data.responseData;n&&Object.keys(n).length>0&&t.props.dispatch({type:"COLLECTIONS",payload:{collection:n.collection,assetsCount:n.assets}})}))})).catch((function(n){var o=n.response.data;d.Am.update(e,{render:o.message,type:"error",isLoading:!1,autoClose:3e3}),t.setState({isRequesting:!1})}))},a.onChangeCollectionName=function(e){a.setState({collectioName:e.target.value})},a.handleClose=function(e){return a.setState({collectioName:""},(function(){return a.props.addCollectionCallback(!1)}))},a}return(0,a.Z)(n,[{key:"render",value:function(){var e=this.props.addCollectionModal,t=this.state,n=t.collectioName,o=t.isRequesting;return(0,C.jsxs)(u.Z,{show:e,onHide:this.handleClose,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,C.jsx)(u.Z.Header,{closeButton:!0,children:(0,C.jsx)(u.Z.Title,{children:"Create New Collection"})}),(0,C.jsx)(u.Z.Body,{children:(0,C.jsx)("div",{className:"mx-xl-4 px-2 px-lg-4 mx-0 pt-4",children:(0,C.jsxs)("div",{className:"row mb-4 mb-xl-5",children:[(0,C.jsx)("label",{className:"col-sm-3 text-muted mb-2",children:"Collection Name"}),(0,C.jsx)("div",{className:"col-sm-9",children:(0,C.jsx)("input",{type:"text",name:"company",className:"form-control",placeholder:"Enter collection name...",onChange:this.onChangeCollectionName,value:n,onKeyUp:this.onEnterCreate})})]})})}),(0,C.jsx)(u.Z.Footer,{className:"p-3",children:(0,C.jsxs)("div",{className:"mx-xl-4 px-2 px-lg-4 mx-0",children:[(0,C.jsx)("button",{type:"button",className:"btn btn-secondary btn-sm btn-min-w me-3",onClick:this.handleClose,children:"Cancel"}),(0,C.jsx)("button",{type:"button",className:"btn btn-primary btn-sm btn-min-w".concat(o?" spinner disabled":""),onClick:this.onClickCreate,children:"Create"})]})})]})}}]),n}(c.Component);t.default=(0,r.$j)((function(e){return{collectionData:e.collection}}))(h)}}]);
//# sourceMappingURL=8976.f203ff7b.chunk.js.map