"use strict";(self.webpackChunkugc_suite_build=self.webpackChunkugc_suite_build||[]).push([[4945],{84945:function(e,t,a){a.r(t),a.d(t,{default:function(){return q}});var s=a(15671),n=a(43144),o=a(97326),i=a(60136),l=a(29388),r=a(1413),m=a(72791),d=a(9085),c=a(28949),p=a(92719),h=a(67839),u=a(57420),g=a(77616),_=a(44478),f=a(56600),S=a(22460),x=a(80426),b=a(41342),j=a(49339),y=a(13062),v=a(27064),k=a(4942),T=(a(72426),a(48282)),U=a(97109),C=a(80184),D=function(e){(0,i.Z)(a,e);var t=(0,l.Z)(a);function a(e){var n;return(0,s.Z)(this,a),(n=t.call(this,e)).state={trimContent:!1,isShuffle:!1,themeData:U.JG},n}return(0,n.Z)(a,[{key:"componentDidUpdate",value:function(){var e=this.props.themeSettings,t=this.state,a=t.isShuffle,s=t.themeData;if(e.suffleAssets!=a){var n=e.suffleAssets?(0,U.TV)(s):s;this.setState({isShuffle:e.suffleAssets,themeData:n})}}},{key:"render",value:function(){var e,t=this.state,a=t.themeData,s=t.trimContent,n=a&&a.length?a.length>3?3:a.length:3,o=this.props,i=o.background,l=o.cardStyle,r=(o.advanced,o.onClickToPopUp),m=o.themeSettings,d=(o.cta,m.columns.value),c=(e={type:"loop",rewind:!0,speed:1e3,loop:!0,interval:5e3,perPage:d||5,gap:0,autoplay:!1,padding:"0",pagination:!1,arrows:!0,fixedHeight:!0},(0,k.Z)(e,"arrows",!1),(0,k.Z)(e,"breakpoints",{560:{perPage:1,perMove:1},767:{perPage:d>0?d-3<1?d:d-3:n},991:{perPage:d>0?d-4<1?d:d-4:n},1200:{perPage:d>0?d-1==0?d:d-1:n},1600:{perPage:d>0?d:6}}),e),p=m.numberOfPosts?a.slice(0,m.numberOfPosts):a;return(0,C.jsx)("div",{className:"tb_theme_container",style:i.status?{backgroundImage:"url('".concat(i.image,"')"),backgroundColor:i.color}:null,children:(0,C.jsx)("div",{className:"tb_rt_post_container",children:(0,C.jsx)(T.tv,{hasTrack:!1,className:"tb_rt_post_slider ".concat(s?"tb_rt_fixed_height":""),options:c,children:(0,C.jsx)(T.Gj,{children:p&&p.map((function(e){return(0,C.jsx)(T.jw,{children:(0,C.jsx)("div",{className:"tb_rt_post_wrapper",style:{padding:l.postPadding},children:(0,C.jsx)("div",{className:"tb_rt_post_in",style:{backgroundColor:l.cardColor,borderRadius:l.borderRadius},onClick:m.postPopUp&&Object.keys(m.postPopUp).length>0?1==m.postPopUp.value?function(t){return r(e)}:2==m.postPopUp.value?function(t){return(0,U.gB)(e.social.url)}:3==m.postPopUp.value?function(e){return(0,U.gB)(m.popUpUrl)}:null:null,children:(0,C.jsx)("div",{className:"tb_rt_post_media_wrapp",role:"img","aria-label":"Media Wrapper",children:(0,C.jsx)("div",{className:"tb_rt_media_wrap",children:(0,C.jsx)("div",{className:"tb_rt_media_wrap",style:{paddingBottom:"200%"},children:(0,C.jsx)("div",{className:"tb_rt_image",style:{backgroundImage:"url(".concat(e.urls.medium,")")},children:(0,C.jsx)("img",{src:e.urls.medium,height:200,width:100,alt:""})})})})})})})},"rt_".concat(e.id))}))})})})})}}]),a}(m.Component),F=a(8903),N=a(79098),P=a(9299),I=a(22141),Z=a(53446),w=a(71801),O=m.lazy((function(){return a.e(8059).then(a.bind(a,18059))})),A=m.lazy((function(){return a.e(6459).then(a.bind(a,96459))})),V=m.lazy((function(){return a.e(7685).then(a.bind(a,87685))})),z=m.lazy((function(){return a.e(5531).then(a.bind(a,55531))})),R=m.lazy((function(){return a.e(4559).then(a.bind(a,84559))})),B=function(e){var t=e.themeName,a=e.templateFormData,s=e.onClickToPopUp;switch(t){case 20:default:return(0,C.jsx)(y.Z,(0,r.Z)((0,r.Z)({themeId:t},a),{},{onClickToPopUp:s}));case 4:return(0,C.jsx)(j.Z,(0,r.Z)((0,r.Z)({themeId:t},a),{},{onClickToPopUp:s}));case 47:return(0,C.jsx)(v.Z,(0,r.Z)((0,r.Z)({themeId:t},a),{},{onClickToPopUp:s}));case 6:return(0,C.jsx)(D,(0,r.Z)((0,r.Z)({themeId:t},a),{},{onClickToPopUp:s}));case 21:return(0,C.jsx)(F.Z,(0,r.Z)((0,r.Z)({themeId:t},a),{},{onClickToPopUp:s}));case 44:return(0,C.jsx)(N.Z,(0,r.Z)((0,r.Z)({themeId:t},a),{},{onClickToPopUp:s}));case 50:return(0,C.jsx)(P.Z,(0,r.Z)((0,r.Z)({themeId:t},a),{},{onClickToPopUp:s}));case 58:return(0,C.jsx)(I.Z,(0,r.Z)((0,r.Z)({themeId:t},a),{},{onClickToPopUp:s}))}},q=function(e){(0,i.Z)(a,e);var t=(0,l.Z)(a);function a(e){var n;return(0,s.Z)(this,a),(n=t.call(this,e)).onChooseTheme=function(e,t){return function(a){n.setState({selectedTheme:e,selectedThemeData:t,popupData:null})}},n.onTextTemplateName=function(e){n.setState({templateName:e.target.value,tempError:!1})},n.tempFormData=function(e){n.setState({templateFormData:e})},n.onClickSaveChanges=function(e){var t=n.state,a=t.templateFormData,s=t.templateName,i=t.selectedThemeData,l=n.props.onSiteSetting;if(a&&Object.keys(a).length>0&&String(s).length>0){var r=(0,o.Z)(n),m={network:l.network,filter:l.filter,moderation:l.moderation,onsite_qr_code_btn_text:a.onSiteUpload.buttonText,onsite_btn_color:a.onSiteUpload.bgColor,onsite_btn_txt_color:a.onSiteUpload.textColor,onsite_link_font_btn:a.onSiteUpload.fontFamily?a.onSiteUpload.fontFamily.family:l.onsite_link_font_btn,onsite_txt_font:a.onSiteUpload.fontFamily?a.onSiteUpload.fontFamily.family:"",onsite_txt_font_variation:a.onSiteUpload.fontVarient?a.onSiteUpload.fontVarient.value:"",onsite_txt_font_size:a.onSiteUpload.fontSize,onsite_txt_color:a.onSiteUpload.textColor,onsite_css_font_btn:a.onSiteUpload.fontFamily?a.onSiteUpload.fontFamily.family:l.onsite_css_font_btn,onsite_font_varient_btn:a.onSiteUpload.fontVarient?a.onSiteUpload.fontVarient.value:l.onsite_font_varient_btn,btn_fontSize:a.onSiteUpload.fontSize,onsite_qr_code_status:a.onSiteUpload.qrCodeStatus,onsite_button_status:a.onSiteUpload.buttonStatus,onsite_popup_title:l.onsite_popup_title,onsite_popup_sub_heading:l.onsite_popup_sub_heading,onsite_term_url:l.onsite_term_url,onsiteImgBack:l.onsiteImgBack,onsite_logo:l.onsite_logo,Onsite_logoImageValue:l.Onsite_logoImageValue,onsite_bg_color_wg:l.onsite_bg_color_wg,onsiteBackImage:l.onsiteBackImage,onsite_bg_image_wg:l.onsite_bg_image_wg,Onsite_backImageValue:l.Onsite_backImageValue,onsite_succ_msg:l.onsite_succ_msg,onsite_thank_txt_color:l.onsite_thank_txt_color,onsite_link_font_msg:l.onsite_link_font_msg,onsite_css_font_msg:l.onsite_css_font_msg,onsite_font_varient_msg:l.onsite_font_varient_msg,onsite_thank_fontSize:l.onsite_thank_fontSize,btn_radius:a.onSiteUpload.borderRadius,onsite_overlay_poisition:a.onSiteUpload.onsite_overlay_poisition?a.onSiteUpload.onsite_overlay_poisition:1},c={ctaStatus:a.cta&&a.cta.ctaStatus?1:0,ctaTextColor:a.cta?a.cta.ctaTextColor:"",ctaButtonColor:a.cta?a.cta.ctaButtonColor:"",buttonText:a.cta?a.cta.buttonText:"",buttonUrl:a.cta?a.cta.buttonUrl:""},p={action:1,name:s,theme:i.themeId,cssStatus:a.customCss.cssStatus?1:0,css:a.customCss.css,backgroundColor:a.background.status?a.background.color:"",transparent:a.background.transparent?1:0,backgroundImage:a.background.image?a.background.image:"",backgroundImageId:0,link_font:a.cardStyle.fontFamily?a.cardStyle.fontFamily.family:"",css_font:a.cardStyle.fontFamily?a.cardStyle.fontFamily.family:"",font_varient:a.cardStyle.fontVarient&&Object.keys(a.cardStyle.fontVarient).length>0?a.cardStyle.fontVarient.value:"",fontColor:a.cardStyle.textColor,cardColor:a.cardStyle.cardColor,postText:a.themeSettings.hideTextTypeAssets?1:0,postAuthor:a.advanced.author?1:0,postTime:a.advanced.time?1:0,postFeatured:a.themeSettings.postPopUp?a.themeSettings.postPopUp.value:0,minimumPostWidth:a.themeSettings.minPostWitdh,padding:a.themeSettings.postPadding,scrollDelay:a.themeSettings.scrollSpeed,slideDelay:a.themeSettings.timePerSlide,numberOfPosts:a.themeSettings.numberOfPosts,trimcontent:a.themeSettings.trimContent?1:0,playFullVideo:a.themeSettings.playFullVideo?1:0,randomizePost:a.themeSettings.suffleAssets?1:0,hideUrls:a.themeSettings.hideUrls?1:0,fitRow:a.themeSettings.bestFit?1:0,roundEdge:a.cardStyle.borderRadius?a.cardStyle.borderRadius:5,cardType:1,socialAction:a.advanced.socialActions?1:0,timeForPopup:a.themeSettings.popUpduration,authorColor:a.cardStyle.authorColor,iconType:a.cardStyle.iconType?1:505,iconColor:a.cardStyle.socialIconColor,fontSize:parseInt(a.cardStyle.fontSize),shareOption:a.advanced.shareOptions?1:0,hideContent:a.advanced.hideContent?1:0,numberOfCoumn:a.themeSettings.columns&&Object.keys(a.themeSettings.columns).length>0?a.themeSettings.columns.value:0,slideDuration:0,slidePost:0,autoPlay:0,popupSlideShow:a.themeSettings.popupSlideShow?1:0,customUrl:a.themeSettings.popUpUrl&&String(a.themeSettings.popUpUrl).length>0?a.themeSettings.popUpUrl:"",showHideOldPost:a.themeSettings.hideOldAssets.range&&8==a.themeSettings.hideOldAssets.range.value?new Date(a.themeSettings.hideOldAssets.showHideOldPost).getTime():0,showHideOlderPost:a.themeSettings.hideOldAssets.range?a.themeSettings.hideOldAssets.range.value:0,loadMoreStatus:a.themeSettings.showmore?1:0,autoScrollStatus:a.themeSettings.autoLoad?1:0,hidePosts:a.themeSettings.hideOldAssets.status?1:0,onsite_settings:JSON.stringify(m),duplicatePostId:a.themeSettings.duplicatePostId?1:0,ctaData:JSON.stringify(c)};n.setState({isRequesting:!0,tempError:!1}),(0,w.Mn)(p).then((function(e){r.setState({isRequesting:!1,tempError:!1}),d.Am.success("New template has been successfully created."),r.props.history("/template")})).catch((function(e){if(e.response){r.setState({isRequesting:!1,tempError:!1});var t=e.response.data;d.Am.error(t.message,{autoClose:2e3})}}))}else 0==String(s).length&&n.setState({tempError:!0}),d.Am.error("Please check all required fields.")},n.onClickToPopUp=function(e,t){t?n.setState({popupData:e},(function(){return t()})):n.setState({popupData:e})},n.onClosePopUp=function(e){return n.setState({popupData:null})},n.state={templateName:"",selectedTheme:e.defaultTheme?{name:e.defaultTheme.name,themeId:e.defaultTheme.themeId}:{},selectedThemeData:e.defaultTheme?e.defaultTheme:null,templateFormData:null,isRequesting:!1,tempError:!1,popupData:null},n}return(0,n.Z)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.themeList,s=t.fonts,n=t.onSiteSetting,o=this.state,i=o.selectedTheme,l=o.selectedThemeData,r=o.templateName,d=o.templateFormData,j=o.isRequesting,y=o.tempError,v=o.popupData,k=[4,20,47,50];return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(Z.Z,{fonts:s}),(0,C.jsx)("div",{className:"innerAside flex-shrink-0 mb-3 mb-lg-0",children:(0,C.jsx)("div",{className:"card mb-4",children:(0,C.jsxs)("div",{className:"card-body p-0",children:[(0,C.jsxs)("div",{className:"p-3",children:[(0,C.jsxs)("div",{className:"pb-3",children:[(0,C.jsxs)("label",{className:"text-gray-800 mb-2",children:["Template Name ",(0,C.jsx)("strong",{className:"text-danger",children:"*"})]}),(0,C.jsxs)("div",{className:"",children:[(0,C.jsx)("input",{type:"text",name:"templateName",className:"form-control form-control-sm ".concat(y?"is-invalid":""),placeholder:"Enter Template name...",onChange:this.onTextTemplateName,value:r}),y?(0,C.jsx)("div",{className:"invalid-feedback",children:"Please provide template name"}):null]})]}),(0,C.jsxs)("div",{className:"template_aside_inner",children:[(0,C.jsx)(c.Z,{defaultActiveKey:"1",children:(0,C.jsxs)(c.Z.Item,{eventKey:"1",className:"pb-3",children:[(0,C.jsx)(c.Z.Header,{className:"w-100",children:(0,C.jsx)("span",{className:"fs-9 fw-medium",children:i&&i.name?i.name:"Choose Theme"})}),(0,C.jsx)(c.Z.Body,{className:"border rounded-1 mt-1",children:(0,C.jsx)(p.Z,{type:"radio",className:"flex-column w-100",name:"themeName",defaultValue:20,children:a.map((function(t,a){return(0,C.jsx)(h.Z,{variant:"outline-secondary",id:"theme-".concat(t.themeId),className:"bg-white mb-2 ".concat((t.themeId,i.themeId,"")),onClick:e.onChooseTheme({name:t.name,themeId:t.themeId},t),value:t.themeId,children:(0,C.jsxs)("div",{className:"d-flex align-items-center",children:[(0,C.jsx)("div",{className:"symbol symbol-40 flex-shrink-0 me-2 text-gray-400",children:(0,C.jsx)("img",{className:"img-fluid",src:(0,f.F)("media/images/themes/".concat(t.themeId,".png")),height:"40",width:"40",alt:t.name})}),(0,C.jsxs)("div",{className:"overflow-hidden",children:[(0,C.jsx)("p",{className:"fs-8 fw-semibold mb-1 text-gray-dark text-ellipsis text-start",children:t.name}),(0,C.jsx)("p",{className:"fs-9 fw-medium mb-0 text-gray-600 text-ellipsis text-start",children:1==t.product_type?"Widget":2==t.product_type?"Display":""})]})]})},"theme_".concat(a))}))})})]})}),i&&Object.keys(i).length>0?(0,C.jsx)(C.Fragment,{children:4==i.themeId?(0,C.jsx)(m.Suspense,{fallback:(0,C.jsx)(C.Fragment,{}),children:(0,C.jsx)(A,{selectedThemeData:l,tempFormData:this.tempFormData,fonts:s,selectedTheme:i,onSiteSetting:n})}):21==i.themeId?(0,C.jsx)(m.Suspense,{fallback:(0,C.jsx)(C.Fragment,{}),children:(0,C.jsx)(x.Z,{selectedThemeData:l,tempFormData:this.tempFormData,fonts:s,selectedTheme:i,onSiteSetting:n})}):20==i.themeId?(0,C.jsx)(m.Suspense,{fallback:(0,C.jsx)(C.Fragment,{}),children:(0,C.jsx)(O,{selectedThemeData:l,tempFormData:this.tempFormData,fonts:s,selectedTheme:i,onSiteSetting:n})}):44==i.themeId?(0,C.jsx)(m.Suspense,{fallback:(0,C.jsx)(C.Fragment,{}),children:(0,C.jsx)(b.Z,{selectedThemeData:l,tempFormData:this.tempFormData,fonts:s,selectedTheme:i,onSiteSetting:n})}):50==i.themeId?(0,C.jsx)(m.Suspense,{fallback:(0,C.jsx)(C.Fragment,{}),children:(0,C.jsx)(R,{selectedThemeData:l,tempFormData:this.tempFormData,fonts:s,selectedTheme:i,onSiteSetting:n})}):47==i.themeId?(0,C.jsx)(m.Suspense,{fallback:(0,C.jsx)(C.Fragment,{}),children:(0,C.jsx)(V,{selectedThemeData:l,tempFormData:this.tempFormData,fonts:s,selectedTheme:i,onSiteSetting:n})}):6==i.themeId?(0,C.jsx)(m.Suspense,{fallback:(0,C.jsx)(C.Fragment,{}),children:(0,C.jsx)(z,{selectedThemeData:l,tempFormData:this.tempFormData,fonts:s,selectedTheme:i,onSiteSetting:n})}):58==i.themeId?(0,C.jsx)(m.Suspense,{fallback:(0,C.jsx)(C.Fragment,{}),children:(0,C.jsx)(S.Z,{selectedThemeData:l,tempFormData:this.tempFormData,fonts:s,selectedTheme:i,onSiteSetting:n})}):null}):null]})]}),(0,C.jsx)("div",{className:"bg-white pt-2 w-100 p-3 rounded-2",children:(0,C.jsx)("button",{type:"button",className:"btn btn-primary w-100 ".concat(j?"spinner":""),onClick:i?this.onClickSaveChanges:null,children:"Save Changes"})})]})})}),(0,C.jsx)("div",{className:"d-flex flex-column overflow-hidden w-100",children:(0,C.jsx)("div",{className:"card",children:(0,C.jsx)("div",{className:"card-body content_wrapper",id:"themePreview",children:(0,C.jsxs)("div",{className:"tb_app_container",children:[d&&Object.keys(d).length>0?(0,C.jsxs)("div",{className:"tb_app_wrapper",children:[k.includes(i.themeId)?(0,C.jsx)(u.Z,{onSiteUpload:this.state.templateFormData.onSiteUpload}):null,(0,C.jsx)(B,{themeName:i.themeId,templateFormData:this.state.templateFormData,onClickToPopUp:this.onClickToPopUp}),[21,44,58].includes(i.themeId)?(0,C.jsx)(g.Z,{onSiteUpload:this.state.templateFormData.onSiteUpload}):null]},i.themeId):null,v?(0,C.jsx)(_.Z,{data:v,onClosePopUp:this.onClosePopUp,templateFormData:this.state.templateFormData,isWidget:k.includes(i.themeId)}):null]})})})})]})}}]),a}(m.Component)}}]);
//# sourceMappingURL=4945.cae0155d.chunk.js.map