"use strict";(self.webpackChunkugc_suite_build=self.webpackChunkugc_suite_build||[]).push([[6896,3609,2644,8063],{92644:function(e,t,n){n.r(t);var s=n(15671),i=n(43144),a=n(97326),l=n(60136),o=n(29388),c=n(72791),r=n(11087),d=n(43360),u=n(23794),p=n(56600),h=(n(73609),n(94111)),m=n(80184),f=function(e){(0,l.Z)(n,e);var t=(0,o.Z)(n);function n(){var e;(0,s.Z)(this,n);for(var i=arguments.length,l=new Array(i),o=0;o<i;o++)l[o]=arguments[o];return(e=t.call.apply(t,[this].concat(l))).state={active:null,activeAction:null},e.changeFilter=function(t){return function(n){return e.setState({activeAction:t})}},e.onClickToEdit=function(t,n){return function(s){return e.onUpdate(t,n)}},e.onUpdate=function(t,n){var s=(0,a.Z)(e);e.setState({activeAction:n}),(0,h.FN)(t.id).then((function(e){var t=e.data,n=t.publishCode,i=t.assestCount;s.props.onUpdateReponseData({assestCount:i,publishCode:n})})).catch((function(e){s.props.onUpdateReponseData({assestCount:0,publishCode:t})}))},e}return(0,i.Z)(n,[{key:"componentWillReceiveProps",value:function(e){var t=e.state,n=this.state.activeAction;t.collectionList.length>0&&t.publishList.length>0&&null==n&&this.onUpdate(t.publishList[0],0)}},{key:"render",value:function(){var e=this,t=this.props,n=t.state,s=t.isListRequesting,i=this.state.activeAction,a=Array.from({length:8},(function(e,t){return t+1}));return(0,m.jsx)("div",{className:"filter_list_wrapper",onChange:function(t){return e.embedCodeCallback(t)},children:(0,m.jsx)("div",{className:"filter_list",children:s?a.map((function(e,t){return(0,m.jsx)("div",{className:"sk_rect h-54px mb-3"},t)})):n.collectionList.length>0&&n.publishList.length>0?n.publishList.map((function(t,n){return(0,m.jsxs)("div",{className:"d-flex rounded-1 mb-3 overflow-hidden border ".concat(i==n?"border-dark":"bg-light border-light"),onClick:e.onClickToEdit(t,n),children:[(0,m.jsxs)("div",{className:"d-flex p-3 pe-0 cursor-pointer overflow-hidden flex-grow-1",children:[(0,m.jsx)("span",{className:"svg-icon svg-icon-2 flex-shrink-0 me-2 block-center d-flex text-gray-700",children:(0,m.jsx)(u.Z,{src:(0,p.F)("media/icons/svg-icons/widget.svg"),height:32,width:32})}),(0,m.jsxs)("div",{className:"d-flex flex-column flex-grow-1 overflow-hidden",children:[(0,m.jsx)("p",{className:"fs-9 mb-0 fw-medium text-ellipsis",children:t.name}),(0,m.jsxs)("span",{className:"text-muted fs-9",children:["Wall :",t.wallId]})]})]}),(0,m.jsxs)("div",{className:"block-center flex-shrink-0 p-3 ps-0",children:[(0,m.jsx)(r.rU,{className:"btn btn-icon btn-active-light p-0 w-26px h-26px transition-none border-0",to:"/web-embed/edit/".concat(t.id),children:(0,m.jsx)("i",{className:"ri-edit-box-line icon-7"})}),(0,m.jsx)(d.Z,{variant:"icon",className:"btn-active-light p-0 w-26px h-26px transition-none border-0",onClick:e.props.onClickToDelete({id:t.id}),children:(0,m.jsx)("i",{className:"ri-delete-bin-line icon-7"})})]})]},n)})):null})})}}]),n}(c.Component);t.default=f},91731:function(e,t,n){var s=n(15671),i=n(43144),a=n(97326),l=n(60136),o=n(29388),c=n(72791),r=n(78687),d=n(11087),u=n(28949),p=n(92719),h=n(67839),m=n(56600),f=n(71801),g=n(80184),x=function(e){try{var t=[],n={};return e.map((function(e){n[e.id]||(t.push(e),n[e.id]=!0)})),t}catch(s){return e}},v=function(e){(0,l.Z)(n,e);var t=(0,o.Z)(n);function n(){var e;(0,s.Z)(this,n);for(var i=arguments.length,l=new Array(i),o=0;o<i;o++)l[o]=arguments[o];return(e=t.call.apply(t,[this].concat(l))).state={templeteList:[],isUpdate:!1,selectTemp:null},e.onLoad=function(){var t=(0,a.Z)(e),n=e.props,s=n.templeteList,i=n.state;t.setState({templeteList:x(s),selectTemp:i.selectedTemplate})},e.onFiltertemplateName=function(t){var n=e.state.templeteList;if(n&&n.length>0){var s=n.filter((function(e){return e.id==t}));return s&&s.length>0?s[0].name:""}return""},e}return(0,i.Z)(n,[{key:"componentWillMount",value:function(){var e=this;setTimeout((function(){e.onLoad()}),100)}},{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){e.onLoad()}),100)}},{key:"render",value:function(){var e=this,t=this.state,n=t.templeteList,s=t.selectTemp,i=this.props,a=i.onSelectTemplate,l=i.state;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("label",{className:"text-gray-800 mb-2",children:["Select Template ",(0,g.jsx)("strong",{className:"text-danger",children:"*"})]}),(0,g.jsxs)(u.Z.Item,{eventKey:"8",className:"pb-3",children:[(0,g.jsx)(u.Z.Header,{className:"w-100",children:(0,g.jsx)("span",{className:"fs-9 fw-medium",children:s?s.name?s.name:this.onFiltertemplateName(s.id):"Please select template."})}),(0,g.jsxs)(u.Z.Body,{className:"border rounded-1 mt-1",children:[n&&n.length>0?(0,g.jsx)(p.Z,{type:"radio",className:"flex-column w-100 pb-2",name:"options",children:n.map((function(t,n){return(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(h.Z,{className:"p-0 card rounded-1 text-decoration-none cursor-pointer mb-2 ".concat(l.selectedTemplate&&Object.keys(l.selectedTemplate).length>0&&t.id==l.selectedTemplate.id?"active":""),variant:"outline-secondary",id:"tbg-radio-1",value:n,onClick:function(){e.setState({selectTemp:t},(function(){a(t)}))},children:(0,g.jsx)("div",{className:"card-body p-2",children:(0,g.jsxs)("div",{className:"d-flex align-items-center",children:[(0,g.jsx)("div",{className:"symbol symbol-40 flex-shrink-0 me-2 text-gray-400",children:(0,g.jsx)("img",{className:"img-fluid",src:(0,m.F)("media/images/themes/".concat(t.Theme.id,".png")),height:"40",width:"40",alt:t.name})}),(0,g.jsxs)("div",{className:"overflow-hidden text-start",children:[(0,g.jsx)("p",{className:"fs-8 fw-semibold mb-1 text-gray-dark text-ellipsis text-start",children:t.name}),(0,g.jsx)("p",{className:"fs-9 fw-semibold mb-0 text-gray-600 text-ellipsis",children:t.Theme.name})]})]})})},"template_id_".concat(n))})}))}):null,(0,g.jsx)("div",{className:"text-center",children:(0,g.jsxs)(d.rU,{to:"/template/add",className:"btn btn-link text-decoration-none btn-sm p-0 btn-min-w",children:[(0,g.jsx)("i",{className:"ri-add-line"}),"Create New Template"]})})]})]})]})}}]),n}(c.Component);t.Z=(0,r.$j)((function(e){return{templeteList:e.templates.templeteList}}),(function(e){return{getTemplateListDispatch:function(t){return e((0,f.vF)(t))}}}))(v)},48063:function(e,t,n){n.r(t);var s=n(1413),i=n(15671),a=n(43144),l=n(60136),o=n(29388),c=n(72791),r=n(78687),d=n(23794),u=n(28949),p=n(92719),h=n(67839),m=n(43360),f=n(56600),g=n(65882),x=n(91731),v=(n(92644),n(80184)),y=function(e){switch(e){case"p-html":default:return"HTML";case"p-wordpress":return"Wordpress";case"p-wix":return"Wix";case"p-squarespace":return"Squarespace";case"p-shopify":return"Shopify";case"p-other":return"Other"}},b=function(e){(0,l.Z)(n,e);var t=(0,o.Z)(n);function n(e){var s;return(0,i.Z)(this,n),(s=t.call(this,e)).state={showModal:!1,publishList:[]},s.embedCodeCallback=function(e){return s.props.genratedCodeCallback(e)},s}return(0,a.Z)(n,[{key:"componentDidMount",value:function(){var e=this,t=document.querySelector("#web_tab_panel-tab-aside-assets_filter");t&&t.addEventListener("click",(function(t){return e.props.onUpdateReponseData(null)}))}},{key:"handleSelect",value:function(e){}},{key:"render",value:function(){var e=this,t=this.props,n=t.filterApply,i=t.state,a=t.genratedCodeModal,l=(t.onClickToDelete,t.onResetFilter),o=(t.activeFilter,t.history,t.onChangeName),r=(t.isPublishEdit,t.templeteList),b=t.themeSkin,j=t.isHide,C=t.onSelectActive;return console.log("state.chooseFilter",i.chooseFilter),(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("label",{className:"text-gray-800 mb-1 fw-medium",htmlFor:"filterLabel",children:["Widget Name ",(0,v.jsx)("strong",{className:"text-danger",children:"*"})]}),(0,v.jsx)("input",{type:"text",className:"form-control form-control-sm mb-3",id:"filterLabel",placeholder:"Please enter publish name..",value:i.publishCodeName,onChange:o}),(0,v.jsxs)("div",{className:"filter_wrapper",children:[(0,v.jsx)(u.Z,{defaultActiveKey:1,activeKey:i.activeKey,onSelect:C(1)?C(1):null,children:(0,v.jsxs)(u.Z.Item,{eventKey:1,className:"pb-3",children:[(0,v.jsxs)(u.Z.Header,{className:"add_fillter_btn",children:[(0,v.jsx)("i",{className:"ri-add-line plus_symbol me-1"}),(0,v.jsx)("i",{className:"ri-subtract-line minus_symbol me-1"}),(0,v.jsx)("span",{className:"fs-9 fw-medium",children:"Choose Filter"})]}),(0,v.jsxs)(u.Z.Body,{className:"border rounded-1 mt-1 choose_filter",children:[(0,v.jsxs)("div",{className:"d-flex align-items-center border-bottom py-2 cursor-pointer ".concat(Object.keys(i.chooseFilter).includes("collection")?"d-none disabled":""),onClick:n("collection"),children:[(0,v.jsx)("div",{className:"symbol symbol-28 bg-light me-2",children:(0,v.jsx)("div",{className:"symbol-label",children:(0,v.jsx)("i",{className:"ri-folder-4-line icon-7 text-gray-800"})})}),(0,v.jsxs)("div",{className:"d-flex flex-column",children:[(0,v.jsx)("p",{className:"fs-9 fw-medium mb-0 text-gray-800",children:"Collection"}),(0,v.jsx)("span",{className:"fs-10 text-gray-500",children:"Select the preferred collection"})]})]}),(0,v.jsxs)("div",{className:"d-flex align-items-center border-bottom py-2 cursor-pointer ".concat(Object.keys(i.chooseFilter).includes("source")?"d-none disabled":""),onClick:n("source"),children:[(0,v.jsx)("div",{className:"symbol symbol-28 bg-light me-2",children:(0,v.jsx)("div",{className:"symbol-label",children:(0,v.jsx)("span",{className:"svg-icon svg-icon-7 text-gray-800 me-0",children:(0,v.jsx)(d.Z,{src:(0,f.F)("media/icons/svg-icons/network.svg"),height:18,width:18})})})}),(0,v.jsxs)("div",{className:"d-flex flex-column",children:[(0,v.jsx)("p",{className:"fs-9 fw-medium mb-0 text-gray-800",children:"Network"}),(0,v.jsx)("span",{className:"fs-10 text-gray-500",children:"Choose the required network"})]})]}),(0,v.jsxs)("div",{className:"d-flex align-items-center border-bottom py-2 cursor-pointer  ".concat(Object.keys(i.chooseFilter).includes("connection")?"d-none disabled":""),onClick:n("connection"),children:[(0,v.jsx)("div",{className:"symbol symbol-28 bg-light me-2",children:(0,v.jsx)("div",{className:"symbol-label",children:(0,v.jsx)("span",{className:"svg-icon svg-icon-7 text-gray-800 me-0",children:(0,v.jsx)(d.Z,{src:(0,f.F)("media/icons/svg-icons/network-manager.svg"),height:18,width:18})})})}),(0,v.jsxs)("div",{className:"d-flex flex-column",children:[(0,v.jsx)("p",{className:"fs-9 fw-medium mb-0 text-gray-800",children:"Connections"}),(0,v.jsx)("span",{className:"fs-10 text-gray-500",children:"Select the connection type"})]})]}),(0,v.jsxs)("div",{className:"d-flex align-items-center border-bottom py-2 cursor-pointer  ".concat(Object.keys(i.chooseFilter).includes("assetsType")?"d-none disabled":""),onClick:n("assetsType"),children:[(0,v.jsx)("div",{className:"symbol symbol-28 bg-light me-2",children:(0,v.jsx)("div",{className:"symbol-label",children:(0,v.jsx)("i",{className:"ri-image-line icon-7 text-gray-800"})})}),(0,v.jsxs)("div",{className:"d-flex flex-column",children:[(0,v.jsx)("p",{className:"fs-9 fw-medium mb-0 text-gray-800",children:"Assets Type"}),(0,v.jsx)("span",{className:"fs-10 text-gray-500",children:"Choose the type of asset"})]})]}),(0,v.jsxs)("div",{className:"d-flex align-items-center border-bottom py-2 cursor-pointer ".concat(Object.keys(i.chooseFilter).includes("tags")?"d-none disabled":""),onClick:n("tags"),children:[(0,v.jsx)("div",{className:"symbol symbol-28 bg-light me-2",children:(0,v.jsx)("div",{className:"symbol-label",children:(0,v.jsx)("i",{className:"ri-price-tag-3-line icon-7 text-gray-800"})})}),(0,v.jsxs)("div",{className:"d-flex flex-column",children:[(0,v.jsx)("p",{className:"fs-9 fw-medium mb-0 text-gray-800",children:"Tag"}),(0,v.jsx)("span",{className:"fs-10 text-gray-500",children:"Select the preferred tag"})]})]}),(0,v.jsxs)("div",{className:"d-flex align-items-center py-2 cursor-pointer ".concat(Object.keys(i.chooseFilter).includes("ugcrights")?"d-none disabled":""),onClick:n("ugcrights"),children:[(0,v.jsx)("div",{className:"symbol symbol-28 bg-light me-2",children:(0,v.jsx)("div",{className:"symbol-label",children:(0,v.jsx)("span",{className:"svg-icon svg-icon-7 text-gray-800 me-0",children:(0,v.jsx)(d.Z,{src:(0,f.F)("media/icons/svg-icons/rights-approved-line.svg"),height:18,width:18})})})}),(0,v.jsxs)("div",{className:"d-flex flex-column",children:[(0,v.jsx)("p",{className:"fs-9 fw-medium mb-0 text-gray-800",children:"UGC Rights"}),(0,v.jsx)("span",{className:"fs-10 text-gray-500",children:"Select the preferred ugc rights status"})]})]})]})]})}),i.chooseFilter&&Object.keys(i.chooseFilter).map((function(t,n){return(0,v.jsx)(g.Z,(0,s.Z)((0,s.Z)({filterKey:t},e.props),{},{indexFilter:n,isLast:Object.keys(i.chooseFilter)[Object.keys(i.chooseFilter).length-1]}))})),(0,v.jsxs)(u.Z,{defaultActiveKey:"",children:[(0,c.createElement)(x.Z,(0,s.Z)((0,s.Z)({},this.props),{},{key:r.length})),(0,v.jsx)("label",{className:"text-gray-800 mb-2",children:"Select Platform"}),(0,v.jsxs)(u.Z.Item,{eventKey:"9",className:"pb-3",children:[(0,v.jsx)(u.Z.Header,{className:"w-100",children:(0,v.jsx)("span",{className:"fs-9 fw-medium",children:y(a)})}),(0,v.jsx)(u.Z.Body,{className:"border rounded-1 mt-1",children:(0,v.jsxs)(p.Z,{type:"radio",className:"flex-column w-100",name:"platform",defaultValue:"p-html",children:[(0,v.jsx)(h.Z,{className:"p-0 card rounded-1 text-decoration-none cursor-pointer mb-2 ".concat("p-html"==a?"active":""),variant:"outline-primary",id:"p-html",value:"p-html",onClick:function(t){return e.props.genratedCodeCallback("p-html")},children:(0,v.jsx)("div",{className:"card-body p-2",children:(0,v.jsx)("div",{className:"block-center text-center h-46px w-100",children:(0,v.jsx)("img",{className:"img-fluid",src:(0,f.F)("media/images/platform/html".concat("dark"==b?"-dark":"",".svg")),alt:"html",height:23,width:90})})})}),(0,v.jsx)(h.Z,{className:"p-0 card rounded-1 text-decoration-none cursor-pointer mb-2 ".concat("p-wordpress"==a?"active":""),variant:"outline-primary",id:"p-wordpress",value:"p-wordpress",onClick:function(t){return e.props.genratedCodeCallback("p-wordpress")},children:(0,v.jsx)("div",{className:"card-body p-2",children:(0,v.jsx)("div",{className:"block-center text-center h-46px w-100",children:(0,v.jsx)("img",{className:"img-fluid",src:(0,f.F)("media/images/platform/wordpress".concat("dark"==b?"-dark":"",".svg")),alt:"wordpress",height:39,width:80})})})}),(0,v.jsx)(h.Z,{className:"p-0 card rounded-1 text-decoration-none cursor-pointer mb-2 ".concat("p-wix"==a?"active":""),variant:"outline-primary",id:"p-wix",value:"p-wix",onClick:function(t){return e.props.genratedCodeCallback("p-wix")},children:(0,v.jsx)("div",{className:"card-body p-2",children:(0,v.jsx)("div",{className:"block-center text-center h-46px w-100",children:(0,v.jsx)("img",{className:"img-fluid",src:(0,f.F)("media/images/platform/wix".concat("dark"==b?"-dark":"",".svg")),alt:"wix",height:23,width:60})})})}),(0,v.jsx)(h.Z,{className:"p-0 card rounded-1 text-decoration-none cursor-pointer mb-2 ".concat("p-squarespace"==i.genratedCodeModal?"active":""),variant:"outline-primary",id:"p-squarespace",value:"p-squarespace",onClick:function(t){return e.props.genratedCodeCallback("p-squarespace")},children:(0,v.jsx)("div",{className:"card-body p-2",children:(0,v.jsx)("div",{className:"block-center text-center h-46px w-100",children:(0,v.jsx)("img",{className:"img-fluid",src:(0,f.F)("media/images/platform/squarespace".concat("dark"==b?"-dark":"",".svg")),alt:"wix",height:45,width:80})})})}),(0,v.jsx)(h.Z,{className:"p-0 card rounded-1 text-decoration-none cursor-pointer mb-2 ".concat("p-shopify"==a?"active":""),variant:"outline-primary",id:"p-shopify",value:"p-shopify",onClick:function(t){return e.props.genratedCodeCallback("p-shopify")},children:(0,v.jsx)("div",{className:"card-body p-2",children:(0,v.jsx)("div",{className:"block-center text-center h-46px w-100",children:(0,v.jsx)("img",{className:"img-fluid",src:(0,f.F)("media/images/platform/shopify".concat("dark"==b?"-dark":"",".svg")),alt:"wix",height:25,width:90})})})}),(0,v.jsx)(h.Z,{className:"p-0 card rounded-1 text-decoration-none cursor-pointer mb-2 ".concat("p-other"==a?"active":""),variant:"outline-primary",id:"p-other",value:"p-other",onClick:function(t){return e.props.genratedCodeCallback("p-other")},children:(0,v.jsx)("div",{className:"card-body p-2",children:(0,v.jsx)("div",{className:"block-center text-center h-46px w-100",children:(0,v.jsx)("img",{className:"img-fluid",src:(0,f.F)("media/images/platform/other".concat("dark"==b?"-dark":"",".svg")),alt:"other",height:31,width:70})})})})]})})]})]})]}),(0,v.jsxs)("div",{className:"filter_actions_",children:[(0,v.jsx)(m.Z,{variant:"primary",className:"w-100  ".concat(i.isUpdating?"spinner":""),onClick:this.props.onRequestPublish,children:"Save & Generated Code"}),j?null:(0,v.jsx)(m.Z,{variant:"link",className:"w-100 text-decoration-none fw-medium",onClick:l,children:"Back"})]})]})}}]),n}(c.Component);t.default=(0,r.$j)((function(e){return{templeteList:e.templates.templeteList,themeSkin:e.themeSkin.themeSkin}}))(b)},73609:function(e,t,n){n.r(t);var s=n(1413),i=n(15671),a=n(43144),l=n(97326),o=n(60136),c=n(29388),r=n(72791),d=n(9085),u=n(21830),p=n.n(u),h=n(78687),m=n(46305),f=n(32002),g=n(80184),x=r.lazy((function(){return n.e(8923).then(n.bind(n,38923))})),v=r.lazy((function(){return n.e(3566).then(n.bind(n,53566))})),y=r.lazy((function(){return n.e(6106).then(n.bind(n,86106))})),b=r.lazy((function(){return n.e(2835).then(n.bind(n,32835))})),j=r.lazy((function(){return n.e(1013).then(n.bind(n,61013))})),C=r.lazy((function(){return n.e(4464).then(n.bind(n,74464))})),k=r.lazy((function(){return Promise.all([n.e(5882),n.e(8063)]).then(n.bind(n,48063))})),N=function(e){var t={};return e&&String(e).length>0&&String(e).split(",").map((function(e){t[e]=!0})),t},w=function(e){var t=[];return e&&String(e).length>0&&String(e).split(",").map((function(e){t.push(e)})),t},S=function(e){var t={};return e&&String(e).length>0&&(String(e).includes("2,4")?t["2,4"]=!0:String(e).includes("3,5")&&(t["3,5"]=!0),String(e).includes("1")&&(t[1]=!0)),t},A=function(e,t,n,s,i,a){var l={};return e&&(l.assetsType=!0),t&&(l.collection=!0),n&&(l.connection=!0),s&&(l.source=!0),i&&(l.tags=!0),a&&(l.ugcrights=!0),l},F=function(e){(0,o.Z)(n,e);var t=(0,c.Z)(n);function n(e){var a;(0,i.Z)(this,n),(a=t.call(this,e)).timeout=0,a.onClickToDelete=function(e){return function(t){p().fire({title:"Are you sure?",text:"You want to delete this",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!"}).then((function(t){if(t.isConfirmed){var n=(0,l.Z)(a);(0,f.bD)(e).then((function(e){n.onLoadPublish(),d.Am.success("Your widget has been deleted.")}))}}))}},a.onTagApply=function(e){var t=a.state.tagApply;t.push(e),a.setState({tagApply:t})},a.onTagRemove=function(e){return function(t){var n=a.state.tagApply;n.splice(e,1),a.setState({tagApply:n})}},a.conditionApply=function(e){return function(t){a.setState({condition:e})}},a.filterApply=function(e){return function(t){var n=a.state.chooseFilter,i={};n[e]?(delete n[e],"collection"==e&&(i={selectedCollection:{}}),"source"==e&&(i={selectedNetwork:{}}),"assetsType"==e&&(i={assetsApply:{}}),"tags"==e&&(i={tagApply:[]}),"ugcrights"==e&&(i={ugcRigths:{}}),"connection"==e&&(i={selectedConnection:{}}),a.setState((0,s.Z)({chooseFilter:n,activeKey:""},i))):(n[e]=!0,a.setState({chooseFilter:n,activeKey:e}))}},a.onSelectActive=function(e){return function(t){a.setState({activeKey:a.state.activeKey==e?"":e})}},a.shareEmbedModal=function(e){return a.setState({showGenratedCode:!0})},a.genratedCodeCallback=function(e){a.setState({showGenratedCode:e})},a.renderSwitch=function(e){var t=a.state.responseData;switch(e){case"p-html":default:return(0,g.jsx)(x,{data:t});case"p-wordpress":return(0,g.jsx)(v,{data:t});case"p-wix":return(0,g.jsx)(y,{data:t});case"p-squarespace":return(0,g.jsx)(b,{data:t});case"p-shopify":return(0,g.jsx)(j,{data:t});case"p-other":return(0,g.jsx)(C,{data:t})}},a.onSelectTemplate=function(e){return a.setState({selectedTemplate:e})},a.onUgcRigths=function(e){return function(t){var n=a.state.ugcRigths;n[e]?(delete n[e],a.setState({ugcRigths:n})):(n[e]=!0,a.setState({ugcRigths:n}))}},a.onSelectAllUgcRigths=function(e){var t=a.state.ugcRigths;t&&Object.keys(t).length>=3?a.setState({ugcRigths:{}}):a.setState({ugcRigths:{1:!0,2:!0,3:!0}})},a.onconnectionApply=function(e){return function(t){var n=a.state.selectedConnection;n[e]?(delete n[e],a.setState({selectedConnection:n})):(n[e]=!0,a.setState({selectedConnection:n}))}},a.onConnectionSelectAll=function(e){var t=a.state,n=t.selectedConnection,s=t.feedData;if(n&&Object.keys(n).length>=s.length)a.setState({selectedConnection:{}});else{var i={};s.map((function(e){i[e.feedId]=!0})),a.setState({selectedConnection:i})}},a.onConnectionSearchFilter=function(e){var t=e.target.value;a.timeout&&clearTimeout(a.timeout),a.timeout=setTimeout((function(){a.setState({textConnectionSearch:t?String(t).toLowerCase():t},(function(){return a.onLoadConnectionFilterData()}))}),1e3)},a.onLoadConnectionFilterData=function(){var e=a.props.feedData,t=a.state.textConnectionSearch,n=e.filter((function(e){return String(e.name).toLowerCase().includes(t)}));a.setState({feedData:n})},a.onAssetsApply=function(e){return function(t){var n=a.state.assetsApply;n[e]?(delete n[e],a.setState({assetsApply:n})):(n[e]=!0,a.setState({assetsApply:n}))}},a.onSelectAllAssetsApply=function(e){var t=a.state.assetsApply;t&&Object.keys(t).length>=3?a.setState({assetsApply:{}}):a.setState({assetsApply:{1:!0,"2,4":!0,"3,5":!0}})},a.onNetworkApply=function(e){return function(t){var n=a.state.selectedNetwork;n[e]?(delete n[e],a.setState({selectedNetwork:n})):(n[e]=!0,a.setState({selectedNetwork:n}))}},a.onClickSelectAll=function(e){var t=a.state,n=t.selectedNetwork,s=t.networkData;if(n&&Object.keys(n).length>=s.length)a.setState({selectedNetwork:{}});else{var i={};s.map((function(e){i[e.id]=!0})),a.setState({selectedNetwork:i})}},a.onSearchFilter=function(e){var t=e.target.value;a.timeout&&clearTimeout(a.timeout),a.timeout=setTimeout((function(){a.setState({textSearch:t?String(t).toLowerCase():t},(function(){return a.onLoadFilterData()}))}),1e3)},a.onLoadFilterData=function(){var e=a.props.networks,t=a.state.textSearch,n=e.filter((function(e){return String(e.name).toLowerCase().includes(t)}));a.setState({networkData:n})},a.onLoadCollectionList=function(){var e=(0,l.Z)(a),t=a.props.collectionData;t&&Object.keys(t).length>0&&t.collectionList.length>0?e.setState({collectionList:t.collectionList,collectionCompleteList:t.collectionList,assetsCount:t.assetsCount}):(0,m.M1)().then((function(t){var n=t.data.responseData;n&&Object.keys(n).length>0&&e.setState({collectionList:n.collection,collectionCompleteList:n.collection})})).catch((function(e){}))},a.onCollectionApply=function(e){return function(t){var n=a.state.selectedCollection;n[e]?(delete n[e],a.setState({selectedCollection:n})):(n[e]=!0,a.setState({selectedCollection:n}))}},a.onCollectionSelectAll=function(e){var t=a.state,n=t.selectedCollection,s=t.collectionList;if(n&&Object.keys(n).length>=s.length)a.setState({selectedCollection:{}});else{var i={};s.map((function(e){i[e.id]=!0})),a.setState({selectedCollection:i})}},a.onCollectionSearchFilter=function(e){var t=e.target.value;a.timeout&&clearTimeout(a.timeout),a.timeout=setTimeout((function(){a.setState({collectionSearch:t?String(t).toLowerCase():t},(function(){return a.onLoadCollectionFilterData()}))}),1e3)},a.onLoadCollectionFilterData=function(){var e=a.state,t=e.collectionSearch,n=e.collectionCompleteList.filter((function(e){return String(e.name).toLowerCase().includes(t)}));a.setState({collectionList:n})},a.onChangeName=function(e){a.setState({publishCodeName:e.target.value})},a.onRequestPublish=function(e){var t=a.state,n=t.id,s=t.selectedTemplate,i=t.selectedCollection,o=t.selectedConnection,c=t.selectedNetwork,r=t.condition,u=t.showGenratedCode,p=t.ugcRigths,h=t.assetsApply,m=t.publishCodeName,g=t.tagApply,x=(0,l.Z)(a),v=[],y="",b=[],j=[],C=[],k=[],N=[];if(p&&Object.keys(p).length>0&&Object.keys(p).map((function(e){N.push(e)})),s&&Object.keys(s).length>0&&s.id&&(y=s.id),c&&Object.keys(c).length>0&&Object.keys(c).map((function(e){k.push(e)})),i&&Object.keys(i).length>0&&Object.keys(i).map((function(e){v.push(e)})),o&&Object.keys(o).length>0&&Object.keys(o).map((function(e){b.push(e)})),h&&Object.keys(h).length>0&&Object.keys(h).map((function(e){j.push(e)})),g&&g.length>0&&(C=g),s&&Object.keys(s).length>0&&s.id&&(v.length>0||b.length>0||C.length>0||j.length>0||N.length>0||k.length>0)){var w={id:n,name:m,template:y,collection:v.join(","),source:b.join(","),assets_type:j.join(","),tags:C.join(","),ugc_status:N.join(","),publish_type:1,campaign_type:"",screen_type:"",platform:u||"",network:k.join(","),filterType:String(r).toUpperCase()};a.setState({isUpdating:!0}),(0,f.S5)(w).then((function(e){var t=e.data,n=t.status,s=(t.response_code,t.response_message);"success"==n?(d.Am.success("Publish widget successfully updated."),x.setState({isUpdating:!1})):x.setState({isUpdating:!1},(function(){return d.Am.error(s)}))})).catch((function(e){var t=e.response.data;x.setState({isUpdating:!1},(function(){return d.Am.error(t.message)}))}))}else s?d.Am.error("Please select filter.",{autoClose:3e3}):d.Am.error("Please select template.",{autoClose:3e3})},a.onResetFilter=function(e){var t=(0,l.Z)(a).state,n=(0,l.Z)(a);t.chooseFilter&&Object.keys(t.chooseFilter).length>0?p().fire({title:"Are you sure?",text:"Your changes have not been saved. Do you want to save before you leave the page?",icon:"warning",showCancelButton:!0,confirmButtonText:"Discard Changes"}).then((function(e){e.isConfirmed&&n.props.history("/web-embed")})):n.props.history("/web-embed")};var o=e.item,c=e.templeteList,r={};if(c&&c.length>0){var u=c.filter((function(e){return e.id==o.template}));r=u&&u.length>0?u[0]:{id:o.template}}else r={id:o.template};return a.state={showGenratedCode:o.platform?o.platform:"p-html",chooseFilter:A(o.assets_type,o.collection,o.source,o.network,o.tags,o.ugc_status),collectionApply:[],sourceApply:{},assetsApply:S(o.assets_type),tagApply:w(o.tags),ugcRigths:{},selectedTemplate:r,condition:String(o.filterType).toLowerCase(),networkData:[],feedData:[],selectedNetwork:N(o.network),selectedConnection:N(o.source),textSearch:"",textConnectionSearch:"",collectionList:[],collectionCompleteList:[],selectedCollection:N(o.collection),collectionSearch:"",genrateCode:!1,publishList:[],responseData:o,activeFilter:null,selectedWebEmbed:null,publishCodeName:o.name?o.name:"Untitled-1",id:o.id,isUpdating:!1},a}return(0,a.Z)(n,[{key:"componentWillMount",value:function(){this.onLoadCollectionList()}},{key:"componentDidMount",value:function(){var e=this.props,t=e.networks,n=e.feedData;this.setState({networkData:t,feedData:n.feeds})}},{key:"componentWillReceiveProps",value:function(e){var t=e.networks,n=e.feedData;this.setState({networkData:t,feedData:n.feeds})}},{key:"render",value:function(){var e=this.state,t=e.showGenratedCode,n=(e.chooseFilter,e.genrateCode,e.responseData,e.activeFilter),s=this.props,i=(s.networks,s.history);return(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(k,{genratedCodeCallback:this.genratedCodeCallback,genratedCodeModal:t,filterApply:this.filterApply,state:this.state,onSelectTemplate:this.onSelectTemplate,onSelectAllUgcRigths:this.onSelectAllUgcRigths,onUgcRigths:this.onUgcRigths,onTagRemove:this.onTagRemove,onTagApply:this.onTagApply,onAssetsApply:this.onAssetsApply,onconnectionApply:this.onconnectionApply,onSelectAllAssetsApply:this.onSelectAllAssetsApply,onNetworkApply:this.onNetworkApply,onClickSelectAll:this.onClickSelectAll,onSearchFilter:this.onSearchFilter,onCollectionSearchFilter:this.onCollectionSearchFilter,onCollectionSelectAll:this.onCollectionSelectAll,onCollectionApply:this.onCollectionApply,conditionApply:this.conditionApply,onConnectionSearchFilter:this.onConnectionSearchFilter,onConnectionSelectAll:this.onConnectionSelectAll,onClickToDelete:this.onClickToDelete,onResetFilter:this.onResetFilter,activeFilter:n,history:i,onChangeName:this.onChangeName,onUpdateReponseData:this.onUpdateReponseData,onLoadPublish:this.onLoadPublish,onSelectActive:this.onSelectActive,onRequestPublish:this.onRequestPublish,isPublishEdit:!0})})}}]),n}(r.Component);t.default=(0,h.$j)((function(e){return{networks:e.networks.networkData,feedData:e.feedData.filterList,collectionData:e.collection,templeteList:e.templates.templeteList}}))(F)}}]);
//# sourceMappingURL=6896.73494bdd.chunk.js.map