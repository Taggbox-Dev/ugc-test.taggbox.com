"use strict";(self.webpackChunkugc_suite_build=self.webpackChunkugc_suite_build||[]).push([[9295],{29295:function(e,t,n){n.r(t),n.d(t,{default:function(){return w}});var s=n(1413),l=n(15671),a=n(43144),i=n(60136),o=n(29388),c=n(72791),r=n(78687),d=n(74342),h=n(13953),u=n(28949),p=(n(32002),n(65882)),m=n(91731),g=n(97326),f=n(47798),v=n(12576),x=(n(73609),n(94111)),y=n(80184),b=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(){var e;(0,l.Z)(this,n);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={active:null},e.onClickToEdit=function(t){return function(n){var s=(0,g.Z)(e);(0,x.FN)(t.id).then((function(e){var t=e.data,n=t.publishCode,l=t.assestCount;s.props.onUpdateReponseData({assestCount:l,publishCode:n})})).catch((function(e){s.props.onUpdateReponseData({assestCount:0,publishCode:t})}))}},e}return(0,a.Z)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.state;t.history,this.state.active;return(0,y.jsx)("div",{className:"filter_list accordion",children:n.collectionList.length>0&&n.publishList.length>0&&n.publishList.map((function(t,n){return(0,y.jsx)("div",{className:"accordion-item mb-1",children:(0,y.jsx)("div",{className:"menu-item",children:(0,y.jsx)("button",{type:"button","aria-expanded":"false",className:"btn btn-secondary w-100 py-1",children:(0,y.jsxs)("div",{className:"d-flex justify-content-between align-items-center w-100",onClick:e.onClickToEdit(t),children:[(0,y.jsx)("span",{className:"menu-title fw-bold text-ellipsis d-block me-3 fs-8",children:t.name}),(0,y.jsx)("div",{className:"d-flex align-items-center justify-content-end",children:(0,y.jsx)(f.Z,{placement:"top",overlay:(0,y.jsx)(v.Z,{id:"button-tooltip-2",children:"Remove"}),children:(0,y.jsx)("button",{type:"button",className:"btn btn-icon btn-secondary h-26px w-26px",onClick:e.props.onClickToDelete({id:t.id}),children:(0,y.jsx)("span",{className:"svg-icon svg-icon-6 me-0",children:(0,y.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",children:[(0,y.jsx)("path",{fill:"none",d:"M0 0h24v24H0z"}),(0,y.jsx)("path",{d:"M7 4V2h10v2h5v2h-2v15a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V6H2V4h5zM6 6v14h12V6H6zm3 3h2v8H9V9zm4 0h2v8h-2V9z",fill:"currentColor"})]})})})})})]})})},n)})}))})}}]),n}(c.Component),j=b,C=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(e){var s;return(0,l.Z)(this,n),(s=t.call(this,e)).campaignTypeFun=function(e){return s.props.campaignTypeCallback(e)},s.state={showModal:!1,campaignType:"HashtagCampaign",publishList:[]},s}return(0,a.Z)(n,[{key:"componentDidMount",value:function(){var e=this,t=document.querySelector("#web_hashtag_panel-tab-aside-assets_filter");t&&t.addEventListener("click",(function(t){return e.props.onUpdateReponseData(null)}))}},{key:"render",value:function(){var e=this,t=(this.state.setValue,this.props),n=t.filterApply,l=t.state,a=(t.genratedCodeModal,t.onClickToDelete,t.onResetFilter,t.activeFilter,t.history,t.onChangeName),i=t.isPublishEdit,o=t.templeteList,c=t.onSubmit,r=t.templatNameError;return(0,y.jsx)("div",{className:"card-body",children:(0,y.jsxs)("div",{className:"innerAsideWrapper",children:[(0,y.jsx)("div",{className:"d-flex align-items-center justify-content-between mb-2",children:(0,y.jsx)("h6",{className:"fs-7 fw-bolder mb-0",children:"Select Filter"})}),(0,y.jsxs)(d.Z.Container,{id:"".concat(i?"edit_hashtag_tab_panel":"web_hashtag_panel"),defaultActiveKey:"aside-assets_filter",children:[(0,y.jsxs)(h.Z,{variant:"nav",className:"border-bottom mb-3",children:[(0,y.jsx)(h.Z.Item,{className:"",children:(0,y.jsx)(h.Z.Link,{className:"me-3 px-0",eventKey:"aside-assets_filter",children:"Assets Filter"})}),(0,y.jsx)(h.Z.Item,{className:"",children:(0,y.jsx)(h.Z.Link,{className:"px-0",eventKey:"filter-assets_published",children:"View All"})})]}),(0,y.jsxs)(d.Z.Content,{children:[(0,y.jsxs)(d.Z.Pane,{eventKey:"aside-assets_filter",children:[(0,y.jsxs)("div",{className:"mb-3",children:[(0,y.jsxs)("label",{className:"text-gray-800 mb-2",children:["Campaign Name ",(0,y.jsx)("strong",{className:"text-danger",children:"*"})]}),(0,y.jsx)("input",{type:"text",className:"form-control form-control-sm ".concat(r?"is-invalid":""),placeholder:"Please enter hashtag campaign name..",value:l.publishCodeName,onChange:a}),r?(0,y.jsx)("div",{className:"invalid-feedback",children:"Please provide template name"}):null]}),(0,y.jsx)("div",{className:"publish_aside_inner",children:(0,y.jsxs)(u.Z,{defaultActiveKey:"0",children:[l.chooseFilter&&Object.keys(l.chooseFilter).map((function(t,n){return(0,y.jsx)(p.Z,(0,s.Z)((0,s.Z)({filterKey:t},e.props),{},{indexFilter:n}))})),(0,y.jsxs)(u.Z.Item,{eventKey:"0",className:"pb-3",children:[(0,y.jsxs)(u.Z.Header,{className:"add_fillter_btn",children:[(0,y.jsx)("span",{className:"svg-icon text-gray-800 d-flex",children:(0,y.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[(0,y.jsx)("path",{className:"plus_symbol",d:"M11 11V5H13V11H19V13H13V19H11V13H5V11H11Z",fill:"currentColor"}),(0,y.jsx)("path",{className:"minus_symbol",d:"M5 11V13H19V11H5Z",fill:"currentColor"})]})}),(0,y.jsx)("span",{className:"fs-9 fw-medium",children:"Choose Filter"})]}),(0,y.jsxs)(u.Z.Body,{className:"border rounded-1 mt-1",children:[(0,y.jsxs)("div",{className:"d-flex align-items-center border-bottom py-2 cursor-pointer ".concat(Object.keys(l.chooseFilter).includes("collection")?"d-none disabled":""),onClick:n("collection"),children:[(0,y.jsx)("div",{className:"symbol symbol-30 bg-light me-2",children:(0,y.jsx)("div",{className:"symbol-label",children:(0,y.jsx)("span",{className:"svg-icon svg-icon-5 text-gray-800 me-0",children:(0,y.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",children:[(0,y.jsx)("path",{fill:"none",d:"M0 0h24v24H0z"}),(0,y.jsx)("path",{d:"M12.414 5H21a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h7.414l2 2zM8 19h12v-8H8v8zm-2 0v-9a1 1 0 0 1 1-1h13V7h-8.414l-2-2H4v14h2z",fill:"currentColor"})]})})})}),(0,y.jsxs)("div",{className:"",children:[(0,y.jsx)("p",{className:"fs-9 fw-bold mb-0 text-gray-800",children:"Collection"}),(0,y.jsx)("span",{className:"fs-10 text-gray-500",children:"Select the preferred collection"})]})]}),(0,y.jsxs)("div",{className:"d-flex align-items-center border-bottom py-2 cursor-pointer ".concat(Object.keys(l.chooseFilter).includes("source")?"d-none disabled":""),onClick:n("source"),children:[(0,y.jsx)("div",{className:"symbol symbol-30 bg-light me-2",children:(0,y.jsx)("div",{className:"symbol-label",children:(0,y.jsx)("span",{className:"svg-icon svg-icon-5 text-gray-800 me-0",children:(0,y.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:[(0,y.jsx)("path",{id:"Path_1","data-name":"Path 1",d:"M0,0H24V24H0Z",fill:"none"}),(0,y.jsx)("path",{id:"Path_4","data-name":"Path 4",d:"M8.365,20.286A9.309,9.309,0,0,1,2.9,14.82a3.246,3.246,0,0,1,0-6.455A9.309,9.309,0,0,1,8.365,2.9a3.246,3.246,0,0,1,6.455,0,9.309,9.309,0,0,1,5.465,5.466,3.246,3.246,0,0,1,0,6.455,9.311,9.311,0,0,1-5.466,5.465,3.246,3.246,0,0,1-6.455,0Zm1.836-.347a1.391,1.391,0,0,0,2.782.048v-.1a1.391,1.391,0,0,0-2.782.048ZM6.328,16.818a7.393,7.393,0,0,0,2.388,1.614,3.247,3.247,0,0,1,5.751,0,7.444,7.444,0,0,0,3.965-3.963,3.247,3.247,0,0,1,0-5.752,7.447,7.447,0,0,0-3.964-3.964,3.247,3.247,0,0,1-5.752,0A7.444,7.444,0,0,0,4.752,8.716a3.247,3.247,0,0,1,0,5.752A7.427,7.427,0,0,0,6.328,16.818Zm12.22-5.226a1.391,1.391,0,1,0,1.39-1.391A1.392,1.392,0,0,0,18.548,11.592Zm-15.3,1.391a1.391,1.391,0,1,0-1.391-1.391A1.393,1.393,0,0,0,3.246,12.983ZM10.2,3.246a1.391,1.391,0,0,0,2.782.048V3.2a1.391,1.391,0,0,0-2.782.048Z",transform:"translate(0.408 0.408)",fill:"currentColor"})]})})})}),(0,y.jsxs)("div",{className:"",children:[(0,y.jsx)("p",{className:"fs-9 fw-bold mb-0 text-gray-800",children:"Network"}),(0,y.jsx)("span",{className:"fs-10 text-gray-500",children:"Choose the required network"})]})]}),(0,y.jsxs)("div",{className:"d-flex align-items-center border-bottom py-2 cursor-pointer ".concat(Object.keys(l.chooseFilter).includes("connection")?"d-none disabled":""),onClick:n("connection"),children:[(0,y.jsx)("div",{className:"symbol symbol-30 bg-light me-2",children:(0,y.jsx)("div",{className:"symbol-label",children:(0,y.jsx)("span",{className:"svg-icon svg-icon-5 text-gray-800 me-0",children:(0,y.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:[(0,y.jsx)("path",{fill:"none",d:"M0 0H24V24H0z"}),(0,y.jsxs)("g",{children:[(0,y.jsx)("path",{id:"Path_2321","data-name":"Path 2321",d:"M21,14v5a2,2,0,0,1-2,2H5a2,2,0,0,1-2-2V5A2,2,0,0,1,5,3h5V5H5V19H19V14Z",fill:"#313a53"}),(0,y.jsx)("path",{id:"Path_2322","data-name":"Path 2322",d:"M21,7H17V3H15V7H11V9h4v4h2V9h4",fill:"currentColor"})]})]})})})}),(0,y.jsxs)("div",{className:"",children:[(0,y.jsx)("p",{className:"fs-9 fw-bold mb-0 text-gray-800",children:"Connections"}),(0,y.jsx)("span",{className:"fs-10 text-gray-500",children:"Select the connection type"})]})]}),(0,y.jsxs)("div",{className:"d-flex align-items-center border-bottom py-2 cursor-pointer ".concat(Object.keys(l.chooseFilter).includes("assetsType")?"d-none disabled":""),onClick:n("assetsType"),children:[(0,y.jsx)("div",{className:"symbol symbol-30 bg-light me-2",children:(0,y.jsx)("div",{className:"symbol-label",children:(0,y.jsx)("span",{className:"svg-icon svg-icon-5 text-gray-800 me-0",children:(0,y.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",children:[(0,y.jsx)("path",{fill:"none",d:"M0 0h24v24H0z"}),(0,y.jsx)("path",{d:"M4.828 21l-.02.02-.021-.02H2.992A.993.993 0 0 1 2 20.007V3.993A1 1 0 0 1 2.992 3h18.016c.548 0 .992.445.992.993v16.014a1 1 0 0 1-.992.993H4.828zM20 15V5H4v14L14 9l6 6zm0 2.828l-6-6L6.828 19H20v-1.172zM8 11a2 2 0 1 1 0-4 2 2 0 0 1 0 4z",fill:"currentColor"})]})})})}),(0,y.jsxs)("div",{className:"",children:[(0,y.jsx)("p",{className:"fs-9 fw-bold mb-0 text-gray-800",children:"Assets Type"}),(0,y.jsx)("span",{className:"fs-10 text-gray-500",children:"Choose the type of asset"})]})]}),(0,y.jsxs)("div",{className:"d-flex align-items-center border-bottom py-2 cursor-pointer ".concat(Object.keys(l.chooseFilter).includes("tags")?"d-none disabled":""),onClick:n("tags"),children:[(0,y.jsx)("div",{className:"symbol symbol-30 bg-light me-2",children:(0,y.jsx)("div",{className:"symbol-label",children:(0,y.jsx)("span",{className:"svg-icon svg-icon-5 text-gray-800 me-0",children:(0,y.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",children:[(0,y.jsx)("path",{fill:"none",d:"M0 0h24v24H0z"}),(0,y.jsx)("path",{d:"M10.9 2.1l9.899 1.415 1.414 9.9-9.192 9.192a1 1 0 0 1-1.414 0l-9.9-9.9a1 1 0 0 1 0-1.414L10.9 2.1zm.707 2.122L3.828 12l8.486 8.485 7.778-7.778-1.06-7.425-7.425-1.06zm2.12 6.364a2 2 0 1 1 2.83-2.829 2 2 0 0 1-2.83 2.829z",fill:"currentColor"})]})})})}),(0,y.jsxs)("div",{className:"",children:[(0,y.jsx)("p",{className:"fs-9 fw-bold mb-0 text-gray-800",children:"Tag"}),(0,y.jsx)("span",{className:"fs-10 text-gray-500",children:"Select the preferred tag"})]})]}),(0,y.jsxs)("div",{className:"d-flex align-items-center border-bottom py-2 cursor-pointer ".concat(Object.keys(l.chooseFilter).includes("ugcrights")?"d-none disabled":""),onClick:n("ugcrights"),children:[(0,y.jsx)("div",{className:"symbol symbol-30 bg-light me-2",children:(0,y.jsx)("div",{className:"symbol-label",children:(0,y.jsx)("span",{className:"svg-icon svg-icon-5 text-gray-800 me-0",children:(0,y.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10.236",height:"11.897",viewBox:"0 0 10.236 11.897",children:[(0,y.jsx)("path",{fill:"none",d:"M0 0H24V24H0z"}),(0,y.jsx)("path",{id:"Path_1","data-name":"Path 1",d:"M-564.279-307.182a7.534,7.534,0,0,1-3.436-2.79A7.534,7.534,0,0,1-569-314.209v-2.052a1.041,1.041,0,0,1,.649-.969l4.066-1.689a1.036,1.036,0,0,1,.4-.08,1.028,1.028,0,0,1,.4.082l4.065,1.688a1.042,1.042,0,0,1,.647.968v2.054a7.527,7.527,0,0,1-1.285,4.235,7.531,7.531,0,0,1-3.438,2.791,1.029,1.029,0,0,1-.394.077A1.047,1.047,0,0,1-564.279-307.182ZM-563.9-318l-4.071,1.691a.047.047,0,0,0-.031.044v2.055a6.532,6.532,0,0,0,1.115,3.677,6.527,6.527,0,0,0,2.983,2.422.061.061,0,0,0,.021,0,.038.038,0,0,0,.015,0,6.538,6.538,0,0,0,2.986-2.422,6.543,6.543,0,0,0,1.115-3.677v-2.055a.046.046,0,0,0-.029-.044l-4.07-1.69a.048.048,0,0,0-.02,0A.048.048,0,0,0-563.9-318Zm-.83,6.364-1.161-1.158a.553.553,0,0,1-.131-.4.553.553,0,0,1,.193-.378.549.549,0,0,1,.7,0l.786.779,1.691-1.691a.545.545,0,0,1,.764-.061.549.549,0,0,1,.07.772.559.559,0,0,1-.069.069l-2.07,2.07a.546.546,0,0,1-.387.158h0A.546.546,0,0,1-564.728-311.633Z",transform:"translate(569 319)",fill:"currentColor"})]})})})}),(0,y.jsxs)("div",{className:"",children:[(0,y.jsx)("p",{className:"fs-9 fw-bold mb-0 text-gray-800",children:"UGC Rights"}),(0,y.jsx)("span",{className:"fs-10 text-gray-500",children:"Select the preferred ugc rights status"})]})]})]})]}),o.length>0?(0,y.jsx)(m.Z,(0,s.Z)({},this.props)):null]})}),(0,y.jsx)("div",{className:"bg-white w-100 text-center flex-column d-flex pt-2",children:(0,y.jsx)("button",{type:"button",className:"btn btn-primary w-100 ".concat(l.isRequesting?"spinner":""),onClick:c,children:"Save Changes"})}),(0,y.jsx)("div",{className:"bg-white w-100 text-center flex-column d-flex pt-2",children:(0,y.jsx)("button",{type:"button",className:"btn border-0 text-hover-primary btn-sm text-decoration-underline text-muted p-1",children:"Reset Filters"})})]}),(0,y.jsx)(d.Z.Pane,{eventKey:"filter-assets_published",children:(0,y.jsx)(j,(0,s.Z)({},this.props))})]})]})]})})}}]),n}(c.Component),w=(0,r.$j)((function(e){return{templeteList:e.templates.templeteList}}))(C)},73609:function(e,t,n){var s=n(15671),l=n(43144),a=n(97326),i=n(60136),o=n(29388),c=n(72791),r=n(9085),d=n(21830),h=n.n(d),u=n(78687),p=n(46305),m=n(32002),g=(n(32480),n(80184)),f=c.lazy((function(){return n.e(8923).then(n.bind(n,38923))})),v=c.lazy((function(){return n.e(3566).then(n.bind(n,53566))})),x=c.lazy((function(){return n.e(6106).then(n.bind(n,86106))})),y=c.lazy((function(){return n.e(2835).then(n.bind(n,32835))})),b=c.lazy((function(){return n.e(1013).then(n.bind(n,61013))})),j=c.lazy((function(){return n.e(4464).then(n.bind(n,74464))})),C=c.lazy((function(){return n.e(8063).then(n.bind(n,48063))})),w=function(e){var t={};return e&&String(e).length>0&&String(e).split(",").map((function(e){t[e]=!0})),t},S=function(e){var t=[];return e&&String(e).length>0&&String(e).split(",").map((function(e){t.push(e)})),t},N=function(e){var t={};return e&&String(e).length>0&&(String(e).includes("2,4")?t["2,4"]=!0:String(e).includes("3,5")&&(t["3,5"]=!0),String(e).includes("1")&&(t[1]=!0)),t},k=function(e,t,n,s,l,a){var i={};return e&&(i.assetsType=!0),t&&(i.collection=!0),n&&(i.connection=!0),s&&(i.source=!0),l&&(i.tags=!0),a&&(i.ugcrights=!0),i},A=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(e){var l;(0,s.Z)(this,n),(l=t.call(this,e)).timeout=0,l.onClickToDelete=function(e){return function(t){h().fire({title:"Are you sure?",text:"You want to delete this",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!"}).then((function(t){if(t.isConfirmed){var n=(0,a.Z)(l);(0,m.bD)(e).then((function(e){n.onLoadPublish(),r.Am.success("Your widget has been deleted.")}))}}))}},l.onTagApply=function(e){var t=l.state.tagApply;t.push(e),l.setState({tagApply:t})},l.onTagRemove=function(e){return function(t){var n=l.state.tagApply;n.splice(e,1),l.setState({tagApply:n})}},l.conditionApply=function(e){return function(t){l.setState({condition:e})}},l.filterApply=function(e){return function(t){var n=l.state.chooseFilter;n[e]?(delete n[e],l.setState({chooseFilter:n})):(n[e]=!0,l.setState({chooseFilter:n}))}},l.onSelectActive=function(e){return function(t){l.setState({activeKey:l.state.activeKey==e?"":e})}},l.shareEmbedModal=function(e){return l.setState({showGenratedCode:!0})},l.genratedCodeCallback=function(e){l.setState({showGenratedCode:e})},l.renderSwitch=function(e){var t=l.state.responseData;switch(e){case"p-html":default:return(0,g.jsx)(f,{data:t});case"p-wordpress":return(0,g.jsx)(v,{data:t});case"p-wix":return(0,g.jsx)(x,{data:t});case"p-squarespace":return(0,g.jsx)(y,{data:t});case"p-shopify":return(0,g.jsx)(b,{data:t});case"p-other":return(0,g.jsx)(j,{data:t})}},l.onSelectTemplate=function(e){return function(t){return l.setState({selectedTemplate:e})}},l.onUgcRigths=function(e){return function(t){var n=l.state.ugcRigths;n[e]?(delete n[e],l.setState({ugcRigths:n})):(n[e]=!0,l.setState({ugcRigths:n}))}},l.onSelectAllUgcRigths=function(e){var t=l.state.ugcRigths;t&&Object.keys(t).length>=3?l.setState({ugcRigths:{}}):l.setState({ugcRigths:{1:!0,2:!0,3:!0}})},l.onconnectionApply=function(e){return function(t){var n=l.state.selectedConnection;n[e]?(delete n[e],l.setState({selectedConnection:n})):(n[e]=!0,l.setState({selectedConnection:n}))}},l.onConnectionSelectAll=function(e){var t=l.state,n=t.selectedConnection,s=t.feedData;if(n&&Object.keys(n).length>=s.length)l.setState({selectedConnection:{}});else{var a={};s.map((function(e){a[e.feedId]=!0})),l.setState({selectedConnection:a})}},l.onConnectionSearchFilter=function(e){var t=e.target.value;l.timeout&&clearTimeout(l.timeout),l.timeout=setTimeout((function(){l.setState({textConnectionSearch:t?String(t).toLowerCase():t},(function(){return l.onLoadConnectionFilterData()}))}),1e3)},l.onLoadConnectionFilterData=function(){var e=l.props.feedData,t=l.state.textConnectionSearch,n=e.filter((function(e){return String(e.name).toLowerCase().includes(t)}));l.setState({feedData:n})},l.onAssetsApply=function(e){return function(t){var n=l.state.assetsApply;n[e]?(delete n[e],l.setState({assetsApply:n})):(n[e]=!0,l.setState({assetsApply:n}))}},l.onSelectAllAssetsApply=function(e){var t=l.state.assetsApply;t&&Object.keys(t).length>=3?l.setState({assetsApply:{}}):l.setState({assetsApply:{1:!0,"2,4":!0,"3,5":!0}})},l.onNetworkApply=function(e){return function(t){var n=l.state.selectedNetwork;n[e]?(delete n[e],l.setState({selectedNetwork:n})):(n[e]=!0,l.setState({selectedNetwork:n}))}},l.onClickSelectAll=function(e){var t=l.state,n=t.selectedNetwork,s=t.networkData;if(n&&Object.keys(n).length>=s.length)l.setState({selectedNetwork:{}});else{var a={};s.map((function(e){a[e.id]=!0})),l.setState({selectedNetwork:a})}},l.onSearchFilter=function(e){var t=e.target.value;l.timeout&&clearTimeout(l.timeout),l.timeout=setTimeout((function(){l.setState({textSearch:t?String(t).toLowerCase():t},(function(){return l.onLoadFilterData()}))}),1e3)},l.onLoadFilterData=function(){var e=l.props.networks,t=l.state.textSearch,n=e.filter((function(e){return String(e.name).toLowerCase().includes(t)}));l.setState({networkData:n})},l.onLoadCollectionList=function(){var e=(0,a.Z)(l),t=l.props.collectionData;t&&Object.keys(t).length>0&&t.collectionList.length>0?e.setState({collectionList:t.collectionList,collectionCompleteList:t.collectionList,assetsCount:t.assetsCount}):(0,p.M1)().then((function(t){var n=t.data.responseData;n&&Object.keys(n).length>0&&e.setState({collectionList:n.collection,collectionCompleteList:n.collection})})).catch((function(e){}))},l.onCollectionApply=function(e){return function(t){var n=l.state.selectedCollection;n[e]?(delete n[e],l.setState({selectedCollection:n})):(n[e]=!0,l.setState({selectedCollection:n}))}},l.onCollectionSelectAll=function(e){var t=l.state,n=t.selectedCollection,s=t.collectionList;if(n&&Object.keys(n).length>=s.length)l.setState({selectedCollection:{}});else{var a={};s.map((function(e){a[e.id]=!0})),l.setState({selectedCollection:a})}},l.onCollectionSearchFilter=function(e){var t=e.target.value;l.timeout&&clearTimeout(l.timeout),l.timeout=setTimeout((function(){l.setState({collectionSearch:t?String(t).toLowerCase():t},(function(){return l.onLoadCollectionFilterData()}))}),1e3)},l.onLoadCollectionFilterData=function(){var e=l.state,t=e.collectionSearch,n=e.collectionCompleteList.filter((function(e){return String(e.name).toLowerCase().includes(t)}));l.setState({collectionList:n})},l.onChangeName=function(e){l.setState({publishCodeName:e.target.value})},l.onRequestPublish=function(e){var t=l.state,n=t.id,s=t.selectedTemplate,i=t.selectedCollection,o=t.selectedConnection,c=t.selectedNetwork,d=t.condition,h=(t.showGenratedCode,t.ugcRigths),u=t.assetsApply,p=t.publishCodeName,g=t.tagApply,f=(0,a.Z)(l),v=[],x="",y=[],b=[],j=[],C=[],w=[];if(h&&Object.keys(h).length>0&&Object.keys(h).map((function(e){w.push(e)})),s&&Object.keys(s).length>0&&s.id&&(x=s.id),c&&Object.keys(c).length>0&&Object.keys(c).map((function(e){C.push(e)})),i&&Object.keys(i).length>0&&Object.keys(i).map((function(e){v.push(e)})),o&&Object.keys(o).length>0&&Object.keys(o).map((function(e){y.push(e)})),u&&Object.keys(u).length>0&&Object.keys(u).map((function(e){b.push(e)})),g&&g.length>0&&(j=g),s&&Object.keys(s).length>0&&s.id&&(v.length>0||y.length>0||j.length>0||b.length>0||w.length>0||C.length>0)){var S={id:n,name:p,template:x,collection:v.join(","),source:y.join(","),assets_type:b.join(","),tags:j.join(","),ugc_status:w.join(","),publish_type:1,campaign_type:"",screen_type:"",platform:"",network:C.join(","),filterType:String(d).toUpperCase()};l.setState({isUpdating:!0}),(0,m.S5)(S).then((function(e){var t=e.data,n=t.status,s=(t.response_code,t.response_message);"success"==n?(r.Am.success("Publish widget successfully updated."),f.setState({isUpdating:!1},(function(){return f.props.onLoadPublish()}))):r.Am.error(s)})).catch((function(e){}))}},l.onResetFilter=function(e){l.setState({showGenratedCode:"p-html",chooseFilter:{},collectionApply:[],sourceApply:{},assetsApply:{},tagApply:[],ugcRigths:{},selectedTemplate:null,condition:"or",selectedNetwork:{},selectedConnection:{},textSearch:"",textConnectionSearch:"",selectedCollection:{},collectionSearch:"",genrateCode:!1,responseData:null,activeFilter:null,publishCodeName:"",isUpdating:!1})};var i=e.item,o=e.templeteList,c={};if(o&&o.length>0){var d=o.filter((function(e){return e.id==i.template}));c=d&&d.length>0?d[0]:{id:i.template}}else c={id:i.template};return l.state={showGenratedCode:"p-html",chooseFilter:k(i.assets_type,i.collection,i.source,i.network,i.tags,i.ugc_status),collectionApply:[],sourceApply:{},assetsApply:N(i.assets_type),tagApply:S(i.tags),ugcRigths:{},selectedTemplate:c,condition:String(i.filterType).toLowerCase(),networkData:[],feedData:[],selectedNetwork:w(i.network),selectedConnection:w(i.source),textSearch:"",textConnectionSearch:"",collectionList:[],collectionCompleteList:[],selectedCollection:w(i.collection),collectionSearch:"",genrateCode:!1,publishList:[],responseData:i,activeFilter:null,selectedWebEmbed:null,publishCodeName:i.Publish&&i.Publish.name?i.Publish.name:"Untitled-1",id:i.id,isUpdating:!1},l}return(0,l.Z)(n,[{key:"componentWillMount",value:function(){this.onLoadCollectionList()}},{key:"componentDidMount",value:function(){var e=this.props,t=e.networks,n=e.feedData;this.setState({networkData:t,feedData:n.feeds})}},{key:"componentWillReceiveProps",value:function(e){var t=e.networks,n=e.feedData;this.setState({networkData:t,feedData:n.feeds})}},{key:"render",value:function(){var e=this.state,t=e.showGenratedCode,n=(e.chooseFilter,e.genrateCode,e.responseData,e.activeFilter),s=this.props,l=(s.networks,s.history);return(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(C,{genratedCodeCallback:this.genratedCodeCallback,genratedCodeModal:t,filterApply:this.filterApply,state:this.state,onSelectTemplate:this.onSelectTemplate,onSelectAllUgcRigths:this.onSelectAllUgcRigths,onUgcRigths:this.onUgcRigths,onTagRemove:this.onTagRemove,onTagApply:this.onTagApply,onAssetsApply:this.onAssetsApply,onconnectionApply:this.onconnectionApply,onSelectAllAssetsApply:this.onSelectAllAssetsApply,onNetworkApply:this.onNetworkApply,onClickSelectAll:this.onClickSelectAll,onSearchFilter:this.onSearchFilter,onCollectionSearchFilter:this.onCollectionSearchFilter,onCollectionSelectAll:this.onCollectionSelectAll,onCollectionApply:this.onCollectionApply,conditionApply:this.conditionApply,onConnectionSearchFilter:this.onConnectionSearchFilter,onConnectionSelectAll:this.onConnectionSelectAll,onClickToDelete:this.onClickToDelete,onResetFilter:this.onResetFilter,activeFilter:n,history:l,onChangeName:this.onChangeName,onUpdateReponseData:this.onUpdateReponseData,onLoadPublish:this.onLoadPublish,onSelectActive:this.onSelectActive,onRequestPublish:this.onRequestPublish,isPublishEdit:!0})})}}]),n}(c.Component);t.Z=(0,u.$j)((function(e){return{networks:e.networks.networkData,feedData:e.feedData.filterList,collectionData:e.collection,templeteList:e.templates.templeteList}}))(A)}}]);
//# sourceMappingURL=9295.88c0f7ae.chunk.js.map