"use strict";(self.webpackChunkugc_suite_build=self.webpackChunkugc_suite_build||[]).push([[431],{70431:function(e,t,n){n.r(t);var a=n(15671),s=n(43144),o=n(97326),c=n(60136),i=n(29388),r=n(72791),l=n(21830),d=n.n(l),u=n(55920),m=n(8663),h=n(56600),p=n(92719),g=n(67839),f=n(29795),k=n(92471),w=n(7566),v=n(23544),x=n(25554),y=n(78027),b=n(32002),I=n(46900),C=n(9085),j=n(80184),N=k.oc?window:new BroadcastChannel("connect"),_=new u.Z,D=function(e){(0,c.Z)(n,e);var t=(0,i.Z)(n);function n(){var e;(0,a.Z)(this,n);for(var s=arguments.length,c=new Array(s),i=0;i<s;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={connected:null,showConfirm:!1,rightsVia:""},e.onLoadSocialAccount=function(){try{var t=e.props.modalAssetData;if(_.get("ugcRights".concat(t.networkId))){var n=_.get("ugcRights".concat(t.networkId));n&&n.length>0&&e.setState({access_token:"",socialData:null,accountsData:n},(function(){return e.props.onUpdateData(String((0,k.O5)(t.networkId)).toLowerCase(),n)}))}}catch(a){}},e.readAuthenticationCode=function(t){var n=JSON.parse(t.data),a=n.data,s=n.networkId,c=n.type,i=(0,o.Z)(e);if("get-rights"==c){JSON.parse(t.data);var r=e.props.modalAssetData;if(2==r.networkId||18==r.networkId)(0,x.YK)(a,(function(t){(0,b.H$)({access_token:t.token}).then((function(t){var n=t.data,a=[];n&&Object.keys(n).length>0&&a.push({id:n.id,name:n.username,picture:(0,h.F)("media/icons/social-icons/".concat((0,k.O5)(r.networkId),".svg"))}),_.set("ugcRights".concat(r.networkId),JSON.stringify(a),{path:"/"}),i.setState({access_token:n.token,socialData:t.data,accountsData:a},(function(){return e.props.onUpdateData("instagram",a)}))})).catch((function(e){return C.Am.error("Oops! Something went wrong. Please try again later.")}))}));else if(3==r.networkId)(0,x.XN)(a,s,(function(t){(0,b.pV)({access_token:t.token}).then((function(n){var a=n.data.pages,s=[];a&&a.length>0&&a.map((function(e){s.push({id:e.id,name:e.name,access_token:e.access_token,picture:(0,h.F)("media/icons/social-icons/".concat((0,k.O5)(r.networkId),".svg"))})})),_.set("ugcRights".concat(r.networkId),JSON.stringify(s),{path:"/"}),i.setState({access_token:t.token,socialData:n.data,accountsData:s},(function(){return e.props.onUpdateData("facebook",s)}))})).catch((function(e){return C.Am.error("Oops! Something went wrong. Please try again later.")}))}));else if(1==r.networkId){var l=[];a&&Object.keys(a).length>0&&l.push({id:a.id_str,name:a.name,picture:a.picture?a.picture:(0,h.F)("media/icons/social-icons/".concat((0,k.O5)(r.networkId),".svg"))}),_.set("ugcRights".concat(r.networkId),JSON.stringify(l),{path:"/"}),i.setState({access_token:localStorage.getItem("tokenSecret"),socialData:a,accountsData:l},(function(){return e.props.onUpdateData("twitter",l)}))}else if(28==r.networkId){l=[];a&&Object.keys(a).length>0&&l.push({id:a.display_name,name:a.display_name,picture:a.avatar?a.avatar:(0,h.F)("media/icons/social-icons/".concat((0,k.O5)(r.networkId),".svg"))}),_.set("ugcRights".concat(r.networkId),JSON.stringify(l),{path:"/"}),i.setState({access_token:a.client_key,socialData:a,accountsData:l},(function(){return e.props.onUpdateData("tiktok",l)}))}else(0,y.Jr)(a,s,(function(e){}))}},e.handleYes=function(t){e.setState({showConfirm:!0})},e.handleNo=function(t){e.setState({showConfirm:!0})},e.onClickSocialConnect=function(e){return function(t){e&&Object.keys(e).length>0&&d().fire({imageUrl:(0,h.F)("media/icons/social-icons-square/".concat((0,k.O5)(e.networkId),".svg")),imageHeight:40,imageWidth:40,title:"<strong>".concat((0,k.nX)((0,k.O5)(e.networkId)),"</strong>"),html:"Add an account to continue",showCloseButton:!0,showCancelButton:!1,focusConfirm:!0,confirmButtonText:"Continue with ".concat((0,k.nX)((0,k.O5)(e.networkId))),confirmButtonAriaLabel:"Continue with ".concat((0,k.nX)((0,k.O5)(e.networkId)))}).then((function(t){if(t.isConfirmed)switch(localStorage.setItem("networkId",e.networkId),localStorage.setItem("connectionType","get-rights"),e.networkId){case 1:(0,I.ov)();break;case 6:(0,w.nY)(6);break;case 21:(0,v.$8)();break;case 11:(0,w.GC)(11);break;case 8:(0,v.ok)();break;case 3:(0,v.vr)(3);break;case 28:(0,v.Bq)();break;case 2:var n="https://api.instagram.com/oauth/authorize?client_id=".concat(m.yzW,"&redirect_uri=").concat(m.XPy,"/instagram/feeds/authCallback/&scope=user_profile,user_media&response_type=code");window.open(n,"_blank","width=786,height=786");break;case 18:var a="https://api.instagram.com/oauth/authorize?client_id=".concat(m.yzW,"&redirect_uri=").concat(m.XPy,"/instagram/feeds/authCallback/&scope=user_profile,user_media&response_type=code");window.open(a,"_blank","width=786,height=786")}}))}},e.handleChangeOption=function(t){e.setState({rightsVia:t})},e}return(0,s.Z)(n,[{key:"componentDidMount",value:function(){N.addEventListener("message",this.readAuthenticationCode),this.onLoadSocialAccount()}},{key:"componentWillUnmount",value:function(){N.removeEventListener("message",this.readAuthenticationCode)}},{key:"render",value:function(){var e=this.props,t=e.modalAssetData,n=(e.connectedAccount,e.rightsViaOption),a=e.rightsVia,s=!(!(t&&Object.keys(t).length>0)||2!=t.networkId&&18!=t.networkId);return(0,j.jsx)("div",{className:"p-lg-6 p-3",children:(0,j.jsxs)("div",{className:"m-auto",children:[(0,j.jsx)("h3",{className:"mb-1 fs-7 pt-1",children:"Select the mode for Right Request"}),(0,j.jsxs)("p",{children:["Tagbox offers ",s?"two":"one"," distinct modes to request rights. ",s?"Comment Request and DM Request":"DM Request",". "]}),(0,j.jsx)("div",{className:"mb-3 d-flex flex-column",children:(0,j.jsxs)(p.Z,{type:"radio",name:"options",defaultValue:a,className:"flex-column",onChange:n,children:[s?(0,j.jsxs)(g.Z,{variant:"outline-secondary",id:"rightsVia-2",value:"viaComments",className:"mb-2 d-flex bg-transparent justify-content-between py-4 ".concat("viaComments"==a?"border-success":""),children:[(0,j.jsxs)("div",{className:"d-flex me-3 fw-normal",children:[(0,j.jsx)("i",{className:"ri-message-line icon-3 mt-1 me-2 fw-normal"}),(0,j.jsxs)("span",{className:"text-start",children:[(0,j.jsx)("p",{className:"h6 mb-0 fw-medium",children:"Comment Request"}),(0,j.jsx)("span",{className:"fs-10",children:"Request rights by commenting under the post you desire the rights for! "})]})]}),(0,j.jsx)(f.Z.Check.Input,{type:"radio",name:"rights-via",className:"d-none"}),(0,j.jsx)("span",{className:"w-20px",children:"viaComments"==a?(0,j.jsx)("i",{className:"ri-checkbox-circle-fill icon-5 me-0 text-success"}):null})]}):null,(0,j.jsxs)(g.Z,{variant:"outline-secondary",id:"rightsVia-3",value:"viaDM",className:"mb-2 d-flex bg-transparent justify-content-between py-4 ".concat("viaDM"==a?"border-success":""),children:[(0,j.jsxs)("div",{className:"d-flex me-3 fw-normal",children:[(0,j.jsx)("i",{className:"ri-discuss-line icon-3 mt-1 me-2 fw-normal"}),(0,j.jsxs)("span",{className:"text-start",children:[(0,j.jsx)("p",{className:"h6 mb-0 fw-medium",children:"DM".concat(28==t.networkId?"/Comment":""," Request")}),(0,j.jsxs)("span",{className:"fs-10",children:["Send a Rights request directly into the DM of the creators!".concat(28==t.networkId?" or comment under the post.":"")," "]})]})]}),(0,j.jsx)(f.Z.Check.Input,{type:"radio",name:"rights-via",className:"d-none"}),(0,j.jsx)("span",{className:"w-20px",children:"viaDM"==a?(0,j.jsx)("i",{className:"ri-checkbox-circle-fill icon-5 me-0 text-success"}):null})]})]})},"inline-radio")]})})}}]),n}(r.Component);t.default=D}}]);
//# sourceMappingURL=431.a448bd74.chunk.js.map