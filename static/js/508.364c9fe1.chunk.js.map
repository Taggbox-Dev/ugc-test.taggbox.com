{"version":3,"file":"static/js/508.364c9fe1.chunk.js","mappings":"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","sources":["Layouts/Main/MyAssets/GetRightsModal/Elements/GetRightsStatus/GetRightsDownload.js"],"sourcesContent":["import React, { Component } from \"react\";\r\nimport moment from \"moment\";\r\nimport { saveAs } from 'file-saver';\r\nimport ReactHtmlParser from 'react-html-parser';\r\nimport { getCertificate } from '../../../../../../Services/Actions/ugcRightsActions'\r\nimport { getURLFromVideo } from '../../../../../../Services/Utils/utils'\r\n\r\nconst timeZoneImageReplace = (imageReplace) => {\r\n    try {\r\n        var repalceData = imageReplace\r\n        if (imageReplace && String(imageReplace).length > 0 && String(imageReplace).includes(`\"img/flags/`)) {\r\n            repalceData = String(imageReplace).replace(`\"img/flags/`, `\"https://cloud.taggbox.com/ugc-suite/media/images/flags/`)\r\n            if (repalceData && String(repalceData).includes(\".png\")) {\r\n                repalceData = String(repalceData).replace(`.png`, `.svg`)\r\n            }\r\n            repalceData = String(repalceData).replace(`<img`, `<img style=\"width: 20px;height:20px;\" `)\r\n            return repalceData\r\n        }\r\n        return imageReplace\r\n    }\r\n    catch {\r\n        return imageReplace\r\n    }\r\n}\r\n\r\nconst userAgentImageReplace = (imageReplace) => {\r\n    try {\r\n        var repalceData = imageReplace\r\n        if (imageReplace && String(imageReplace).length > 0 && String(imageReplace).includes(`\"img/browser-svg/`)) {\r\n            repalceData = String(imageReplace).replace(`\"img/browser-svg/`, `\"https://cloud.taggbox.com/ugc-suite/media/icons/browser-svg/`)\r\n            repalceData = String(repalceData).replace(`<img`, `<img style=\"width: 20px;height:20px;\" `)\r\n            return repalceData\r\n        }\r\n        return imageReplace\r\n    }\r\n    catch {\r\n        return imageReplace\r\n    }\r\n}\r\n\r\nclass GetRightsDownload extends Component {\r\n\r\n    state = { certificateLoading: false, imageLoading: false, tncLoading: false }\r\n\r\n    onClickToDownload = (id) => event => {\r\n        this.setState({ certificateLoading: true })\r\n        var self = this;\r\n        getCertificate(id).then((response) => {\r\n            const file = new Blob([response.data], { type: 'application/pdf' });\r\n            saveAs(file, 'Ugc_Approval_Certificate.pdf');\r\n            setTimeout(() => self.setState({ certificateLoading: false }), 1000)\r\n        }).catch((ex) => {\r\n            self.setState({ certificateLoading: false })\r\n        })\r\n    }\r\n    onClickToDownloadImage = (URL, type, mediaFile) => event => {\r\n        var self = this;\r\n        this.setState({ imageLoading: true })\r\n        this.onRequestDownload(URL, type, mediaFile).then((response) => {\r\n            setTimeout(() => self.setState({ imageLoading: false }), 1000)\r\n        }).catch((ex) => {\r\n            setTimeout(() => self.setState({ imageLoading: false }), 1000)\r\n        })\r\n\r\n    }\r\n\r\n    onRequestDownload = (URL, type, mediaFile) => {\r\n        return new Promise(resolve => {\r\n            try {\r\n                saveAs(URL, 'Ugc_Image.jpg');\r\n                if ((type == 3 || type == 5) && mediaFile) {\r\n                    const mediaUrl = getURLFromVideo(mediaFile)\r\n                    saveAs(mediaUrl, 'Ugc_Image.mp4');\r\n                    return Promise.resolved('')\r\n                }\r\n                else {\r\n                    return Promise.resolved('')\r\n                }\r\n            }\r\n            catch (ex) {\r\n\r\n                return Promise.resolved('')\r\n            }\r\n\r\n        })\r\n    }\r\n\r\n    onClickToDownloadFile = (URL, fileName) => event => {\r\n        this.setState({ tncLoading: true })\r\n        var self = this;\r\n        this.onRequestTnc(URL, fileName).then((response) => {\r\n            setTimeout(() => self.setState({ tncLoading: false }), 1000)\r\n        }).catch((ex) => {\r\n            setTimeout(() => self.setState({ tncLoading: false }), 1000)\r\n        })\r\n    }\r\n    onRequestTnc = (URL, fileName) => {\r\n        return new Promise(resolve => {\r\n            try {\r\n                saveAs(URL == \"TermsAndConditions.docx\" ? \"https://cloud.taggbox.com/ugc-suite/media/downloads/Terms&ConditionsforuseofUGC.docx\" : `https://cloud.taggbox.com/test/${URL}`, fileName);\r\n                return Promise.resolved('')\r\n            }\r\n            catch (ex) {\r\n                return Promise.resolved('')\r\n            }\r\n\r\n        })\r\n    }\r\n    render() {\r\n        const { modalAssetData } = this.props\r\n        const { certificateLoading, imageLoading, tncLoading } = this.state\r\n        return <div className=\"p-lg-6 p-3\">\r\n            <div className=\"mb-6\">\r\n                <h6>Information</h6>\r\n                <ul className=\"list-group rounded-1\">\r\n                    <li className=\"list-group-item d-flex justify-content-between p-3 bg-light\">\r\n                        <span className=\"text-ellipsis text-gray-600 fs-7 pe-3\">User handle</span>\r\n                        <span className=\"text-ellipsis fw-bolder text-gray-800 fs-7\">@{modalAssetData.username}</span>\r\n                    </li>\r\n                    <li className=\"list-group-item d-flex justify-content-between p-3 bg-light\">\r\n                        <span className=\"text-ellipsis text-gray-600 fs-7 pe-3\">User name</span>\r\n                        <span className=\"text-ellipsis fw-bolder text-gray-800 fs-7\">{modalAssetData.username}</span>\r\n                    </li>\r\n                    <li className=\"list-group-item d-flex justify-content-between p-3 bg-light\">\r\n                        <span className=\"text-ellipsis text-gray-600 fs-7 pe-3\">Post Approval Date</span>\r\n                        <span className=\"text-ellipsis fw-bolder text-gray-800 fs-7\">{moment.utc(new Date(modalAssetData.ugcRights.created)).format(\"LLLL\")}</span>\r\n                    </li>\r\n                    <li className=\"list-group-item d-flex justify-content-between p-3 bg-light\">\r\n                        <span className=\"text-ellipsis text-gray-600 fs-7 pe-3\">User IP</span>\r\n                        <span className=\"text-ellipsis fw-bolder text-gray-800 fs-7\">{modalAssetData.ugcRights.userIP == \"\" ? \"--\" : modalAssetData.ugcRights.userIP}</span>\r\n                    </li>\r\n                    <li className=\"list-group-item d-flex justify-content-between p-3 bg-light\">\r\n                        <span className=\"text-ellipsis text-gray-600 fs-7 pe-3\">Timezone</span>\r\n                        <span className=\"text-ellipsis fw-bolder text-gray-800 fs-7\">{modalAssetData.ugcRights.timezone == \"\" ? \"--\" : ReactHtmlParser(timeZoneImageReplace(modalAssetData.ugcRights.timezone))}</span>\r\n                    </li>\r\n                    <li className=\"list-group-item d-flex justify-content-between p-3 bg-light\">\r\n                        <span className=\"text-ellipsis text-gray-600 fs-7 pe-3\">User Agent</span>\r\n                        <span className=\"text-ellipsis fw-bolder text-gray-800 fs-7\">{modalAssetData.ugcRights.userAgent == \"\" ? \"--\" : ReactHtmlParser(userAgentImageReplace(modalAssetData.ugcRights.userAgent))}</span>\r\n                    </li>\r\n                    <li className=\"list-group-item d-flex justify-content-between p-3 bg-light\">\r\n                        <span className=\"text-ellipsis text-gray-600 fs-7 pe-3\">Terms & Condition</span>\r\n                        <span className=\"text-ellipsis fw-bolder text-gray-800\">\r\n                            <button type=\"button\" className={`btn btn-outline-primary btn-sm ${tncLoading ? `spinner disabled` : ``}`} onClick={modalAssetData.ugcRights.custom_term_type == \"CustomUrlType\" ? event => window.open(modalAssetData.ugcRights.custom_terms, \"_blank\") : this.onClickToDownloadFile(modalAssetData.ugcRights.custom_terms, modalAssetData.ugcRights.custom_term_type)}>\r\n                                Download\r\n                                <i className=\"ri-file-download-line ms-1\"></i>\r\n                            </button>\r\n                        </span>\r\n                    </li>\r\n                    <li className=\"list-group-item d-flex justify-content-between p-3 bg-light\">\r\n                        <span className=\"text-ellipsis text-gray-600 fs-7 pe-3\">Approval Certificate</span>\r\n                        <span className=\"text-ellipsis fw-bolder text-gray-800\">\r\n                            <button type=\"button\" className={`btn btn-outline-primary btn-sm ${certificateLoading ? `spinner disabled` : ``}`} onClick={this.onClickToDownload(modalAssetData.ugcRights.id)}>\r\n                                Download Certificate\r\n                                <i className=\"ri-file-shield-2-line ms-1\"></i>\r\n                            </button>\r\n                        </span>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n            <div className=\"mb-6\">\r\n                <h6>Download Media</h6>\r\n                <div className=\"card rounded-1\">\r\n                    <div className=\"card-body d-flex align-items-center justify-content-between p-2\">\r\n                        <div className=\"d-flex align-items-center cursor-pointer flex-shrink-0\" style={{ width: '30%' }}>\r\n                            <div className=\"position-relative rounded-1 bg-light w-100\" style={{ paddingBottom: '100%', width: '100%' }}>\r\n                                <img className=\"img-fluid position-absolute h-100 w-100 object-center-cover box-shadow rounded-1\" src={modalAssetData.postFile} height=\"3221\" width=\"4825\" alt={modalAssetData.name} />\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"block-center align-items-start flex-column flex-grow-1 p-4\">\r\n                            <p className=\"fs-9 fw-medium\">{modalAssetData.content}</p>\r\n                            <button type=\"button\" className={`btn btn-primary ${imageLoading ? `spinner disabled` : ``}`} onClick={this.onClickToDownloadImage(modalAssetData.postFile, modalAssetData.type, modalAssetData.mediaFile)}>\r\n                                Download Media\r\n                                <i className=\"ri-download-2-line ms-1\"></i>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    }\r\n}\r\n\r\nexport default GetRightsDownload;"],"names":["timeZoneImageReplace","imageReplace","repalceData","String","length","includes","replace","_unused","userAgentImageReplace","_unused2","GetRightsDownload","_Component","_inherits","_super","_createSuper","_this","_classCallCheck","_len","arguments","args","Array","_key","call","apply","concat","state","certificateLoading","imageLoading","tncLoading","onClickToDownload","id","event","setState","self","_assertThisInitialized","getCertificate","then","response","file","Blob","data","type","saveAs","setTimeout","catch","ex","onClickToDownloadImage","URL","mediaFile","onRequestDownload","Promise","resolve","resolved","mediaUrl","getURLFromVideo","onClickToDownloadFile","fileName","onRequestTnc","_createClass","key","value","modalAssetData","this","props","_this$state","_jsxs","className","children","_jsx","username","moment","Date","ugcRights","created","format","userIP","timezone","ReactHtmlParser","userAgent","onClick","custom_term_type","window","open","custom_terms","style","width","paddingBottom","src","postFile","height","alt","name","content","Component"],"sourceRoot":""}