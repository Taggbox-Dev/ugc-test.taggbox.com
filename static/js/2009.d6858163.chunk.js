(self.webpackChunkugc_suite_build=self.webpackChunkugc_suite_build||[]).push([[2009],{4962:function(e,t,o){"use strict";o.r(t);var a=o(15671),i=o(43144),n=o(97326),s=o(60136),r=o(29388),c=o(72791),l=o(74912),d=o.n(l),p=o(78687),u=o(54261),m=o(95316),f=o(62860),g=o(94111),h=o(80184),y="cloud.taggbox.com";d().config.update({accessKeyId:"47ABVORKG52UYE1KB28S",secretAccessKey:"pcaTfeokaz28geAAns08H3yaGbOVz6ILgTptu19v"});var b=new(d().S3)({robot:"/wasabi/store",params:{Bucket:y},region:"us-west-1",endpoint:"https://s3.us-west-1.wasabisys.com"});function w(e){for(var t=window.atob(e.split(",")[1]),o=[],a=0;a<t.length;a++)o.push(t.charCodeAt(a));return new Blob([new Uint8Array(o)],{type:"image/jpg"})}var v=function(e){(0,s.Z)(o,e);var t=(0,r.Z)(o);function o(){var e;(0,a.Z)(this,o);for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={newImage:null},e.handleClose=function(){e.props.editMediaCallback(!1)},e.onSaveData=function(t,o){var a=(0,n.Z)(e);if(t.imageBase64&&Object.keys(t).length>0){var i=w(t.imageBase64),s="onsiteupload/images/".concat((0,u.Z)(),".").concat(t.extension),r={ACL:"public-read",Body:i,Bucket:y,ContentType:"image/png",ContentEncoding:"base64",Key:s};b.upload(r).on("httpUploadProgress",(function(e){100==Math.round(e.loaded/e.total*100)&&a.setState({newImage:"https://cloud.taggbox.com/".concat(s)},(function(){return a.onClickToPostEditIMage()}))})).send((function(e){}))}},e.onClickToPostEditIMage=function(){var t=e.props.modalAssetData,o=e.state.newImage,a={action:"4",source:t.collection,destination:String(t.collection),postId:String(t.id),postFile:o||t.postFile,tags:t.tags,content:t.content};e.props.postPostUpdateAction(a,(function(){e.props.editMediaCallback(!1)}))},e}return(0,i.Z)(o,[{key:"render",value:function(){var e=this.props,t=e.editMediaModal,o=e.modalAssetData,a=e.editMediaCallback;return(0,h.jsxs)(m.Z,{size:"full",show:t,className:"editMedia_modal border-0 p-0",backdrop:!1,onHide:a(!1),children:[(0,h.jsx)(m.Z.Header,{className:"border-0 p-0 w-100 border-bottom",closeButton:!0,children:(0,h.jsx)("div",{className:"d-flex justify-content-between align-items-center px-lg-3 px-2 bg-white w-100",children:(0,h.jsx)("div",{className:"d-flex align-items-center flex-wrap",children:(0,h.jsx)("h1",{className:"text-dark font-weight-bold mr-4 fs-6 mb-0",children:"Edit Image"})})})}),(0,h.jsx)(m.Z.Body,{className:"p-0 align-items-stretch justify-content-center",children:(0,h.jsx)(f.ZP,{className:"edit_asset_",source:o.postFile,theme:{palette:{"bg-primary":"#F4F5FA","accent-primary":"#313A53","accent-primary-hover":"#000","accent-primary-active":"#313A53","icons-primary":"#313A53","icons-primary-hover":"#313A53","borders-secondary":"red","borders-primary":"red","borders-strong":"red"},typography:{fontFamily:"Manrope, sans-serif"}},onSave:this.onSaveData,annotationsCommon:{fill:"#000000",stroke:"#000000",strokeWidth:0,shadowOffsetX:0,shadowOffsetY:0,shadowBlur:0,shadowColor:"#000000",shadowOpacity:1,text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit.",fontSize:14,letterSpacing:0,align:"left",fontStyle:"normal"},Text:{text:"Image Editor..."},Rotate:{angle:90,componentType:"slider"},Crop:{autoResize:!0,presetsItems:[{titleKey:"classicTv",descriptionKey:"4:3",ratio:4/3,icon:(0,h.jsx)("div",{children:"ss"})},{titleKey:"cinemascope",descriptionKey:"21:9",ratio:21/9,icon:(0,h.jsx)("div",{children:"29"})}],presetsFolders:[{titleKey:"socialMedia",icon:(0,h.jsx)(h.Fragment,{children:"test"}),groups:[{titleKey:"facebook",items:[{titleKey:"profile",width:180,height:180,descriptionKey:"fbProfilePhotoSize"},{titleKey:"coverPhoto",width:820,height:312,descriptionKey:"fbCoverPhotoSize"}]}]}]},tabsIds:[f.G7.FILTERS,f.G7.ADJUST,f.G7.RESIZE,f.G7.ANNOTATE,f.G7.FINETUNE,f.Tk.TEXT],defaultTabId:f.G7.FILTERS,defaultToolId:f.Tk.TEXT,defaultResizeId:f.Tk.RESIZE})})]})}}]),o}(c.Component);t.default=(0,p.$j)((function(e){return{}}),(function(e){return{postPostUpdateAction:function(t,o){return e((0,g.kN)(t,o))}}}))(v)},28022:function(){}}]);
//# sourceMappingURL=2009.d6858163.chunk.js.map