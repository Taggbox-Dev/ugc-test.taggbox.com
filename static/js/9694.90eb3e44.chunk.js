"use strict";(self.webpackChunkugc_suite_build=self.webpackChunkugc_suite_build||[]).push([[9694],{59694:function(e,t,n){n.r(t);var s=n(1413),o=n(15671),a=n(43144),c=n(97326),l=n(60136),i=n(29388),r=n(72791),u=n(88890),d=n.n(u),m=n(78687),p=n(64802),h=n.n(p),g=n(72426),f=n.n(g),x=n(74342),b=n(13953),y=n(56600),v=n(50732),C=n(34361),k=n(94111),j=n(32480),S=n(90031),w=n(6697),_=n(53841),N=n(80184),F=r.lazy((function(){return n.e(5217).then(n.bind(n,5217))})),A=r.lazy((function(){return n.e(4685).then(n.bind(n,44685))})),R=r.lazy((function(){return n.e(6293).then(n.bind(n,6293))})),Z=r.lazy((function(){return n.e(3422).then(n.bind(n,53422))})),z=r.lazy((function(){return n.e(508).then(n.bind(n,90508))})),L="0701d3d7f8d94e92a65a9cba388b1d96",D="cloud.taggbox.com",U="47ABVORKG52UYE1KB28S",I="pcaTfeokaz28geAAns08H3yaGbOVz6ILgTptu19v",M="https://test.taggbox.com",E=function(e){(0,l.Z)(n,e);var t=(0,i.Z)(n);function n(e){var a;return(0,o.Z)(this,n),(a=t.call(this,e)).state={step:1,client_logo:null,client_logo_name:null,comment:"What a fantastic shot! We loved your post. Would you mind us utilizing it for our brand?",tncName:"TermsAndConditions.docx",tncUrl:"TermsAndConditions.docx",tnc:!1,logoModal:!1,fileModal:!1,activeKey:"ugc-genralRequest",connectedAccount:null,commentError:null,tncUrlError:null,tncError:null,requestedRespone:null},a.onClickToChange=function(e){return function(t){1==a.state.step?a.state.comment&&a.state.tncUrl&&a.state.tnc?a.setState({step:e,activeKey:"ugc-socialAccount"}):(a.state.comment&&0!=String(a.state.comment).length||a.setState({commentError:!0}),a.state.tncUrl||a.setState({tncUrlError:!0}),a.state.tnc||a.setState({tncError:!0})):2==a.state.step?a.state.connectedAccount&&a.onClicktoSendRequest({step:e,activeKey:"ugc-copyUrl"}):a.state.step}},a.onClickToRemoveLogo=function(e){return a.setState({client_logo:null,client_logo_name:null})},a.onLoadLastRequestData=function(){var e=(0,c.Z)(a);(0,C.mO)().then((function(t){var n=t.data.result,o={},a={},c={};n.client_logo&&String(n.client_logo).length>0&&(o={client_logo:n.client_logo}),n.custom_message&&String(n.custom_message).length>0&&(a={comment:n.custom_message}),n.custom_term_type&&String(n.custom_term_type).length>0&&(c={tncName:n.custom_terms,tncUrl:n.custom_term_type}),e.setState((0,s.Z)((0,s.Z)((0,s.Z)({},o),a),c))}))},a.onClickClearFile=function(e){a.setState({tncName:"",tncUrl:""})},a.termsFileDownload=function(){h().saveAs((0,y.F)("media/downloads/Terms&ConditionsforuseofUGC.docx"),"Terms&ConditionsforuseofUGC.docx")},a.modalClose=function(e){return function(t){2==e?a.setState({step:1,activeKey:"ugc-genralRequest"}):a.props.modalClose(!1)}},a.onChangeComment=function(e){return a.setState({comment:e.target.value})},a.onClicktnc=function(e){var t=a.state.tnc;a.setState({tnc:!t,tncError:null})},a.onLogoClose=function(e){a.uppy.cancelAll(),a.setState({logoModal:!1})},a.onLogoOpen=function(e){return a.setState({logoModal:!0},(function(){d()(".uppy-Dashboard-close").click((function(){a.uppy.cancelAll(),a.setState({logoModal:!1})}))}))},a.onFileOpen=function(e){a.setState({fileModal:!0},(function(){d()(".uppy-Dashboard-close").click((function(){a.uppyPostEdit.cancelAll(),a.setState({fileModal:!1})}))}))},a.onFileClose=function(){a.uppyPostEdit.cancelAll(),a.setState({fileModal:!1})},a.onSelected=function(e){a.setState({activeKey:e})},a.onClicktoSendRequest=function(e){var t=a.props,n=t.modalAssetData,o=t.isBulkStatus,l=t.bulkRightsData,i=a.state,r=i.comment,u=i.tncUrl,d=i.tncName,m=i.client_logo,p=(i.connectedAccount,(0,c.Z)(a)),h=[];o?l.map((function(e){h.push({referenceId:e.referenceId,username:e.username,media:e.publishImage,video:(0,j.me)(e.mediaFile)})})):h.push({referenceId:n.referenceId,username:n.username,media:n.publishImage,video:(0,j.me)(n.mediaFile)});var g={feedId:n.feedId,custom_message:r,networkId:n.networkId,brandlink:m||"",termslink:u,custom_term_type:d,assets:h};(0,C.mL)(g).then((function(t){p.props.loadAssetsDataWithDispatch(),p.setState((0,s.Z)({requestedRespone:t.data},e))}))},a.onUpdateData=function(e,t){a.setState({connectedAccount:{provider:e,data:t}})},a.uppy=new v.hS({debug:!0,autoProceed:!1,restrictions:{maxFileSize:5e6,maxNumberOfFiles:1,minNumberOfFiles:1,allowedFileTypes:["image/*"]}}).use(S.ZP,{target:"#a",params:{auth:{key:L},steps:{store:{robot:"/wasabi/store",bucket_region:"us-west-1",bucket:D,key:U,secret:I,path:"postimage/${file.id}"}}},waitForEncoding:!0}).use(w.Z,{target:v.hS.Dashboard,companionUrl:M}).use(_.Z,{target:v.hS.Dashboard,companionUrl:M}),a.uppyPostEdit=new v.hS({debug:!0,autoProceed:!1,restrictions:{maxFileSize:5e6,maxNumberOfFiles:1,minNumberOfFiles:1,allowedFileTypes:["application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document"]}}).use(S.ZP,{target:"#a",params:{auth:{key:L},steps:{store:{robot:"/wasabi/store",bucket_region:"us-west-1",bucket:D,key:U,secret:I,path:"test/${file.id}"}}},waitForEncoding:!0}).use(w.Z,{target:v.hS.Dashboard,companionUrl:M}).use(_.Z,{target:v.hS.Dashboard,companionUrl:M}),a}return(0,a.Z)(n,[{key:"componentDidMount",value:function(){var e=this;this.uppyPostEdit.on("transloadit:result",(function(t,n){var s=n.url.split("/"),o=(s[s.length-1],e.state),a=o.tncName,c=o.tncUrl;c=n.id,a=n.name,e.setState({tncName:a,tncUrl:c,selectedFile:n.id,filename:"https://cloud.taggbox.com/test/".concat(n.id),selected:"https://cloud.taggbox.com/test/".concat(n.id)},(function(){setTimeout((function(){e.uppyPostEdit.cancelAll(),e.setState({fileModal:!1})}),300)}))})),this.uppy.on("transloadit:result",(function(t,n){var s=e.state,o=s.client_logo,a=s.client_logo_name;o="https://cloud.taggbox.com/postimage/".concat(n.id),a=n.name,e.setState({client_logo:o,client_logo_name:a,selectedlogoFile:n.id,logofilename:"https://cloud.taggbox.com/postimage/".concat(n.id),logoselected:"https://cloud.taggbox.com/postimage/".concat(n.id)},(function(){setTimeout((function(){e.uppy.cancelAll(),e.setState({logoModal:!1})}),300)}))})),this.onLoadLastRequestData()}},{key:"componentWillUnmount",value:function(){this.uppy.close()}},{key:"render",value:function(){var e=this.props.modalAssetData,t=this.state,n=t.step,s=t.activeKey,o=t.connectedAccount,a=t.requestedRespone,c=t.comment;return e&&Object.keys(e).length>0?(0,N.jsxs)("div",{className:"rights_modal_sidebar position-relative",children:[(0,N.jsx)("div",{className:"rights_modal_aside_wrap",children:null==e.ugcRights?(0,N.jsxs)(x.Z.Container,{activeKey:s,onSelect:this.onSelected,children:[(0,N.jsx)("div",{className:"ugc-wizard-nav",children:(0,N.jsxs)(b.Z,{variant:"nav",className:"bg-light justify-content-between row gx-0",children:[(0,N.jsx)(b.Z.Item,{className:"col-4",children:(0,N.jsxs)(b.Z.Link,{className:"py-3 py-xl-4 block-center ".concat(1==n||2==n||3==n?"active":""),eventKey:"ugc-genralRequest",children:[(0,N.jsx)("span",{className:"svg-icon text-success",children:(0,N.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",children:[(0,N.jsx)("path",{fill:"none",d:"M0 0h24v24H0z"}),(0,N.jsx)("path",{d:"M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm-.997-6l7.07-7.071-1.414-1.414-5.656 5.657-2.829-2.829-1.414 1.414L11.003 16z",fill:"currentColor"})]})}),(0,N.jsx)("span",{className:"fw-bold text-nowrap",children:"General Request"})]})}),(0,N.jsx)(b.Z.Item,{className:"col-4",children:(0,N.jsxs)(b.Z.Link,{className:"py-3 py-xl-4 block-center ".concat(2==n||3==n?"active":"disabled"),eventKey:"ugc-socialAccount",children:[(0,N.jsx)("span",{className:"svg-icon",children:(0,N.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",children:[(0,N.jsx)("path",{fill:"none",d:"M0 0h24v24H0z"}),(0,N.jsx)("path",{className:"checkIco",d:"M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm0-2a8 8 0 1 0 0-16 8 8 0 0 0 0 16zm-.997-4L6.76 11.757l1.414-1.414 2.829 2.829 5.656-5.657 1.415 1.414L11.003 16z",fill:"currentColor"}),(0,N.jsx)("path",{className:"checkIcoFilled",d:"M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm-.997-6l7.07-7.071-1.414-1.414-5.656 5.657-2.829-2.829-1.414 1.414L11.003 16z",fill:"currentColor"})]})}),(0,N.jsx)("span",{className:"fw-bold text-nowrap",children:"Social Account"})]})}),(0,N.jsx)(b.Z.Item,{className:"col-4",children:(0,N.jsxs)(b.Z.Link,{className:"py-3 py-xl-4 block-center ".concat(3==n?"active":"disabled"),eventKey:"ugc-copyUrl",children:[(0,N.jsx)("span",{className:"svg-icon",children:(0,N.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",children:[(0,N.jsx)("path",{fill:"none",d:"M0 0h24v24H0z"}),(0,N.jsx)("path",{className:"checkIco",d:"M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm0-2a8 8 0 1 0 0-16 8 8 0 0 0 0 16zm-.997-4L6.76 11.757l1.414-1.414 2.829 2.829 5.656-5.657 1.415 1.414L11.003 16z",fill:"currentColor"}),(0,N.jsx)("path",{className:"checkIcoFilled",d:"M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm-.997-6l7.07-7.071-1.414-1.414-5.656 5.657-2.829-2.829-1.414 1.414L11.003 16z",fill:"currentColor"})]})}),(0,N.jsx)("span",{className:"fw-bold text-nowrap",children:"Copy URL"})]})})]})}),(0,N.jsxs)(x.Z.Content,{children:[(0,N.jsx)(x.Z.Pane,{eventKey:"ugc-genralRequest",children:(0,N.jsx)(r.Suspense,{fallback:(0,N.jsx)(N.Fragment,{}),children:(0,N.jsx)(F,{state:this.state,onChangeComment:this.onChangeComment,onClicktnc:this.onClicktnc,onClickClearFile:this.onClickClearFile,uppyPostEdit:this.uppyPostEdit,uppy:this.uppy,onLogoClose:this.onLogoClose,onLogoOpen:this.onLogoOpen,onClickToRemoveLogo:this.onClickToRemoveLogo,onFileOpen:this.onFileOpen,onFileClose:this.onFileClose})})}),(0,N.jsx)(x.Z.Pane,{eventKey:"ugc-socialAccount",children:(0,N.jsx)(r.Suspense,{fallback:(0,N.jsx)(N.Fragment,{}),children:(0,N.jsx)(A,{modalAssetData:e,onUpdateData:this.onUpdateData,connectedAccount:o})})}),(0,N.jsx)(x.Z.Pane,{eventKey:"ugc-copyUrl",children:(0,N.jsx)(r.Suspense,{fallback:(0,N.jsx)(N.Fragment,{}),children:(0,N.jsx)(R,{modalAssetData:e,requestedRespone:a,comment:c})})})]})]}):e.ugcRights&&Object.keys(e.ugcRights).length>0&&1==e.ugcRights.status?(0,N.jsx)(r.Suspense,{fallback:(0,N.jsx)(N.Fragment,{}),children:(0,N.jsx)(Z,{days:parseInt(30)-(parseInt(parseInt(f()().diff(f()(e.ugcRights.created),"days")))+parseInt(1)),expireStatus:!0,modalAssetData:e})}):e.ugcRights&&Object.keys(e.ugcRights).length>0&&2==e.ugcRights.status?(0,N.jsx)(r.Suspense,{fallback:(0,N.jsx)(N.Fragment,{}),children:(0,N.jsx)(z,{modalAssetData:e})}):null}),null==e.ugcRights?(0,N.jsxs)("div",{className:"rights_modal_actions text-center modal-footer w-100",children:[1==n||2==n?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("button",{type:"button",className:"btn btn-secondary me-2",onClick:this.modalClose(n),children:1==n?"Cancel":2==n?"Back":""}),(0,N.jsx)("button",{type:"button",className:"btn btn-primary",onClick:this.onClickToChange(1==n?2:2==n?3:4),children:"Next Step"})]}):null,3==n?(0,N.jsx)("button",{type:"button",className:"btn btn-secondary me-2",onClick:this.modalClose(n),children:"Done"}):null]}):null]}):null}}]),n}(r.Component);t.default=(0,m.$j)((function(e){return{}}),(function(e){return{loadAssetsDataWithDispatch:function(){return e((0,k.oF)())}}}))(E)}}]);
//# sourceMappingURL=9694.90eb3e44.chunk.js.map