"use strict";(self.webpackChunkugc_suite_build=self.webpackChunkugc_suite_build||[]).push([[8734],{98734:function(e,t,s){s.r(t);var a=s(1413),o=s(15671),n=s(43144),l=s(60136),i=s(29388),d=s(72791),r=s(89743),c=s(9085),u=s(78687),h=s(54261),p=s(64802),f=s(20974),g=s(18622),m=s(21830),S=s.n(m),M=s(94111),w=s(46305),x=s(80184),k=d.lazy((function(){return s.e(6204).then(s.bind(s,6204))})),A=d.lazy((function(){return s.e(9420).then(s.bind(s,59420))})),b=d.lazy((function(){return s.e(518).then(s.bind(s,40518))})),j=d.lazy((function(){return s.e(9012).then(s.bind(s,79012))})),v=d.lazy((function(){return s.e(8174).then(s.bind(s,90179))})),T=d.lazy((function(){return s.e(1753).then(s.bind(s,61753))})),y=d.lazy((function(){return Promise.all([s.e(1330),s.e(4962)]).then(s.bind(s,4962))})),D=d.lazy((function(){return s.e(1021).then(s.bind(s,51021))})),C=d.lazy((function(){return s.e(9730).then(s.bind(s,39730))})),P=d.lazy((function(){return Promise.resolve().then(s.bind(s,77730))})),I=d.lazy((function(){return s.e(5497).then(s.bind(s,85497))})),R=d.lazy((function(){return Promise.resolve().then(s.bind(s,66515))})),N=function(e){(0,l.Z)(s,e);var t=(0,i.Z)(s);function s(){var e;(0,o.Z)(this,s);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(e=t.call.apply(t,[this].concat(l))).state={imagesData:[],page:0,showModal:!1,rightsShowModal:!1,editMediaShowModal:!1,addTagShowModal:!1,modalAssetData:null,selectAll:!1,bulkRightsData:null,currentIndex:null},e.handleModalShow=function(t,s){return function(a){return e.setState({showModal:!0,modalAssetData:t,currentIndex:s},(function(){return e.props.onAssetToAllReSelect()}))}},e.handleModalShowC=function(t,s){e.setState({showModal:!0,modalAssetData:s})},e.handleCallback=function(t){e.setState({showModal:t,modalAssetData:t?e.state.modalAssetData:null,currentIndex:null})},e.slideAssets=function(t){return function(s){var a=e.props.myAssetsData;if(-1===t){var o=a.assets.length-1;e.setState({currentIndex:o,modalAssetData:a.assets[o]})}else{var n=a.assets.length==t?0:t;e.setState({currentIndex:n,modalAssetData:a.assets[n]})}}},e.rightsHandleModalShow=function(t){return function(s){if(t)e.setState({rightsShowModal:!0,modalAssetData:t,bulkRightsData:null});else{var a=e.props.myAssetsData,o=!1,n=[],l=!1,i=[],d=!1,r=[];if(Object.keys(a.selectedData).map((function(e){var t=a.assets.filter((function(t){return t.id==e}));t&&t.length>0&&r.push(t[0])})),r.map((function(e){1==e.type?o=!0:!e.ugcRights||1!=e.ugcRights.status&&2!=e.ugcRights.status?e.Feed&&Object.keys(e.Feed).length>0&&(1==e.networkId||3==e.networkId&&62==e.Feed.filterId||7==e.networkId||8==e.networkId||6==e.networkId||11==e.networkId||21==e.networkId||18==e.networkId&&(24==e.Feed.filterId||25==e.Feed.filterId||26==e.Feed.filterId)||28==e.networkId)?(n.push(!0),i.push(!1)):(i.push(!0),n.push(!1)):l=!0,0==d&&18!=e.networkId&&(d=!0)})),o)return void c.Am.error("UGC Rights request works for media posts. Please remove text posts from your selection.");if(l)return void c.Am.error("You cannot send request on approved/pending post!!");if(n.includes(!1))return void c.Am.error("You cannot send request!!");if(r.length>10)return void c.Am.error("You cannot select user post more than 10!");e.setState({rightsShowModal:!0,modalAssetData:r[0],bulkRightsData:r})}}},e.rightsHandleCallback=function(t){e.setState({rightsShowModal:t,modalAssetData:null,bulkRightsData:null})},e.editMediaModalShow=function(t){return function(s){e.setState({editMediaShowModal:!0,modalAssetData:t})}},e.editMediaCallback=function(t){return function(s){e.setState({editMediaShowModal:t,modalAssetData:null})}},e.addTagModalShow=function(t){return function(s){e.setState({addTagShowModal:!0,modalAssetData:t})}},e.addTagCallback=function(t){e.setState({addTagShowModal:t,modalAssetData:null})},e.updateAssetStatus=function(){var t=e.state.modalAssetData;e.setState((function(e){return{modalAssetData:(0,a.Z)((0,a.Z)({},e.modalAssetData),{},{status:1==t.status?2:1})}}),(function(){return e.props.postStatusUpdate(t)}))},e.deleteAsset=function(t){return function(s){var a=e.props.postMoveToTrash;S().fire({title:"Are you sure?",text:"Asset are stored in the trash for 30 days before being permanently deleted.",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!"}).then((function(e){e.isConfirmed&&a({action:"5",source:"",destination:"",postId:String(t.referenceId),postFile:"",tags:"",content:""},(function(){}))}))}},e.checkSelectAll=function(){e.setState({selectAll:!e.state.selectAll})},e.exportDonwloadMedia=function(e,t,s){(0,p.saveAs)(e,"".concat((0,h.Z)(),".jpg")),3!=t&&5!=t||!s||(0,p.saveAs)(s,"".concat((0,h.Z)(),".mp4"))},e.onSelectToMove=function(t){return function(s){return e.props.MoveToAll(t,(function(){return e.props.onLoadCollectionList()}))}},e.onSelectToTags=function(e){return function(e){}},e.onSelectToCopy=function(t){return function(s){return e.props.CopyAll(t,(function(){return e.props.onLoadCollectionList()}))}},e.onSelectMoveToTrash=function(t){return e.props.MoveToTrashAll((function(){return e.props.onLoadCollectionList()}))},e.onSelectPostStatus=function(t){return function(s){return e.props.statusUpdateAll(t)}},e.onClickToOpenUpload=function(t){var s=e.props.uploadStatus;e.props.uploadModalClick(!s)},e.onUpdateRejectedRightDetail=function(t){var s=e.state.modalAssetData;s&&s.ugcRights&&Object.keys(s.ugcRights).length>0&&(s.ugcRights=null,e.setState({modalAssetData:s}))},e}return(0,n.Z)(s,[{key:"render",value:function(){var e=this,t=this.state,s=(t.imagesData,t.showModal),o=t.rightsShowModal,n=t.editMediaShowModal,l=t.addTagShowModal,i=t.modalAssetData,c=(t.selectAll,t.bulkRightsData),u=this.props,h=u.myAssetsData,p=u.setCurrentPage,m=u.perPage,S=u.currentPage,M=u.setPageLimit,w=u.pageLimitOption,N=u.networkData,F=u.postPinToTop,U=u.postPostMove,z=u.postPostCopy,_=u.postPostSaveCopy,H=u.postPostUpdate,O=u.clickToCheckStatusAll,Z=u.collections,L=u.onClickToSingleCheck,Y=u.isCollection,q=u.postStatusUpdate,B=u.collectionId,G=u.postRefresh;return(0,x.jsxs)(x.Fragment,{children:[h&&h.assets&&h.assets.length>0?(0,x.jsxs)("div",{className:"d-flex align-items-end justify-content-between flex-wrap",children:[(0,x.jsxs)("div",{className:"d-flex align-items-center",children:[(0,x.jsxs)("label",{className:"form-check my-2 flex-shrink-0 me-2 align-items-center bg-light px-3 py-2 rounded-1",children:[(0,x.jsx)("input",{className:"form-check-input",type:"checkbox",name:"select-all",onChange:O,checked:h.isSelectAll}),(0,x.jsxs)("span",{className:"form-check-label text-dark",children:[Object.keys(h.selectedData).length>0?Object.keys(h.selectedData).length:h.total," Assets"]})]}),(0,x.jsx)(I,{myAssetsData:h,addTagModalShow:this.addTagModalShow,collections:Z,postPostMove:U,onSelectToMove:this.onSelectToMove,onSelectToTags:this.onSelectToTags,onSelectToCopy:this.onSelectToCopy,onSelectMoveToTrash:this.onSelectMoveToTrash,rightsHandleModalShow:this.rightsHandleModalShow,onSelectPostStatus:this.onSelectPostStatus})]}),(0,x.jsxs)("div",{className:"d-flex align-items-center flex-wrap enteries_count",children:[(0,x.jsxs)("div",{className:"block-center flex-shrink-0 me-2 my-2",children:[(0,x.jsx)("span",{className:"me-1",children:"Show"}),(0,x.jsx)(g.ZP,{className:"selectpicker selectpicker-sm",classNamePrefix:"selectpicker",value:w,isLoading:!1,isClearable:!1,isSearchable:!1,onChange:M,options:[{value:"25",label:"25"},{value:"50",label:"50"},{value:"100",label:"100"},{value:"200",label:"200"}]}),(0,x.jsx)("span",{className:"ms-1",children:"entries"})]}),h&&Object.keys(h).length>0?(0,x.jsx)(P,{itemsCount:h.total,itemsPerPage:m,currentPage:S,setCurrentPage:p,alwaysShown:!1}):null]})]}):null,h&&Object.keys(h).length>0?(0,x.jsxs)(d.Suspense,{fallback:(0,x.jsx)(x.Fragment,{}),children:[(0,x.jsx)(j,{count:h.duplicateAssets,isCollection:Y,collectionId:B,history:this.props.history})," "]}):null,(0,x.jsx)(r.Z,{className:"gx-2 gx-xl-3",children:h&&h.assets&&h.assets.length>0?h.assets.map((function(t,s){var a=18==t.networkId?2:t.networkId,o=N.filter((function(e){return e.id==a}));return(0,x.jsxs)("div",{className:"assetsItem","data-id":t.id,children:[(0,x.jsx)(f.W4,{id:"cm_assets_dropDown-".concat(s),onContextMenu:function(e){e.preventDefault()},children:(0,x.jsx)("div",{className:"card card-custom gutter-b".concat(t.isChecked?" active":""),children:(0,x.jsxs)("div",{className:"card-body d-flex flex-column p-2",children:[(0,x.jsxs)("div",{className:"d-flex align-items-center justify-content-between pb-2",children:[(0,x.jsx)(d.Suspense,{fallback:(0,x.jsx)(x.Fragment,{}),children:(0,x.jsx)(A,{postPinToTop:F,postPostMove:U,postPostCopy:z,postPostSaveCopy:_,postPostUpdate:H,asset:t,addTagModalShow:e.addTagModalShow,rightsHandleModalShow:e.rightsHandleModalShow,editMediaModalShow:e.editMediaModalShow,handleModalShow:e.handleModalShow,deleteAsset:e.deleteAsset,onClickToSingleCheck:L,updateIndex:s,exportDonwloadMedia:e.exportDonwloadMedia,collections:Z,history:e.props.history,postStatusUpdate:q,postRefresh:G})}),(0,x.jsx)(f.W4,{id:"cm_assets_dropDown-".concat(s),onContextMenu:function(e){e.preventDefault()},mouseButton:0,children:(0,x.jsx)("i",{className:"ri-more-fill icon-5"})})]}),(0,x.jsx)("div",{className:"d-flex align-items-center cursor-pointer",onClick:e.handleModalShow(t,s),children:(0,x.jsx)(d.Suspense,{fallback:(0,x.jsx)(x.Fragment,{}),children:(0,x.jsx)(k,{asset:t,animation:"fade",socialNetwork:o},t.publishImage)})})]})})}),(0,x.jsx)(f.xV,{className:"dropdown-menu show context_menu px-0",id:"cm_assets_dropDown-".concat(s),children:(0,x.jsxs)(d.Suspense,{fallback:(0,x.jsx)(x.Fragment,{}),children:[" ",(0,x.jsx)(b,{collections:Z,postPostCopy:z,editMediaModalShow:e.editMediaModalShow,handleModalShow:e.handleModalShow,asset:t,rightsHandleModalShow:e.rightsHandleModalShow,exportDonwloadMedia:e.exportDonwloadMedia,postPostMove:U,deleteAsset:e.deleteAsset,history:e.props.history,addTagModalShow:e.addTagModalShow,isCollection:Y})]})})]},"post_data".concat(t.id))})):(0,x.jsx)(R,{title:"No Assets Available",desc:"Uh-oh! It seems there are no assets available here. Get started by uploading some content.",icon:"assets-placeholder",method:this.onClickToOpenUpload,methodTitle:"Upload Assets",containerSize:450,iconHeight:32,iconWidth:32})}),(0,x.jsx)(d.Suspense,{fallback:(0,x.jsx)(x.Fragment,{}),children:(0,x.jsx)(v,(0,a.Z)({},this.props))}),(0,x.jsx)(d.Suspense,{fallback:(0,x.jsx)(x.Fragment,{}),children:i?(0,x.jsx)(T,{modalCallback:this.handleCallback,modalToggle:s,modalAssetData:i,exportDonwloadMedia:this.exportDonwloadMedia,rightsHandleModalShow:this.rightsHandleModalShow,addTagModalShow:this.addTagModalShow,postPostCopy:z,deleteAsset:this.deleteAsset,postPostUpdate:H,collections:Z,history:this.props.history,editMediaModalShow:this.editMediaModalShow,postPostMove:U,slideAssets:this.slideAssets,currentIndex:this.state.currentIndex,updateAssetStatus:this.updateAssetStatus}):null}),(0,x.jsx)(d.Suspense,{fallback:(0,x.jsx)(x.Fragment,{}),children:i?(0,x.jsx)(y,{editMediaCallback:this.editMediaCallback,editMediaModal:n,modalAssetData:i}):null}),(0,x.jsx)(d.Suspense,{fallback:(0,x.jsx)(x.Fragment,{}),children:o?(0,x.jsx)(D,{rightsModalCallback:this.rightsHandleCallback,rightsModalToggle:o,modalAssetData:i,networkData:N,bulkRightsData:c,onUpdateRejectedRightDetail:this.onUpdateRejectedRightDetail}):null}),(0,x.jsx)(d.Suspense,{fallback:(0,x.jsx)(x.Fragment,{}),children:l?(0,x.jsx)(C,{addTagCallback:this.addTagCallback,addTagShowModal:l,modalAssetData:i}):null})]})}}]),s}(d.Component);t.default=(0,u.$j)((function(e){return{networkData:e.networks.networkData,uploadStatus:e.modalstatus.uploadStatus}}),(function(e){return{postMoveToTrash:function(t,s){return e((0,M.Ah)(t,s))},MoveToTrashAll:function(t){return e((0,M.ao)(t))},CopyAll:function(t,s){return e((0,M.Gd)(t,s))},MoveToAll:function(t,s){return e((0,M.xM)(t,s))},ClearSelection:function(){return e((0,M.Yp)())},uploadModalClick:function(t){return e((0,w.lN)(t))},onAssetToAllReSelect:function(){return e((0,M.RO)())},statusUpdateAll:function(t){return e((0,M.Ie)(t))}}}))(N)}}]);
//# sourceMappingURL=8734.66015b78.chunk.js.map