"use strict";(self.webpackChunkugc_suite_build=self.webpackChunkugc_suite_build||[]).push([[6776],{86776:function(e,n,t){t.r(n);var s=t(15671),a=t(43144),o=t(60136),l=t(29388),i=t(47313),c=t(53768),r=t(70975),d=t(95668),u=t(76666),m=t.n(u),p=t(3737),h=t(78296),b=t(17861),g=t(36122),x=t(40144),y=t(57422),f=t(9915),k=t(46417),j=i.lazy((function(){return Promise.all([t.e(6202),t.e(949)]).then(t.bind(t,30949))})),v=function(e){(0,o.Z)(t,e);var n=(0,l.Z)(t);function t(e){var a;return(0,s.Z)(this,t),(a=n.call(this,e)).state={backgroundModal:!1},a.onBackgroundClose=function(e){a.uppy.cancelAll(),a.uppy.removeFile(),a.setState({backgroundModal:!1})},a.onBackgroundOpen=function(e){a.setState({backgroundModal:!0},(function(){m()(".uppy-Dashboard-close").click((function(){a.uppy.cancelAll(),a.uppy.removeFile(),a.setState({backgroundModal:!1})}))}))},a.uppy=new p.hS({debug:!0,autoProceed:!1,restrictions:{maxFileSize:5e6,maxNumberOfFiles:1,minNumberOfFiles:1,allowedFileTypes:["image/*"]}}).use(h.ZP,{target:"#a",params:{auth:{key:y.a},steps:{store:{robot:"/wasabi/store",bucket_region:"us-west-1",bucket:y.B3,key:y.y9,secret:y._P,path:"ugc-suite/tmp/${file.id}.${file.ext}"}}},waitForEncoding:!0}).use(b.Z,{target:p.hS.Dashboard,companionUrl:y.e0}).use(g.Z,{target:p.hS.Dashboard,companionUrl:y.e0}),a}return(0,a.Z)(t,[{key:"componentDidMount",value:function(){var e=this,n=this;this.uppy.on("transloadit:result",(function(t,s){n.props.onClickTouploadImage("".concat(f.H_J,"tmp/").concat(s.id,".").concat(s.ext),s.id,(function(){setTimeout((function(){e.uppy.cancelAll(),e.uppy.removeFile(),e.setState({backgroundModal:!1})}),300)}))}))}},{key:"render",value:function(){var e=this.props,n=e.onClickEnableBackground,t=e.onClickBackgroundColor,s=e.background,a=e.backgroundImageRemove,o=this.state.backgroundModal;return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)(c.Z.Item,{eventKey:"2",className:"pb-3",children:[(0,k.jsx)(c.Z.Header,{className:"w-100",children:(0,k.jsx)("span",{className:"fs-9 fw-medium",children:"Background"})}),(0,k.jsxs)(c.Z.Body,{className:"border rounded-1 mt-1 p-2",children:[(0,k.jsxs)("label",{className:"form-check form-switch py-2 align-items-center justify-content-between ".concat(s.status?"border-bottom":""," h-40px py-1"),children:[(0,k.jsx)("span",{className:"form-check-label ps-0 fs-9 fw-medium text-gray-800",children:"Enable Background"}),(0,k.jsx)("input",{className:"form-check-input",type:"checkbox",name:"autoplayVideos",checked:s.status,onChange:n})]}),s.status?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)("label",{className:"d-flex align-items-center justify-content-between border-bottom h-40px py-1 position-relative",children:[(0,k.jsx)("span",{className:"ms-0 fs-9 fw-medium",children:"Background Color"}),(0,k.jsx)(i.Suspense,{fallback:(0,k.jsx)(k.Fragment,{}),children:(0,k.jsx)(j,{color:s.color,onChangeColor:t})})]}),(0,k.jsxs)("div",{className:"d-flex align-items-start justify-content-between flex-column py-1",children:[(0,k.jsx)("p",{className:"fs-9 fw-medium text-start mt-2",children:"Upload Background Image"}),(0,k.jsx)("button",{type:"button",className:"btn btn-secondary btn-sm w-100 mb-2",onClick:this.onBackgroundOpen,children:"Attach Image"}),s.image?(0,k.jsx)("div",{className:"card card-custom w-100 rounded-1",children:(0,k.jsx)("div",{className:"card-body d-flex flex-column p-1",children:(0,k.jsxs)("div",{className:"position-relative d-flex align-items-center cursor-pointer",children:[(0,k.jsx)("div",{className:"position-relative rounded-1 bg-light overflow-hidden w-100",style:{paddingBottom:"66%"},children:(0,k.jsx)("img",{className:"object-center-contain position-absolute",loading:"lazy",src:s.image,height:500,width:300,alt:"suit"})}),(0,k.jsx)("div",{className:"removeBanner position-absolute end-0 top-0 pt-2 pe-2",children:(0,k.jsxs)("div",{className:"d-flex align-items-center justify-content-end",children:[(0,k.jsx)(r.Z,{placement:"top",overlay:(0,k.jsx)(d.Z,{children:"Edit"}),children:(0,k.jsx)("button",{type:"button",className:"btn btn-icon btn-secondary h-26px w-26px me-2",onClick:this.onBackgroundOpen,children:(0,k.jsx)("i",{className:"ri-edit-box-line text-gray-700 me-0"})})}),(0,k.jsx)(r.Z,{placement:"top",overlay:(0,k.jsx)(d.Z,{children:"Remove"}),children:(0,k.jsx)("button",{type:"button",className:"btn btn-icon btn-secondary h-26px w-26px",onClick:a,children:(0,k.jsx)("i",{className:"ri-delete-bin-6-line text-gray-700 me-0"})})})]})})]})})}):null]})]}):null]})]}),o?(0,k.jsx)(x.j6,{animateOpenClose:!0,proudlyDisplayPoweredByUppy:!1,inline:!1,showProgressDetails:!0,height:750,browserBackButtonClose:!0,showRemoveButtonAfterComplete:!1,uppy:this.uppy,open:!0,onRequestCloseModal:this.onBackgroundClose,closeAfterFinish:!0,plugins:[]}):null]})}}]),t}(i.Component);n.default=v}}]);